(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{n5rP:function(t,n,i){"use strict";i.r(n);i("uMT3");var e=i("9rUL"),o=i.n(e),r=i("96EZ"),s=i("lslW"),a=i("j87v"),c=(i("rGqo"),i("yt8O"),i("RW0V"),i("L2JU")),l=i("rVGs"),u=i("ugd9"),d=i("Jzu6"),v=i("x2J8");function f(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var p={name:"AllergoboxDetails",components:{DsBodyText:l.default,DsTitle:u.default,VueImage:d.default,PlButton:v.default},computed:function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(n){f(t,n,i[n])})}return t}({},Object(c.c)({links:"links"}))},m=i("KHd+"),_=Object(m.a)(p,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"allergobox-details"},[i("ds-title",{attrs:{tag:"h3",weight:"bold",size:"s"}},[t._v("\n    "+t._s(t._f("trans")("product.info.allergobox.title"))+"\n  ")]),t._v(" "),i("div",{staticClass:"allergobox-details__content"},[i("div",[i("ds-body-text",{attrs:{tag:"p",weight:"light"}},[t._v("\n        "+t._s(t._f("trans")("product.info.allergobox.details"))+"\n      ")]),t._v(" "),t.links&&t.links.allergoboxEditorial?i("pl-button",{staticClass:"allergobox-details__link",attrs:{link:t.links.allergoboxEditorial,target:"_blank",variation:"tertiary","data-testid":"allergobox-learn-more-button"}},[t._v("\n        "+t._s(t._f("trans")("learn-more"))+"\n      ")]):t._e()],1),t._v(" "),i("div",{staticClass:"allergobox-details__block-img"},[i("vue-image",{staticClass:"allergobox-details__img",attrs:{alt:"",src:"/images/logo-consotrust.svg"}}),t._v(" "),i("vue-image",{staticClass:"allergobox-details__img",attrs:{alt:"",src:"/images/logo-allergobox.svg"}})],1)])],1)},[],!1,null,null,null).exports,b=(i("91GP"),i("idjV")),g=i.n(b),h=i("Sp0H"),y=i("zkdu"),k=i("heUn"),C=i("YOU7");function P(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var O={name:"PdpSubstitution",components:{Drawer:y.default,Substitutions:k.default,DsProductCard:C.default},props:{product:{type:Object,required:!0},renderContext:{type:Object,default:function(){return{}}}},data:function(){return{localRenderContext:Object.assign({},this.renderContext),substitutedProduct:null}},computed:{substitutionsData:function(){return this.product.relationships.substitution.data}},created:function(){var t=this;this.substitutedProduct=this.product.relationships.substitution.data.pop(),h.a.$on("showSubstitutions",function(n){h.a.$emit("openDrawer","pdp-substitution"),t.indexEntity({type:"showSubstitutionsProducts",data:{ean:n,price:g.a.get(t.substitutedProduct,"attributes.price.price",null),productList:t.substitutionsData}}),t.trackSubstitutionsProducts()})},methods:function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(n){P(t,n,i[n])})}return t}({},Object(c.b)({indexEntity:"analytics/indexEntity",analyticsTrackEvent:"analytics/trackEvent"}),{trackSubstitutionsProducts:function(){this.analyticsTrackEvent({eventName:"showSubstitutionsProducts",context:this.localRenderContext})}})},S=Object(m.a)(O,function(){var t=this.$createElement,n=this._self._c||t;return n("drawer",{attrs:{id:"pdp-substitution",position:"bottom","close-button":!0}},[n("substitutions",{attrs:{"source-title":this._f("trans")("substitutions.product.label"),options:this.substitutionsData,"options-title":this._f("trans")("substitutions.replacements.label"),"render-context":this.localRenderContext}},[n("ds-product-card",{attrs:{product:this.substitutedProduct,"render-context":this.localRenderContext}})],1)],1)},[],!1,null,null,null).exports,x=i("Kmp2"),w=(i("xfY5"),i("IB+b")),I={name:"ParagraphTruncate",props:{content:{type:String,default:""},limitChar:{type:Number,default:100},textSeeMore:{type:String,default:"see-more"}},data:function(){return{truncate:!1}},mounted:function(){this.truncate=this.content.length>this.limitChar},computed:{trimmedContent:function(){return this.truncate?Object(w.d)(this.content,this.limitChar):this.content}}},j=Object(m.a)(I,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"paragraph-truncate"},[i("p",{staticClass:"paragraph-truncate__paragraph"},[i("span",{domProps:{innerHTML:t._s(t.trimmedContent)}}),t._v(" "),t.truncate?i("button",{staticClass:"paragraph-truncate__see-more",on:{click:function(n){t.truncate=!1}}},[t._v("\n      "+t._s(t._f("trans")(t.textSeeMore))+"\n    ")]):t._e()])])},[],!1,null,null,null).exports,E=i("TPQ+"),T=i("ML/U"),D=i("BnyZ"),M={name:"InnitAdditives",components:{AccordionItem:i("wpVB").a,DsTitle:u.default,DsBodyText:l.default},props:{additives:{type:Array,required:!0},isCustomScore:{type:Boolean,default:!1}},computed:{levels:function(){return this.additives.reduce(function(t,n){return t[n.level.key]&&t[n.level.key].push(n),t},{high:[],moderate:[],low:[],safe:[]})},count:function(){return this.additives.length}},methods:{getTransKey:function(t){return this.isCustomScore&&"low"===t?"product.info.innit.".concat(t,".customscore"):"product.info.innit.".concat(t)}}},B=Object(m.a)(M,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"innit-additives"},[i("ds-title",{staticClass:"innit-additives__header",attrs:{tag:"h3"}},[t._v("\n    "+t._s(t._f("transChoice")("product.info.innit.additive",t.count))+"\n  ")]),t._v(" "),i("div",{staticClass:"innit-additives__block"},t._l(t.levels,function(n,e,o){return i("accordion-item",{key:o,class:[{disabled:!n.length},e],attrs:{label:t.$transChoice(t.getTransKey(e),n.length),"is-compact":!1,"is-expanded":!1}},t._l(n,function(n,e){return i("ds-body-text",{key:e,attrs:{size:"s"}},[t._v("\n        "+t._s(n.name.code)+" "+t._s(n.type.display)+" - "+t._s(n.name.display)+"\n      ")])}),1)}),1)],1)},[],!1,null,null,null).exports,L={name:"NutrientList",components:{DsBodyText:l.default,DsTitle:u.default},props:{nutrients:{type:Object,required:!0}},methods:{getValue:function(t){var n,i,e,o=null==t?void 0:null===(n=t.amount)||void 0===n?void 0:n.value,r=null==t?void 0:null===(i=t.amount)||void 0===i?void 0:null===(e=i.unit)||void 0===e?void 0:e.abbreviation;return o>=0?"".concat(o," ").concat(r):this.$trans("common.any")}}},$=Object(m.a)(L,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"innit-nutrients"},[i("ds-title",{staticClass:"innit-nutrients__header",attrs:{tag:"h3"}},[t._v("\n    "+t._s(t._f("trans")("product.info.innit.nutrients.title"))+"\n    "),t._v(" "),"volume"===t.nutrients.expressedIn?i("span",{staticClass:"innit-nutrients__unit"},[t._v(t._s(t._f("trans")("product.info.innit.nutrients.perVolume")))]):i("span",{staticClass:"innit-nutrients__unit"},[t._v(t._s(t._f("trans")("product.info.innit.nutrients.perWeight")))])]),t._v(" "),i("div",{staticClass:"innit-nutrients__block"},t._l(t.nutrients.collection,function(n,e){return i("div",{key:e,staticClass:"innit-nutrients__line"},[i("ds-body-text",{staticClass:"innit-nutrients__name"},[t._v("\n        "+t._s(n.name)+"\n      ")]),t._v(" "),i("div",{staticClass:"innit-nutrients__bloc-right"},[i("div",{class:"innit-nutrients__tag innit-nutrients__tag--"+(n.rating||"none"),attrs:{"data-testid":"nutrient-tag"}}),t._v(" "),i("ds-body-text",{staticClass:"innit-nutrients__value"},[t._v("\n          "+t._s(t.getValue(n))+"\n        ")])],1)],1)}),0)],1)},[],!1,null,null,null).exports,q={name:"InnitOrganic",components:{ProductBadge:i("4Arf").a,DsTitle:u.default,DsBodyText:l.default},props:{qualifications:{type:Array,default:function(){return[]}}},computed:{isOrganic:function(){return this.qualifications.some(function(t){return"organic"===t.key})},flag:function(){return this.isOrganic?"flag.common.organic":"flag.common.nonorganic"}}},A=Object(m.a)(q,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"innit-organic"},[i("ds-title",{staticClass:"innit-organic__header",attrs:{tag:"h3"}},[t._v("\n    "+t._s(t._f("trans")("product.info.innit.organic.title"))+"\n  ")]),t._v(" "),i("div",{staticClass:"innit-organic__block"},[i("ds-body-text",[t._v("\n      "+t._s(t._f("trans")("product.info.innit.organic."+(t.isOrganic?"positive":"negative")))+"\n    ")]),t._v(" "),i("product-badge",{attrs:{flag:t.flag,modifiers:["size-m"]}})],1)],1)},[],!1,null,null,null).exports,N=i("B1Mo"),V=i("VFs4");function z(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(n){K(t,n,i[n])})}return t}function K(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var R={name:"InnitDetails",components:{InnitAdditives:B,InnitNutrients:$,InnitOrganic:A,InnitPopinContainer:D.a,InnitScore:T.a,DsBodyText:l.default,PlButton:v.default,SvgIcon:E.default,InnitProfileInsertSmart:N.a,InnitScoreInfo:V.b,InnitCustomMatchers:function(){return i.e(106).then(i.bind(null,"ztCG"))}},props:{innit:{type:Object,required:!0},innitEnabled:{type:Boolean,default:!1}},data:function(){return{showInnitPopin:!1,iconQuestionMark:"53",analyticsTrackData:{labels:{knowMorePopinClick:"plus-info-innit",knowMorePopinDisplay:"plus-info-innit-affichage",knowMore:"en-savoir-plus-innit"}}}},methods:z({},Object(c.b)({analyticsTrackEvent:"analytics/trackEvent"}),{sendTrackEvent:function(t){this.analyticsTrackEvent({eventName:"navEcommerce",context:{action:"info-produit",label:t}})},innitProfileInsertTrackOnMounted:function(t){"loggedInNoInnitProfile"===t&&this.trackEvent({event:"nav",category:"ecommerce",action:"info-produit",label:"affichage-creation-profil-innit",ni:1})},innitProfileInsertTrackOnClickLink:function(t){"loggedInNoInnitProfile"===t&&this.trackEvent({event:"nav",category:"ecommerce",action:"info-produit",label:"creer-mon-profil-innit"})},innitProfileInsertTrackOnClose:function(t){"loggedInNoInnitProfile"===t&&this.trackEvent({event:"nav",category:"ecommerce",action:"info-produit",label:"quitter-creation-profil-innit"})},handleClickKnowMorePopin:function(){this.sendTrackEvent(this.analyticsTrackData.labels.knowMorePopinDisplay),this.sendTrackEvent(this.analyticsTrackData.labels.knowMorePopinClick),this.showInnitPopin=!0}}),computed:z({},Object(c.c)({isLoadingInnitProductCustomScore:"manage/isLoadingInnitProductCustomScore",innitCustomProductScore:"manage/innitCustomProductScore",links:"links"}),{hasNutrients:function(){var t;return(null===(t=this.innit.nutrients)||void 0===t?void 0:t.collection.length)>0},grade:function(){var t,n;return this.innitCustomProductScore?null===(t=this.innitCustomProductScore.score.rating)||void 0===t?void 0:t.key:null===(n=this.innit.score.rating)||void 0===n?void 0:n.key},innitScore:function(){return this.innitCustomProductScore?this.innitCustomProductScore.score:this.innit.score},isAvoidable:function(){var t,n,i;return(null===(t=this.innitCustomProductScore)||void 0===t?void 0:null===(n=t.score)||void 0===n?void 0:null===(i=n.rating)||void 0===i?void 0:i.key)===V.a},isCustomLowScore:function(){var t,n,i,e;return(null===(t=this.innitCustomProductScore)||void 0===t?void 0:null===(n=t.score)||void 0===n?void 0:n.value)<50&&(null===(i=this.innitCustomProductScore)||void 0===i?void 0:null===(e=i.score)||void 0===e?void 0:e.value)>0}})},J=Object(m.a)(R,function(){var t=this,n=t.$createElement,i=t._self._c||n;return t.isLoadingInnitProductCustomScore?t._e():i("div",{class:["innit-details","innit--"+(t.grade||"none")],attrs:{"data-testid":"innit-details"}},[i("div",{staticClass:"innit-details__header"},[t.grade?[t.innitScore.value>=0?i("innit-score",{staticClass:"innit",attrs:{diameter:48,numerator:t.innitScore.value,grade:"innit--"+t.grade}}):t._e(),t._v(" "),i("innit-score-info",{staticClass:"innit-details__brand",attrs:{"score-key":t.innitCustomProductScore&&t.innitCustomProductScore.score.rating.key||null,"score-value":t.innitCustomProductScore&&t.innitCustomProductScore.score.value||null,size:"l","default-score-subtitle":"innit.score"}}),t._v(" "),i("pl-button",{staticClass:"innit-details__button",attrs:{variation:"tertiary","data-testid":"innit-popin-button"},on:{clicked:t.handleClickKnowMorePopin}},[i("svg-icon",{attrs:{name:t.iconQuestionMark}})],1)]:i("p",{staticClass:"innit-details__title"},[t._v("\n      "+t._s(t._f("trans")("product.info.innit.title"))+"\n    ")])],2),t._v(" "),t.innitEnabled?i("innit-profile-insert-smart",{attrs:{"track-event-on-close":t.innitProfileInsertTrackOnClose,"track-event-on-click-link":t.innitProfileInsertTrackOnClickLink,"track-event-on-mounted":t.innitProfileInsertTrackOnMounted}}):t._e(),t._v(" "),t.innitCustomProductScore&&!t.isAvoidable?[i("div",{staticClass:"innit-details__custom-matchers"},[i("innit-custom-matchers",{class:{"innit-details__custom-matchers--low-score":t.isCustomLowScore},attrs:{matchers:t.innitCustomProductScore.desirables,title:t.$trans("innit.nutrients.desirables.title")}}),t._v(" "),i("innit-custom-matchers",{attrs:{matchers:t.innitCustomProductScore.undesirables,title:t.$trans("innit.nutrients.undesirables.title")}})],1)]:t.innitCustomProductScore&&t.isAvoidable?[i("innit-custom-matchers",{attrs:{matchers:t.innitCustomProductScore.avoidables,title:t.$trans("innit.nutrients.avoidables.title")}})]:t._e(),t._v(" "),t.hasNutrients?i("innit-nutrients",{attrs:{nutrients:t.innit.nutrients}}):t._e(),t._v(" "),i("innit-additives",{attrs:{additives:t.innit.additives,"is-custom-score":!!t.innitCustomProductScore}}),t._v(" "),i("innit-organic",{attrs:{qualifications:t.innit.qualifications}}),t._v(" "),i("div",{staticClass:"innit-details__link"},[i("pl-button",{attrs:{variation:"tertiary",link:t.links.innitEditorial,target:"_blank","data-testid":"innit-link"},on:{clicked:function(n){return t.sendTrackEvent(t.analyticsTrackData.labels.knowMore)}}},[t._v("\n      "+t._s(t._f("trans")("product.info.innit.link"))+"\n    ")])],1),t._v(" "),i("ds-body-text",{staticClass:"innit-details__copyright",attrs:{size:"xs",color:"standard-2",tag:"p"}},[t._v("\n    "+t._s(t._f("trans")("innit.score.copyright"))+"\n  ")]),t._v(" "),i("innit-popin-container",{attrs:{"show-innit-popin":t.showInnitPopin,"is-custom-innit-score":!!t.innitCustomProductScore},on:{close:function(n){t.showInnitPopin=!1}}})],2)},[],!1,null,null,null).exports;document&&document.getElementById("product-detail-page")&&new o.a({el:"#".concat("product-detail-page"),store:x.a,components:{MainDetails:r.a,Recommendations:s.a,productBadgesList:a.a,ParagraphTruncate:j,PdpSubstitution:S,InnitDetails:J,allergoboxDetails:_}});var U,W;U=document.querySelector(".webcollage"),W=U&&U.dataset.ean,"undefined"!=typeof Webcollage&&Webcollage.loadContent("carrefourfr",W)}},[["n5rP",0,2,4,1,3,5,22,28,33,39,55]]]);