if (undefined === window.Kameleoon){(function(){(function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r=s(/(ipod|iphone|ipad)/i).toLowerCase(),n=/like android/i.test(i),t=!n&&/android/i.test(i),a=/nexus\s*[0-6]\s*/i.test(i),d=!a&&/nexus\s*[0-9]+/i.test(i),l=/CrOS/.test(i),f=/silk/i.test(i),m=/sailfish/i.test(i),v=/tizen/i.test(i),p=/(web|hpw)os/i.test(i),w=/windows phone/i.test(i),b=/SamsungBrowser/i.test(i),c=!w&&/windows/i.test(i),h=!r&&!f&&/macintosh/i.test(i),u=!t&&!m&&!v&&!p&&/linux/i.test(i),k=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=s(/version\/(\d+(\.\d+)?)/i),y=/tablet/i.test(i)&&!/tablet pc/i.test(i),x=!y&&/[^-]mobi/i.test(i),S=/xbox/i.test(i),B;if(/opera/i.test(i))B={name:"Opera",opera:e,version:g||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)};else if(/opr\/|opios/i.test(i))B={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g};else if(/SamsungBrowser/i.test(i))B={name:"Samsung Internet for Android",samsungBrowser:e,version:g||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/coast/i.test(i))B={name:"Opera Coast",coast:e,version:g||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)};else if(/yabrowser/i.test(i))B={name:"Yandex Browser",yandexbrowser:e,version:g||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/ucbrowser/i.test(i))B={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/mxios/i.test(i))B={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)};else if(/epiphany/i.test(i))B={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)};else if(/puffin/i.test(i))B={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)};else if(/sleipnir/i.test(i))B={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)};else if(/k-meleon/i.test(i))B={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)};else if(w){B={name:"Windows Phone",osname:"Windows Phone",windowsphone:e};if(k){B.msedge=e;B.version=k}else{B.msie=e;B.version=s(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(i))B={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(l)B={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/edg([ea]|ios)/i.test(i))B={name:"Microsoft Edge",msedge:e,version:k};else if(/vivaldi/i.test(i))B={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||g};else if(m)B={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(i))B={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel|fxios/i.test(i)){B={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)){B.firefoxos=e;B.osname="Firefox OS"}}else if(f)B={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)};else if(/phantom/i.test(i))B={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/slimerjs/i.test(i))B={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i))B={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(p){B={name:"WebOS",osname:"WebOS",webos:e,version:g||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(i)&&(B.touchpad=e)}else if(/bada/i.test(i))B={name:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)};else if(v)B={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g};else if(/qupzilla/i.test(i))B={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g};else if(/chromium/i.test(i))B={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g};else if(/chrome|crios|crmo/i.test(i))B={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(t)B={name:"Android",version:g};else if(/safari|applewebkit/i.test(i)){B={name:"Safari",safari:e};if(g)B.version=g}else if(r){B={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"};if(g)B.version=g}else if(/googlebot/i.test(i))B={name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||g};else B={name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)};if(!B.msedge&&/(apple)?webkit/i.test(i)){if(/(apple)?webkit\/537\.36/i.test(i)){B.name=B.name||"Blink";B.blink=e;B.webkit=e}else{B.name=B.name||"Webkit";B.webkit=e}if(!B.version&&g)B.version=g}else if(!B.opera&&/gecko\//i.test(i)){B.name=B.name||"Gecko";B.gecko=e;B.version=B.version||s(/gecko\/(\d+(\.\d+)?)/i)}else if(B.msedge&&/(apple)?webkit/i.test(i))if(/(apple)?webkit\/537\.36/i.test(i))B.webkit=e;if(!B.windowsphone&&!B.msedge&&(t||B.silk))B.android=e;else if(!B.windowsphone&&!B.msedge&&r){B[r]=e;B.ios=e}else if(h)B.mac=e;else if(S)B.xbox=e;else if(c)B.windows=e;else if(u)B.linux=e;var z="";if(B.windowsphone)z=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);else if(r){z=s(/os (\d+([_\s]\d+)*) like mac os x/i);z=z.replace(/[_\s]/g,".")}else if(t)z=s(/android[ \/-](\d+(\.\d+)*)/i);else if(B.webos)z=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);else if(B.blackberry)z=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i);else if(B.bada)z=s(/bada\/(\d+(\.\d+)*)/i);else if(B.tizen)z=s(/tizen[\/\s](\d+(\.\d+)*)/i);if(z)B.osversion=z;var O=parseInt(z.split(".")[0]);if(y||d||"ipad"==r||t&&(3==O||O>=4&&!x)||B.silk)B.tablet=e;else if(x||"iphone"==r||"ipod"==r||t||a||B.blackberry||B.webos||B.bada)B.mobile=e;if(B.msedge||B.msie&&B.version>=10||B.yandexbrowser&&B.version>=15||B.vivaldi&&B.version>=1||B.chrome&&B.version>=20||B.samsungBrowser&&B.version>=4||B.firefox&&B.version>=20||B.safari&&B.version>=6||B.opera&&B.version>=10||B.ios&&B.osversion&&B.osversion.split(".")[0]>=6||B.blackberry&&B.version>=10.1||B.chromium&&B.version>=20)B.a=e;else if(B.msie&&B.version<10||B.chrome&&B.version<20||B.firefox&&B.version<20||B.safari&&B.version<6||B.opera&&B.version<10||B.ios&&B.osversion&&B.osversion.split(".")[0]<6||B.chromium&&B.version<20)B.c=e;else B.x=e;return B}window.bowser=i("undefined"!==typeof navigator?navigator.userAgent||"":"");window.bowser.test=function(e){for(var i=0;i<e.length;++i){var s=e[i];if("string"===typeof s)if(s in window.bowser)return!0}return!1};function s(e){return e.split(".").length}function o(e,i){var s=[],o;if(Array.prototype.map)return Array.prototype.map.call(e,i);for(o=0;o<e.length;o++)s.push(i(e[o]));return s}function r(e){var i=Math.max(s(e[0]),s(e[1]));var r=o(e,(function(e){var r=i-s(e);e+=new Array(r+1).join(".0");return o(e.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));while(--i>=0)if(r[0][i]>r[1][i])return 1;else if(r[0][i]===r[1][i]){if(0===i)return 0}else return-1}function n(e,s,o){var n=window.bowser;if("string"===typeof s){o=s;s=void 0}if(void 0===s)s=!1;if(o)n=i(o);var t=""+n.version;for(var a in e)if(e.hasOwnProperty(a))if(n[a])return r([t,e[a]])<0;return s}function t(e,i,s){return!n(e,i,s)}window.bowser.isUnsupportedBrowser=n;window.bowser.compareVersions=r;window.bowser.check=t;window.bowser._detect=i})();var APIConfiguration=function(){function e(e){this.generationTime=e.scriptProduceTime;this.goals=e.goals.map((function(e){return new APIGoal(e)}));this.singlePageSupport=Kameleoon.Internals.runtime.singlePageSupport;this.siteCode=e.siteCode}return e}();var APIAction=function(){function i(i,t){this.dateLaunched=i.dateStatusModified;this.dateModified=i.dateModified;this.id=i.id;this.name=i.name;this.targetSegment=new APISegment(i.targetingSegment);this.active=i.targeting&&!i.disabled&&i.displayedVariation&&null!=i.displayedVariation.id;this.triggered=i.targeting||!1;this.goals=Kameleoon.Internals.configuration.goals.filter((function(t){return-1!=(i.goals||[]).indexOf(t.id)})).map((function(i){return new APIGoal(i)}));this.untrackedTrafficReallocationTime=i.untrackedRespoolTime||null;var e=function(i){var t=Kameleoon.Internals.runtime.variations.filter((function(t){return t.id==i}));return t&&t[0]};var a=Kameleoon.Internals.runtime.Visitor.currentVisit;if("experiments"==t){this.mainGoal=i.kameleoonTracking&&i.kameleoonTracking.mainGoalId?new APIGoal(Kameleoon.Internals.configuration.goals.filter((function(t){return t.id==i.kameleoonTracking.mainGoalId}))[0]):null;var n=e(i.registeredVariationId);this.associatedVariation=n?new APIVariation(n,i):null;this.trafficDeviation={};this.variations=[];this.redirectProcessed=i.redirectProcessed||!1;for(var r in i.deviation){this.trafficDeviation[r]=100*i.deviation[r];this.variations.push(new APIVariation(e(parseInt(r)),i))}var o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});this.triggeredInVisit=o[this.id]?!0:!1;this.activatedInVisit=a.ExperimentActivations[this.id]?!0:!1}else{this.mainGoal=new APIGoal(Kameleoon.Internals.configuration.goals.filter((function(t){return t.id==i.mainGoalId}))[0]);this.associatedVariation=new APIVariation(e(i.associatedVariation.id),i);var s=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});this.triggeredInVisit=s[this.id]?!0:!1;this.activatedInVisit=this.triggeredInVisit&&a.PersonalizationActivations[this.id]?!0:!1}}return i}();var APIActionActivation=function(){function i(i,n,t){var e;var a;if("experiment"==i){this.times=t.ExperimentActivations[n].times;this.experimentID=n;e=Kameleoon.Internals.runtime.experiments.filter((function(i){return i.id==n}))[0];a=t.ExperimentActivations[n].associatedVariationID;this.experiment=e?new APIAction(e,"experiments"):null}else{this.times=t.PersonalizationActivations[n].times;this.personalizationID=n;e=Kameleoon.Internals.runtime.personalizations.filter((function(i){return i.id==n}))[0];a=t.PersonalizationActivations[n].associatedVariationID;this.personalization=e?new APIAction(e,"personalizations"):null}this.associatedVariationID=a;var o=Kameleoon.Internals.configuration.variations.filter((function(i){return i.id==a}))[0];this.associatedVariation=o?new APIVariation(o,e):null}return i}();var APIActions=function(){function n(n){var e=this;var t=n;var i=function(){if("experiments"==t)return Kameleoon.Internals.runtime.experiments;else return Kameleoon.Internals.runtime.personalizations};this.getAll=function(){return i().map((function(n){return new APIAction(n,t)}))};this.getActive=function(){return i().filter((function(n){return!0===n.targeting&&1!=n.disabled&&n.displayedVariation&&null!=n.displayedVariation.id})).map((function(n){return new APIAction(n,t)}))};this.getTriggeredInVisit=function(){return i().map((function(n){return new APIAction(n,t)})).filter((function(n){return n.triggeredInVisit}))};this.getActivatedInVisit=function(){return i().map((function(n){return new APIAction(n,t)})).filter((function(n){return n.activatedInVisit}))};var r=function(n,e){var r=i().filter((function(t){return t[n]==e}))[0];if(r)return new APIAction(r,t);return null};this.getById=function(n){return r("id",n)};this.getByName=function(n){return r("name",n)};if("experiments"==t){this.assignVariation=function(n,e,t){var r=i().filter((function(e){return e.id==n}))[0];if(r)if(void 0===r.registeredVariationId||t){r.registeredVariationId=e;r.assignmentTime=(new Date).getTime();r.writeLocalData()}};this.block=function(n,e){if(void 0===e)e=!1;var t=Kameleoon.Internals.runtime.experiments.filter((function(e){return e.id==n}));if(t.length>0){if(e){var i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);i.push(n);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedExperiments",i)}t[0].blocked=!0}};this.trigger=function(n,e){var t=Kameleoon.Internals.runtime.experiments.filter((function(e){return e.id==n}))[0];if(t)if(e){if(t){t.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([t])}}else{t.trigger();Kameleoon.Analyst.Actions.process([t])}};this.triggerExperiment=function(n,t){e.trigger(n,t)}}else{this.disable=function(n){var e=i().filter((function(e){return e.id==n}))[0];if(e)e.disabled=!0};this.trigger=function(n,e){var t=Kameleoon.Internals.runtime.personalizations.filter((function(e){return e.id==n}))[0];if(t){t.exposition=!0;if(e){if(t)Kameleoon.Analyst.Actions.performActionsTracking([t])}else{t.trigger();Kameleoon.Analyst.Actions.process([t])}}}}}return n}();var APIGoal=function(){function i(i){if(i){this.id=i.id;this.name=i.name;this.type=i.type}}return i}();var APIProduct=function(){function e(e,i){this.productID=e;for(var t in i)if("name"==t)this.name=i.name;else if("categoryId"==t||"categoryID"==t)this.categoryID=i.categoryId||i.categoryID;else if("category"==t)this.category=i.category;else if("mainImageURL"==t||"image_url"==t)this.mainImageURL=i.mainImageURL||i.image_url;else if("imageURLs"==t)this.imageURLs=i.imageURLs;else if("price"==t)this.price=parseFloat(i.price)||null;else if("available"==t)this.available=i.available;else if("brand"==t)this.brand=i.brand;else if("child"==t)this.child=i.child;else if("gender"==t)this.gender=i.gender;else if("sizes"==t||"fashion_sizes"==t)this.sizes=i.sizes||i.fashion_sizes;else if("type"==t)this.type=i.type;else if("feature"==t)this.feature=i.feature;else if("crossedOutPrice"==t)this.crossedOutPrice=parseFloat(i.crossedOutPrice)||null;else if("sku"==t)this.sku=i.sku;else if("merchantID"==t)this.merchantID=i.merchantID;else if("url"==t)this.url=i.url;else if("categories"==t&&i.categories.length>0){this.categoryID=i.categories[0].id;this.category=i.categories[0].name}else if("description"==t)this.description=i.description;else if("rating"==t)this.rating=i.rating;else if("tags"==t)this.tags=i.tags}e.prototype.getTrackingParameters=function(){var e="m"==this.gender||"M"==this.gender?!0:"f"==this.gender||"F"==this.gender?!1:null;return"&ean="+encodeURIComponent(this.productID.toString())+(null==this.name?"":"&name="+encodeURIComponent(this.name.toString()))+(null==this.categoryID?"":"&categoryId="+encodeURIComponent(this.categoryID.toString()))+(null==this.category?"":"&category="+encodeURIComponent(this.category.toString()))+"&href="+encodeURIComponent(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())+(null==this.mainImageURL?"":"&pictureHref="+encodeURIComponent(this.mainImageURL.toString()))+(null==this.price?"":"&price="+this.price)+(null==this.available?"":"&available="+this.available)+(null==this.brand?"":"&brand="+this.brand)+(null==this.child?"":"&child="+this.child)+(null==e?"":"&male="+e)+(null==this.sizes?"":"&sizes="+encodeURIComponent(JSON.stringify(this.sizes)))+(null==this.type?"":"&type="+this.type)+(null==this.feature?"":"&feature="+this.feature)+(null==this.sku?"":"&sku="+this.sku)+(null==this.merchantID?"":"&sellerId="+this.merchantID)+(null==this.crossedOutPrice?"":"&crossedOutPrice="+this.crossedOutPrice)+(null==this.description?"":"&description="+encodeURIComponent(this.description))+(null==this.rating?"":"&rating="+this.rating)+(null==this.tags?"":"&tags="+encodeURIComponent(JSON.stringify(this.tags)))};return e}();var APISegment=function(){function n(n){if(n){this.id=n.id;this.name=n.name}}return n}();var APITemplate=function(){function t(t,n){this.name=t;this.customFields=n}return t}();var APIVariation=function(){function i(i,e){if(void 0===e)e={};if(i){this.id=i.id;this.name=i.name;if(0===this.id)this.id="reference";if(null===this.id)this.id="none";if(e.experimentAction){var t=e.variations.filter((function(e){return e.id==i.id}))[0];this.reallocationTime=t?t.respoolTime:null}else this.reallocationTime=null;this.instantiatedTemplate=i.widgetTemplateInputData?new APITemplate(i.widgetTemplateName,i.widgetTemplateInputData):null}}return i}();var APIVisit=function(){function e(e){this.pageViews=e.timesStartedPages.length;this.duration=e.timeLastActivity-e.startDate;this.locale=e.locale;this.startDate=e.startDate;this.index=e.index;this.currentProduct=null;this.products=[];this.activatedExperiments=Object.keys(e.ExperimentActivations).map((function(t){return new APIActionActivation("experiment",parseInt(t),e)}));this.activatedPersonalizations=Object.keys(e.PersonalizationActivations).map((function(t){return new APIActionActivation("personalization",parseInt(t),e)}));if(e==Kameleoon.Internals.runtime.Visitor.currentVisit){this.device=new Device;this.geolocation=e.Geolocation;if(Kameleoon.Internals.runtime.mentalistRun){Object.defineProperty(this,"conversionPredictions",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(null)}});Object.defineProperty(this,"initialConversionPredictions",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(null)}})}}this.conversions=Kameleoon.Utils.clone(e.conversions);this.interests=null;if(Kameleoon.Internals.runtime.Gatherer.interestsChecked){this.interests=[];for(var t in e.freshByActiveInterest){var n=Kameleoon.Internals.runtime.Gatherer.configuration.interests[t];if(null!=n)this.interests.push(n.name)}}this.customData={};var i=function(e,t){switch(e){case-2:return"true"===t;case-1:return t;default:return parseFloat(t)}};for(var a in e.countByValueByCustomDatum){var r=Kameleoon.Internals.runtime.Gatherer.configuration.customData[a];if(null!=r){var s=e.countByValueByCustomDatum[a];switch(r.type){case"LIST":var o=[];for(var l in s)o.push(l);this.customData[r.name]=o;break;case"COUNT_LIST":var u=[];for(var l in s)u.push({value:l,count:s[l]});this.customData[r.name]=u;break;default:this.customData[r.name]=i(r.numberValues,Object.keys(s)[0]);break}}}var c="<OTHER / UNKNOWN>";var m=[];var h=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrers",[]);for(var v=0,f=h.length;v<f;v++){var d=h[v];var p=void 0;if(0==d)p="<RESTART>";else{var I=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[d-1];p=null==I?c:I.name}m.push(p)}this.acquisitionChannel=m[0];this.landingPageURL=e.landingPageURL;this.weather=new APIWeather(e)}return e}();var APIVisitor=function(){function t(){this.getCustomDataVisitor=function(){var t={};for(var i in Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum){var e=Kameleoon.Internals.runtime.Gatherer.configuration.customData[i];if(null!=e&&!e.disabled)if("VISITOR"==e.scope){var n=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[i];switch(e.type){case"LIST":var s=[];for(var r in n)s.push(r);t[e.name]=s;break;case"COUNT_LIST":var a=[];for(var r in n)a.push({value:r,count:n[r]});t[e.name]=a;break;default:t[e.name]=Object.keys(n)[0];break}}}return t};this.numberOfVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;this.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;this.customData=this.getCustomDataVisitor();this.personalizationsActive=Kameleoon.Internals.runtime.personalizationsActive;this.code=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;this.currentVisit=new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit);this.visits=Kameleoon.Internals.runtime.Visitor.visits.map((function(t){return new APIVisit(t)}));this.previousVisit=Kameleoon.Internals.runtime.Visitor.visits.length>1?new APIVisit(Kameleoon.Internals.runtime.Visitor.visits.slice(-2)[0]):null;this.experimentLegalConsent=Kameleoon.Internals.runtime.consent.AB_TESTING;this.personalizationLegalConsent=Kameleoon.Internals.runtime.consent.PERSONALIZATION;this.firstVisitStartDate=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit}return t}();var APIWeather=function(){function i(i){var e=i.Weather;this.temperature=e.temperature;this.humidity=e.humidity;this.pressure=e.pressure;this.windSpeed=e.windSpeed;this.cloudiness=e.cloudiness;this.sunrise=e.sunrise;this.sunset=e.sunset;this.conditionCode=e.conditionCode;this.conditionDescription=e.conditionDescription}return i}();var Analyst=function(){function Analyst(){var _this=this;this.disableLegalConsent=function(e){var n=Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.consent:{};if("BOTH"==e||null==e){n.AB_TESTING=!1;n.PERSONALIZATION=!1}else n[e]=!1;Kameleoon.Utils.createLocalData("kameleoonLegalConsent",n,380,null,"LS",!0,null,!0);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:n})};this.enableLegalConsent=function(e){var n=Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.consent:{};if("BOTH"==e||null==e){n.AB_TESTING=!0;n.PERSONALIZATION=!0}else n[e]=!0;Kameleoon.Utils.createLocalData("kameleoonLegalConsent",n,380,null,"LS",!0,null,!0);if(Kameleoon.Internals.runtime){Kameleoon.Internals.runtime.RequestManager.processRequests();var o=function(e){if(null!=e)for(var n in e)Kameleoon.Utils.createLocalData(e[n].name,e[n].value,e[n].days,e[n].domain,e[n].forceLocalAccess,e[n].jsonFormat,null,!0)};o(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["LS"]);o(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["COOKIE"]);Kameleoon.Internals.runtime.localDataMap=null;_this.Actions.processAllActions();}Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:n})};this.initialize=function(e){_this.isTimeout=!1;if(window.kameleoonDisplayPage){if(null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById("kameleoonLoadingStyleSheet"))window.clearTimeout(window.kameleoonDisplayPageTimeOut);else if(null==window.kameleoonEndLoadTime)_this.isTimeout=!0;try{window.kameleoonDisplayPage(!0)}catch(e){}window.kameleoonDisplayPage=null}window.kameleoonEndLoadTime=(new Date).getTime();if(-1!=navigator.userAgent.indexOf("Chrome/62")){var n={x:window.scrollX,y:window.scrollY};document.documentElement.style.display="none";var o=document.documentElement.offsetHeight;document.documentElement.style.display="block";window.scrollTo(n.x,n.y)}e()};this.load=function(){Kameleoon.Utils.runProtectedFunction((function(){if(window.kameleoonAddCustomAction)Kameleoon.Utils.runProtectedScript(window.kameleoonAddCustomAction,"kameleoonAddCustomActionScript.js");if(window.kameleoonAddCustomGlobalScript)Kameleoon.Internals.configuration.globalScript=window.kameleoonAddCustomGlobalScript;window.addEventListener("error",(function(e){if(e.error&&e.error.stack.match(/kameleoon/gi)){Kameleoon.Utils.Logger.send(e.error.stack,"kameleoon.js");return!1}}));Kameleoon.Analyst.initialize((function(){var e=Kameleoon.Analyst.checkBlockingElements();var n=window.kameleoonEndLoadTime-(window.kameleoonStartLoadTime||window.kameleoonEndLoadTime)-25;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Loaded",{timeout:"TIMEOUT"==e,loadTime:n});Kameleoon.Internals.runtime=Kameleoon.Internals.runtime;if(Kameleoon.Internals.runtime)Kameleoon.Internals.runtime.clear();if(0==e.length){Kameleoon.Internals.runtime=new Runtime;Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Internals.runtime.run()}))}else Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Aborted",{reason:e})}))}))};this.loadKameleoonFull=function(e,n){if(!Kameleoon.Internals.runtime.kameleoonFull&&(_this.kameleoonFullNeeded()||n)){var o=function(n){var o=document.createElement("script");o.innerHTML=n+"\n;";o.innerHTML+="("+e.toString()+")()";o.innerHTML+="//# sourceURL=kameleoonFull.js";document.head.appendChild(o)};var a=sessionStorage.getItem("kameleoonFullApplicationCode");if(null!=a)o(a);else Kameleoon.Utils.performBeaconServerCall("//"+Kameleoon.Internals.configuration.STATIC_HOST_NAME+"."+Kameleoon.Internals.configuration.DOMAIN+"/kameleoon-full.js?cache="+Kameleoon.Utils.obtainRandomString(16),(function(e){if(void 0===e.readyState||4==e.readyState&&200==e.status){sessionStorage.setItem("kameleoonFullApplicationCode",e.responseText);o(e.responseText)}}))}else e()};this.obtainTrackerNodeSubdomainsRandom=function(){return Kameleoon.Internals.configuration.trackerNodeSubdomains[Math.floor(Kameleoon.Internals.configuration.trackerNodeSubdomains.length*Math.random())]};this.obtainTrackerNodeSubdomainsSeededRandom=function(e){return Kameleoon.Internals.configuration.trackerNodeSubdomains[Math.floor(Kameleoon.Internals.configuration.trackerNodeSubdomains.length*Kameleoon.Utils.seededRandom(e,!0))]};this.Actions=new Actions;this.Goals=new Goals}Analyst.prototype.checkBlockingElements=function(){if(window.bowser.msie&&parseFloat(window.bowser.version)<=(Kameleoon.Internals.configuration.wideEngineSupport?10:12)||window.bowser.opera&&parseFloat(window.bowser.version)<13)return"BROWSER";var noLocalStorage=!1;try{if(window.localStorage){localStorage.setItem("kameleoonPrivateMode","false");localStorage.removeItem("kameleoonPrivateMode")}else noLocalStorage=!0}catch(e){noLocalStorage=!0}var noSessionStorage=!1;try{if(window.sessionStorage){sessionStorage.setItem("kameleoonPrivateMode","false");sessionStorage.removeItem("kameleoonPrivateMode")}else noSessionStorage=!0}catch(e){noSessionStorage=!0}if(noLocalStorage||noSessionStorage)return"STORAGE";if(this.isTimeout){switch(Kameleoon.Internals.configuration.behaviorWhenTimeout){case"VISIT":sessionStorage.setItem("kameleoonDisabledForVisit","true");break;default:break}return"TIMEOUT"}document.removeEventListener("visibilitychange",Kameleoon.Analyst.load);if("prerender"==document.visibilityState){document.addEventListener("visibilitychange",Kameleoon.Analyst.load);return"PRERENDER"}if(Kameleoon.Internals.configuration.abortCustomScript){var shouldAbort=void 0;var fileName="kameleoonAbortCustomScript.js";try{shouldAbort=eval("(function() {"+Kameleoon.Internals.configuration.abortCustomScript+"})();"+"//# sourceURL="+fileName)}catch(e){shouldAbort=!1;}if(shouldAbort)return"SCRIPT"}if(-1!=location.href.indexOf("kameleoonDisabled"))return"PARAMETER";if(Kameleoon.Internals.configuration.kameleoonDisabled)return"DISABLED";return""};Analyst.prototype.getHeatMap=function(){window.kameleoonHeatMap()};Analyst.prototype.isValidTrackerNodeSubdomain=function(e){return Kameleoon.Internals.configuration.trackerNodeSubdomains.indexOf(e)>=0};Analyst.prototype.isValidTrackerNodeNumberLogParsers=function(e,n){return n>=0&&n<Kameleoon.Internals.configuration.trackerNodeNumberLogParsers[Kameleoon.Internals.configuration.trackerNodeSubdomains.indexOf(e)]};Analyst.prototype.kameleoonFullNeeded=function(){if(sessionStorage.getItem("kameleoonFullApplicationCode")||Kameleoon.Internals.runtime.parameters.kameleoon||Kameleoon.Internals.runtime.parameters.kameleoonVariationId||Kameleoon.Internals.runtime.parameters.kameleoonHeatMap||Kameleoon.Internals.runtime.parameters["kameleoon-simulation"]||Kameleoon.Internals.runtime.simulationMode)return!0;return!1};Analyst.prototype.loadSimulation=function(){var e=this;if(!Kameleoon.Internals.runtime.parameters.kameleoonVariationId)Object.keys(localStorage).forEach((function(e){if(-1!==e.indexOf("kameleoonVariation-"))localStorage.removeItem(e)}))};Analyst.prototype.loadVariationFromServer=function(variationId,variation){};Analyst.prototype.obtainCounterTrackingRequestPrefix=function(){return"//"+Kameleoon.Internals.configuration.trackerNodeSubdomains[Math.abs(Kameleoon.Utils.computeStringHash(Kameleoon.Internals.configuration.siteCode))%Kameleoon.Internals.configuration.trackerNodeSubdomains.length]+"."+Kameleoon.Internals.configuration.DOMAIN+"/counter.gif?"};Analyst.prototype.obtainHeatMapTrackingRequestPrefix=function(){return"//"+Kameleoon.Analyst.obtainTrackerNodeSubdomainsRandom()+"."+Kameleoon.Internals.configuration.DOMAIN+"/heatmap.gif?"};Analyst.prototype.obtainProductTrackingRequestPrefix=function(){return"//"+this.obtainTrackerNodeSubdomainsRandom()+"."+Kameleoon.Internals.configuration.DOMAIN+"/product.gif?"};Analyst.prototype.obtainTrackerNodeLogParserSeededRandom=function(e,n){return Math.floor(Kameleoon.Utils.seededRandom(n+"lp",!0)*Kameleoon.Internals.configuration.trackerNodeNumberLogParsers[Kameleoon.Internals.configuration.trackerNodeSubdomains.indexOf(e)])};Analyst.prototype.processSimulations=function(){};Analyst.CODE_ALPHABET="abcdefghijklmnopqrstuvwxyz0123456789";return Analyst}();var API=function(){function e(){var e=this;this.Core={enableLegalConsent:function(e){if(void 0===e)e="BOTH";Kameleoon.Analyst.enableLegalConsent(e)},disableLegalConsent:function(e){if(void 0===e)e="BOTH";Kameleoon.Analyst.disableLegalConsent(e)},enableSinglePageSupport:function(){Kameleoon.Internals.runtime.enableSinglePageSupport.apply(Kameleoon.Internals.runtime,arguments)},getConfiguration:function(){return new APIConfiguration(Kameleoon.Internals.configuration)},load:function(){Kameleoon.Analyst.load.apply(Kameleoon.Analyst,arguments)},processRedirect:function(){Kameleoon.Utils.processRedirect.apply(Kameleoon.Utils,arguments)},runWhenConditionTrue:function(n,t,o){if(void 0===o)o=200;if(n())Kameleoon.Utils.runProtectedFunction(t,!0);else if(!Kameleoon.Internals.runtime.pageLoaded)var r=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(r);e.Core.runWhenConditionTrue.apply(Kameleoon,[n,t,o])}),o,!0)},runWhenElementPresent:function(n,t,o){var r=!0;if("undefined"!==typeof o)r=!1;var a=Kameleoon.Utils.querySelectorAll(n);if(!Kameleoon.Internals.runtime.querySelectorAllHasError)if(0<a.length)Kameleoon.Utils.runProtectedFunction((function(){t(a)}),!0);else if(!Kameleoon.Internals.runtime.pageLoaded)if(Kameleoon.Internals.runtime.cantUseMutationObserver||!r)var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);e.Core.runWhenElementPresent.apply(Kameleoon,[n,t,r,o||200])}),o||200,!0);else Kameleoon.Internals.runtime.waitingElementPresentObjects.push({selector:n,callback:t,useAntiFlicker:r})}};this.Goals={cancelConversion:function(n,t){try{e.Goals.processConversions(n,t,!0)}catch(e){}},processConversion:function(n,t){try{e.Goals.processConversions(n,t,!1)}catch(e){}},processConversions:function(e,n,t){Kameleoon.Internals.runtime.goals.forEach((function(o){if(e==o.id||e==o.name){var r=[];r.push({goal:o,revenue:n,negative:t});if(!o.linkedExperimentId)Kameleoon.Internals.runtime.goals.forEach((function(e){if(null!=e.linkedExperimentId&&e.masterGoalId==o.id)r.push({goal:e,revenue:n,negative:t})}));Kameleoon.Analyst.Goals.processConversions(r)}}))}};this.Data={checkInterest:function(e,n,t){if(Kameleoon.Internals.runtime.gathererRun&&"object"==typeof e){var o=Math.random().toString();if(null==Kameleoon.Internals.runtime.checkImageCallbacks)Kameleoon.Internals.runtime.checkImageCallbacks={};var r=[];for(var a=0;a<e.length;++a)r.push({url:e[a]});Kameleoon.Internals.runtime.checkImageCallbacks[o]=function(e){if(n&&1==e)for(var o in Kameleoon.Internals.runtime.Gatherer.configuration.interests){var r=Kameleoon.Internals.runtime.Gatherer.configuration.interests[o];if("interestName"==r.name){Kameleoon.Internals.runtime.Visitor.currentVisit.addInterests([r.index],!0);break}}t&&t(e)};Kameleoon.Gatherer.Interest.checkImageList(r,null,o)}},readLocalData:function(e){return Kameleoon.Internals.runtime.storedData.Vars[e]?Kameleoon.Internals.runtime.storedData.Vars[e].value:null},resetCustomData:function(n){e.Data.setCustomData(n,[],!0)},retrieveDataFromRemoteSource:function(e,n){Kameleoon.Utils.performBeaconServerCall("//api-data."+Kameleoon.Internals.configuration.DOMAIN+"/data?siteCode="+Kameleoon.Internals.configuration.siteCode+"&key="+e,(function(e){if(4==e.readyState){var t={};if(200==e.status)t=JSON.parse(e.responseText);n&&n(t)}}),null)},setCustomData:function(e,n,t){if(void 0===t)t=!1;if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.gathererRun){var o=null;for(var r in Kameleoon.Internals.runtime.Gatherer.configuration.customData){var a=Kameleoon.Internals.runtime.Gatherer.configuration.customData[r];if(null!=a&&a.name==e){o=parseInt(r);break}}if(null!=o)Kameleoon.Gatherer.CustomData.register(o,{value:n,overwrite:t})}},writeLocalData:function(e,n,t){Kameleoon.Internals.runtime.storedData.Vars[e]={value:n,date:(new Date).getTime()+24*60*60*1e3*(t?30:1/24)}},performRemoteSynchronization:function(e,n,t){}};this.Events={triggered:[],trigger:function(n){e.Core.runWhenConditionTrue((function(){return!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval}),(function(){e.Events.triggered.push(n);if(Kameleoon.Analyst.Actions)Kameleoon.Analyst.Actions.processAllActions();if(Kameleoon.Targeting)Kameleoon.Targeting.processAllTargetingSegments();}),100)}};this.Tracking={processOmniture:function(e){Kameleoon.Tracking.processOmniture&&Kameleoon.Tracking.processOmniture(e)}};this.Products={obtainRecommendedProducts:function(e,n,t,o){if(n.format&&"object"==n.format)n.extended=!0;},trackAddToCart:function(e,n,t){if(void 0===t)t=1;if(null!=e&&e.length>0)if(t>0){Kameleoon.Internals.runtime.RequestManager.sendOtherTrackingRequests(Kameleoon.Analyst.obtainProductTrackingRequestPrefix()+"eventType=productAddToCart&siteCode="+Kameleoon.Internals.configuration.siteCode+"&ean="+encodeURIComponent(e.toString())+"&quantity="+t);}},trackCategoryView:function(e){},trackProductView:function(e,n){if(null!=e&&e.length>0){var t=new APIProduct(e,n);Kameleoon.Internals.runtime.RequestManager.sendOtherTrackingRequests(Kameleoon.Analyst.obtainProductTrackingRequestPrefix()+"eventType=productPage&siteCode="+Kameleoon.Internals.configuration.siteCode+t.getTrackingParameters());if(Kameleoon.Internals.runtime.gathererRun)Kameleoon.Gatherer.track(VisitEvent_Product.type,{ean:e});Kameleoon.Internals.runtime.product=t;}},trackTransaction:function(e){for(var t=0;t<e.length;++t){var o=e[t];o.productID=o.productId||o.productID;if(null!=o.productID&&o.productID.length>0){o.quantity=parseInt(o.quantity)||1;if(o.quantity>0)Kameleoon.Internals.runtime.RequestManager.sendOtherTrackingRequests(Kameleoon.Analyst.obtainProductTrackingRequestPrefix()+"eventType=productBuy&siteCode="+Kameleoon.Internals.configuration.siteCode+"&ean="+encodeURIComponent(o.productID.toString())+"&quantity="+o.quantity)}}}};this.Experiments=new APIActions("experiments");this.Personalizations=new APIActions("personalizations");this.Segments={getAll:function(){return Kameleoon.Internals.runtime.targetingSegments.map((function(e){return new APISegment(e)}))},getById:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==e}))[0];return n?new APISegment(n):null},getByName:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.name==e}))[0];return n?new APISegment(n):null},reevaluate:function(e){var n=-1;for(var t=0;t<(Kameleoon.Internals.runtime.targetingSegments||[]).length;t++){var o=Kameleoon.Internals.runtime.targetingSegments[t];if(o.id==e){n=t;break}}if(n>-1){var r=void 0;if(Kameleoon.Internals.runtime.simulationMode)r=Kameleoon.Internals.runtime.simulationModeData.targetingSegments.filter((function(n){return n.id==e}))[0];else r=Kameleoon.Internals.configuration.targetingSegments.filter((function(n){return n.id==e}))[0];if(r){Kameleoon.Internals.runtime.targetingSegments.splice(n,1);Kameleoon.Internals.runtime.targetingSegments.push(Kameleoon.Utils.clone(r));Kameleoon.Internals.runtime.experiments.forEach((function(n){return n.setTargetingSegment(e)}));Kameleoon.Internals.runtime.experiments.forEach((function(n){return n.setTargetingSegment(e)}));Kameleoon.Analyst.Actions.processAllActions()}}},trigger:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==e}));if(n.length>0){n[0].targeting=!0;Kameleoon.Internals.runtime.experiments.forEach((function(n){if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Internals.runtime.personalizations.forEach((function(n){if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processTargetingSegments(n)}}};this.Variations={execute:function(e){var n=function(e){var n=Kameleoon.Internals.runtime.variations.filter((function(n){return n.id==e}));return n?n[0]:null};var t=n(e);if(t){var o=new Variation(t);if(o.redirections)o.preProcessRedirect();Kameleoon.Utils.addCSSStyleSheet(o.cssCode);o.applyJavascriptCode(!0)}}};this.Utils={addEventListener:function(e,n,t,o){Kameleoon.Utils.addEventListener(e,n,t,o,!0)},addUniversalClickListener:function(e,n,t){this.addEventListener(e,Kameleoon.Internals.runtime.mouseDownEvent,(function(e){if(!Kameleoon.Internals.runtime.touchMoveEvent)n&&n(e)}))},clearInterval:function(){Kameleoon.Utils.clearInterval.apply(Kameleoon.Utils,arguments)},clearTimeout:function(){Kameleoon.Utils.clearTimeout.apply(Kameleoon.Utils,arguments)},createHash:function(e){return Kameleoon.Utils.computeStringHash.apply(Kameleoon.Utils,arguments)},getURLParameters:function(){return Kameleoon.Utils.parseParameters.apply(Kameleoon.Utils,arguments)},performRequest:function(e,n,t,o){if(void 0===o)o=5e3;return Kameleoon.Utils.performBeaconServerCall(e,n,t,o)},querySelectorAll:function(e){return Kameleoon.Utils.querySelectorAll.apply(Kameleoon.Utils,arguments)},setInterval:function(e,n){if(void 0===n)n=200;return Kameleoon.Utils.setInterval(e,n,!1,!0)},setTimeout:function(e,n){if(void 0===n)n=200;return Kameleoon.Utils.setTimeout(e,n,!0)}};Object.defineProperty(this.Utils,"mouseDownEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.mouseDownEvent}});Object.defineProperty(this.Utils,"touchMoveEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.touchMoveEvent}});Object.defineProperty(this,"Visitor",{enumerable:!0,get:function(){try{return new APIVisitor}catch(e){return null}}});Object.defineProperty(this,"CurrentVisit",{enumerable:!0,get:function(){try{return new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit)}catch(e){return null}}});Object.defineProperty(this,"React",{enumerable:!1,get:function(){return window.KameleoonAPIReact||null}});Object.defineProperty(this,"processOmniture",{enumerable:!1,get:function(){console.info("Kameleoon.API.processOmniture is deprecated, please use Kameleoon.API.Tracking.processOmniture");return Kameleoon.API.Tracking.processOmniture}})}return e}();var ElementSet=function(){function e(){this.pageElementSets=[];window.kameleoonVirtualRootElement=document.createElement("div")}e.prototype.addRelativePositionToReferenceElement=function(e){if("absolute"!=Kameleoon.Utils.obtainComputedStyle(e).position&&document.body!=e)this.setStyle(e,"position","relative",!1)};e.prototype.changeHTMLContent=function(e,t,o,n,a){o=this.replaceImagePlaceholder(o);var i=e.element;var l=!1;var r,s,m;var d="input"==i.nodeName.toLowerCase()&&("button"==i.getAttribute("type")||"submit"==i.getAttribute("type")||"text"==i.getAttribute("type"));if(d)r=i.value;else{r=[];var f=i.childNodes;for(m=0;m<f.length;++m)r.push(f[m])}s=d?i.value:i.innerHTML;this.saveElementOriginalData(i);if(void 0===i.kameleoonData.originalData.storedContent){i.kameleoonData.originalData.storedContent=r;i.kameleoonData.originalData.contentType=d?"VALUE":"CHILD_NODES";l=!0}if((!a||l)&&s!=o)if(n)e.element=this.replaceHTMLContent(i,t,o,e.options);else if(d)i.value=o;else{for(m=0;m<r.length;++m)i.removeChild(r[m]);i.innerHTML=o}return l};e.prototype.checkElementIsInDocument=function(e,t){var o=null,n=document;if(t.context){o=Kameleoon.Utils.querySelectorAll(t.context);if(o[0])n=o[0].contentWindow.document}while(e&&e!=n.documentElement&&e!=window.kameleoonVirtualRootElement)if(e.parentNode)e=e.parentNode;else return!1;return e==n.documentElement?!0:"VIRTUAL"};e.prototype.checkElementLoaded=function(e){if(!e||!e.parentNode)return!1;return e.nextSibling?!0:this.checkElementLoaded(e.parentNode)};e.prototype.obtainDepth=function(e){var t=0;while(null!==e.parentNode){++t;e=e.parentNode}return t};e.prototype.obtainElements=function(e,t,o,n,a){var i,l,r=[];for(var s=0,m=e.length;s<m;++s){if(null===e[s])continue;var d=e[s].selector;var f=e[s].currentQuery;var c=e[s].options;var u=null,p=document;if(c.context){u=Kameleoon.Utils.querySelectorAll(c.context);if(!u[0])continue;u=u[0].contentWindow.document;p=u;if(n)Kameleoon.Utils.addCSSStyleSheet(n.css,n.action,u)}if(!u&&a)u=a;if(c.scopeURL&&!new RegExp(c.scopeURL).test(window.location.href))i=[];else if(c.customSelector||c.autoGeneratedSelector||c.contentSelector){i=Kameleoon.Utils.querySelectorAll(d,u);if(0==i.length&&f)i=Kameleoon.Utils.querySelectorAll(f,u);if(c.kameleoonClass)for(var h=0,g=i.length;h<g;++h)if(-1==(" "+i[h].className+" ").indexOf(" KameleoonClass"+c.kameleoonClass+" ")){this.saveElementOriginalData(i[h],c.domOperation);i[h].className+=(i[h].className?" ":"")+"KameleoonClass"+c.kameleoonClass}if(c.kameleoonId)for(var h=0,g=i.length;h<g;++h){this.saveElementOriginalData(i[h],c.domOperation);i[h].id="kameleoonId"+c.kameleoonId}if(0==i.length){if(c.kameleoonId){var v=document.getElementById("kameleoonId"+c.kameleoonId);i=v?[v]:[]}if(c.kameleoonClass)i=Kameleoon.Utils.querySelectorAll(".KameleoonClass"+c.kameleoonClass,null)}if(0==i.length)i=Kameleoon.Utils.querySelectorAll(d,window.kameleoonVirtualRootElement)}else switch(d.charAt(0)){case"#":var k=d.substr(1);i=[p.getElementById(d.substr(1))];if(!i[0]){var v=void 0;if(e[s].element)v=e[s].element;else if(0==k.indexOf("kameleoonElement"))if(c.domOperation){var y=Kameleoon.Utils.querySelectorAll(c.domReference,u)[0];if(!y&&c.domReferenceCurrentQuery)y=Kameleoon.Utils.querySelectorAll(c.domReferenceCurrentQuery,u)[0];if(y){v=p.createElement("div");window.kameleoonVirtualRootElement.appendChild(v);e[s].element=v}else e[s].evaluated=!1}else if(p.body){v=p.createElement("div");p.body.appendChild(v)}else e[s].evaluated=!1;if(v){v.id=k;Kameleoon.Internals.runtime.addedIDs.push("#"+k);i=[v]}else i=[]}break;default:i=Kameleoon.Utils.querySelectorAll(d,u);break}var S=!1;l=[];for(var h=0,g=i.length;h<g;++h)if(!i[h].getAttribute("kameleoon"))if(!t||void 0===c.htmlContent||this.checkElementLoaded(i[h])){if(c.userPosition&&c.userPosition.referenceElement&&!Kameleoon.Utils.querySelectorAll(c.userPosition.referenceElement)[0])continue;if(c.domOperation){var y=Kameleoon.Utils.querySelectorAll(c.domReference,u)[0];if(!y&&c.domReferenceCurrentQuery)y=Kameleoon.Utils.querySelectorAll(c.domReferenceCurrentQuery,u)[0];this.saveElementOriginalData(i[h]);i[h].kameleoonData.domTargetElement=y;if(t||o){if(!this.checkElementLoaded(i[h])&&0!=c.selector.indexOf("#kameleoonElement")||!this.checkElementLoaded(i[h].kameleoonData.domTargetElement))continue;S=!0}}l.push({element:i[h],options:Kameleoon.Utils.clone(c)})}e[s].removeSelector=S||o&&0<i.length&&null!=c.autoGeneratedSelector;r=r.concat(l)}return r};e.prototype.performHTMLReplacements=function(e,t,o,n,a){var i=this;var l=null;var r=!0;while(r){l=this.obtainElements(e,t,o,n,a);if(0==l.length)break;l=l.sort((function(e,t){var o=i.obtainDepth(e.element),n=i.obtainDepth(t.element);return o<n?-1:o>n?1:0}));l=this.removeDuplicates(l);r=!1;for(var s=0,m=l.length;s<m;++s){var d=l[s].options;if(d.htmlContent)r=this.changeHTMLContent(l[s],e,d.htmlContent,!1,!0)||r;if(d.replaceHtmlContent)r=this.changeHTMLContent(l[s],e,d.replaceHtmlContent,!0,!0)||r;if(r)r=!1}}for(var s=0,m=e.length;s<m;++s)if(e[s]&&e[s].removeSelector)e[s]=null;return l};e.prototype.powerElement=function(e,t,o){if(!t.dataset||!t.dataset.kameleoonEvaluated||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){if(!t||Kameleoon.Internals.configuration.specifyElements&&-1==t.className.indexOf("Kameleoon"))return;if(t.dataset)t.dataset.kameleoonEvaluated=!0;this.saveElementOriginalData(t);t.kameleoonData.powered=!0;t.setAttribute("kameleoon","active");if(o.keepSpace)this.reserveSpaceForElement(t);if(o.domOperation){var n=t.kameleoonData.domTargetElement;if(!n){var a=null;if(o.context){a=Kameleoon.Utils.querySelectorAll(o.context);a=a[0]?a[0].contentWindow.document:null}n=Kameleoon.Utils.querySelectorAll(o.domReference,a)[0];if(!n&&o.domReferenceCurrentQuery)n=Kameleoon.Utils.querySelectorAll(o.domReferenceCurrentQuery,a)[0]}this.processDomOperation(e,t,n,o.domOperation)}if(o.attributesData)this.processAttributesData(t,o.attributesData);if(o.kameleoonId&&(!t.id||0===t.getAttribute("id").indexOf("kameleoonId")||0===t.getAttribute("id").indexOf("kameleoonElement")))t.id="kameleoonId"+o.kameleoonId;if(o.kameleoonClass)if(-1==(" "+t.className+" ").indexOf(" KameleoonClass"+o.kameleoonClass+" "))t.className+=(t.className?" ":"")+"KameleoonClass"+o.kameleoonClass;this.processUserPosition(t,t,o.userPosition,"inline"!=Kameleoon.Utils.obtainComputedStyle(t).display);this.setupNoLinkPropagation(o,t);this.processSpecialCases(t);this.processLinks(t,o.href)}};e.prototype.powerElements=function(e,t){for(var o=0,n=t.length;o<n;++o)this.powerElement(e,t[o].element,t[o].options)};e.prototype.processAttributesData=function(e,t){var o=JSON.parse(t);for(var n=0;n<o.length;++n){var a=o[n];if(a.removed)e.removeAttribute(a.attributeName);else e.setAttribute(a.attributeName,a.attributeValue)}};e.prototype.processDomOperation=function(e,t,o,n){if(!o){if(t.dataset)t.dataset.kameleoonEvaluated=!1;e.evaluated=!1;return}var a=t.parentNode;var i=o.parentNode;var l=t.nextSibling;while(i){if(i==t)return;i=i.parentNode}i=o.parentNode;try{if(a)a.removeChild(t);switch(n){case"SWAP":this.saveElementOriginalData(o);i.insertBefore(t,o);i.removeChild(o);if(l)try{a.insertBefore(o,l)}catch(e){a=t.parentNode;l=t.nextSibling;a.insertBefore(o,l)}else a.appendChild(o);if("left"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"right"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="right";o.style["float"]="left"}else if("right"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"left"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="left";o.style["float"]="right"}t.kameleoonData.swapTargetElement=o;break;case"INSERT_BEFORE":i.insertBefore(t,o);break;case"INSERT_AFTER":if(o.nextSibling)i.insertBefore(t,o.nextSibling);else i.appendChild(t);break;case"INSERT_AS_CHILD":if(0==o.childNodes.length)o.appendChild(t);else o.insertBefore(t,o.firstChild);break}}catch(e){}};e.prototype.processElementSet=function(e,t,o,n,a,i){var l=null;var r=[];this.pageElementSets=this.pageElementSets.concat([e]);l=this.performHTMLReplacements([e],o,n,t,i);if(a)window.editor.services.EngineService.getInstance().refreshCustomizableElements();for(var s=0,m=l.length;s<m;++s){if(o&&l[s].options.userPosition&&"RELATIVE"!=l[s].options.userPosition.positionMode)continue;r.push(l[s])}this.powerElements(e,r);if(0===r.length)e.evaluated=!1;return r?r.length>0:!1};e.prototype.processLinks=function(e,t){if(!t)return;if("a"==e.nodeName.toLowerCase())e.href=t;else{Kameleoon.Utils.addEventListener(e,"click",(function(){window.location.href=t}));e.style.cursor="pointer"}};e.prototype.processSpecialCases=function(e){if("body"==e.nodeName.toLowerCase()&&-1!=Kameleoon.Utils.obtainComputedStyle(e).background.indexOf("linear-gradient")){e.style.backgroundRepeat="no-repeat";if(window.innerHeight-document.documentElement.scrollHeight>0)e.style.backgroundAttachment="fixed"}};e.prototype.processUserPosition=function(e,t,o,n){if(o){switch(o.positionMode){case"ABSOLUTE_KEEP_SPACE":case"ABSOLUTE":if(n){var a="ABSOLUTE_KEEP_SPACE"==o.positionMode?e.kameleoonData.originalData.originalNode.offsetWidth:e.offsetWidth;if(a)this.setStyle(t,"width",a+"px","th"!=t.nodeName.toLowerCase()&&"td"!=t.nodeName.toLowerCase())}var i=null;var l=!1;if(o.referenceElement){i=Kameleoon.Utils.querySelectorAll(o.referenceElement)[0];l=!0}if(!i)i=document.body;if(i&&t.parentNode!=i){t.parentNode.removeChild(t);i.appendChild(t);if(!t.kameleoonData)t.kameleoonData={};t.kameleoonData.moved=!0}this.setStyle(t,"position","absolute",!1);var r=Kameleoon.Utils.obtainComputedStyle(t).left.replace("px","");var s=(parseInt(r)||0)/o.referenceWidth;this.setStyle(t,"left",Math.round(s*i.offsetWidth)+"px",!0);if(l)this.addRelativePositionToReferenceElement(i);break;case"RELATIVE":this.setStyle(t,"position","",!1);break}this.setStyle(t,"top","",!1);this.setStyle(t,"left","",!1);this.setStyle(t,"right","",!1);this.setStyle(t,"bottom","",!1);if(!n)this.setStyle(t,"width","",!1);this.setStyle(t,"height","",!1)}};e.prototype.removeDuplicates=function(e){var t=[];for(var o=0,n=e.length;o<n;++o)if(void 0==e[o].element.kameleoonUnique){e[o].element.kameleoonUnique=t.length;if(e[o].options.kameleoonClass)e[o].options.kameleoonClass=[e[o].options.kameleoonClass];t.push(e[o])}else{var a=e[o].element.kameleoonUnique;for(var i in e[o].options)if("kameleoonClass"==i){if(!t[a].options[i])t[a].options[i]=[];t[a].options[i].push(e[o].options[i])}else t[a].options[i]=e[o].options[i]}for(var o=0,n=t.length;o<n;++o)if(void 0!==t[o].element.kameleoonUnique){t[o].element.kameleoonUnique=void 0;t[o].element.removeAttribute("kameleoonUnique")}return t};e.prototype.replaceHTMLContent=function(e,t,o,n){o=this.replaceImagePlaceholder(o);var a=this.checkElementIsInDocument(e,n);if(0==o.indexOf("kameleoonInputImage:")){this.saveElementOriginalData(e);e.kameleoonData.originalData.imgSrc=e.src;e.src=o.replace("kameleoonInputImage:","");return e}var i=document.createElement(a?e.parentNode.nodeName.toLowerCase():"div");i.innerHTML=o;var l=null;if(0===o.search(/<td>|<tr>/)){var r=document.createElement("table");r.innerHTML=o;i.innerHTML="";i.appendChild(r)}while(i.childNodes.length>0){var s=i.childNodes[0];s.kameleoonData=e.kameleoonData;s.kameleoonData.originalData.replacedElement=e;if(!l){if(3==s.nodeType)return!1;l=s;s.id=e.id;if("copyAttributes"==l.getAttribute("kameleoon")){for(var m=0,d=e.attributes.length;m<d;++m){if("srcset"==e.attributes[m].name){if(l.getAttribute("src"))l.setAttribute("srcset",l.getAttribute("src"));continue}if("src"!=e.attributes[m].name)l.setAttribute(e.attributes[m].name,e.attributes[m].value)}l.removeAttribute("kameleoon")}var f=e.className.match(/(KameleoonClass[^\s]*)/);if(f)s.className+=(s.className?" ":"")+f[1];if(n.kameleoonId)s.id="kameleoonId"+n.kameleoonId;if(n.kameleoonClass&&-1==(" "+s.className+" ").indexOf(" KameleoonClass"+n.kameleoonClass+" "))s.className+=(s.className?" ":"")+"KameleoonClass"+n.kameleoonClass}if(a)e.parentNode.insertBefore(s,e);if(!0!==a)for(var m=0,d=t.length;m<d;++m)if(e==t[m].element)t[m].element=s;if(!1===a){e=s;s.parentNode.removeChild(s)}}if(a)e.parentNode.removeChild(e);return l};e.prototype.replaceImagePlaceholder=function(e){return e.replace(/STATIC_IMAGE_PATH/g,Kameleoon.Internals.configuration.IMAGE_PATH)};e.prototype.reserveSpaceForElement=function(e){if(!e.kameleoonData||!e.kameleoonData.originalData)this.saveElementOriginalData(e);if(!e.kameleoonData.originalData.originalNode){var t=!0;for(var o=0,n=e.childNodes.length;o<n;++o){var a=e.childNodes[o];if(1==a.nodeType)t=!1}var i=e.cloneNode(t);var l=e.getBoundingClientRect().width;this.setStyle(i,"width",l+"px",!1);if(!t)this.setStyle(i,"height",e.clientHeight+"px",!1);var r=Kameleoon.Utils.obtainComputedStyle(e);this.setStyle(i,"float",r.cssFloat,!1);this.setStyle(i,"margin-top",r.marginTop,!1);this.setStyle(i,"margin-bottom",r.marginBottom,!1);this.setStyle(i,"margin-left",r.marginLeft,!1);this.setStyle(i,"margin-right",r.marginRight,!1);this.setStyle(i,"overflow",r.overflow,!1);this.setStyle(i,"visibility","hidden",!1);i.removeAttribute("id");i.removeAttribute("class");e.parentNode.insertBefore(i,e);e.kameleoonData.originalData.originalNode=i;this.setStyle(e,"position","absolute",!1)}};e.prototype.saveElementOriginalData=function(e,t){if(!e||e.kameleoonData&&e.kameleoonData.originalData)return;if(!e.kameleoonData)e.kameleoonData={};e.kameleoonData.originalData={};e.kameleoonData.originalData.attributesData={};if(e.parentNode)e.kameleoonData.originalData.parentNode=e.parentNode;if(e.nextSibling){e.kameleoonData.originalData.nextSibling=e.nextSibling;if(3===e.nextSibling.nodeType&&e.previousSibling&&3===e.previousSibling.nodeType&&t&&("INSERT_AFTER"===t||"INSERT_BEFORE"===t)){var o=document.createComment("ReplaceHolderComment");var n=e.nextSibling.parentNode.insertBefore(o,e.nextSibling);e.kameleoonData.originalData.placeholderComment=n}}if(e.href)e.kameleoonData.originalData.href=e.getAttribute("href");if(e.nodeValue)e.kameleoonData.originalData.nodeValue=e.nodeValue;if(e.attributes)for(var a=0,i=e.attributes.length;a<i;++a){var l=e.attributes[a];e.kameleoonData.originalData.attributesData[l.nodeName]=l.nodeValue}};e.prototype.setStyle=function(e,t,o,n){this.saveElementOriginalData(e);var a=e.style.cssText;if(a){a=a.replace(/^\s+|\s+$/g,"");var i=new RegExp("(^|;)(\\s*"+t+"(.*?);)");a=a.replace(i,"$1");if(a){if(a.lastIndexOf(";")<a.length-2)a+=";";if(a.lastIndexOf(" ")!=a.length-1&&o)a+=" "}}else a="";var l=a+(o?t+": "+o+(n?" !important;":";"):"");e.style.cssText=l};e.prototype.setupNoLinkPropagation=function(e,t){if(e.noLinkPropagation)t.setAttribute("kData","nlp")};return e}();var Gatherer=function(){function t(){this.MAX_HREF_LENGTH_IN_A_REQUEST=200;this.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST=200;this.SCRIPT_VERSION=20190115;this.trackExternalSolutionData=function(){}}t.prototype.run=function(){var t=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer);if("string"==typeof t)t=JSON.parse(Kameleoon.Utils.decodeString(t));Kameleoon.Internals.runtime.Gatherer={configuration:t,active:!0,numberClicks:0,tabCode:Kameleoon.Utils.obtainRandomString(16),tabCount:0};this.Browser=new Browser(t.browsers);this.CustomData=new CustomData(t.customData);this.KeyPage=new KeyPage(t.keyPages);this.KeyWord=new KeyWord(t.keyWords);this.Language=new Language;this.OperatingSystem=new OperatingSystem(t.oss);this.Referrer=new Referrer(t.referrers);this.TimeZone=new TimeZone;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",0);Kameleoon.Internals.runtime.Visitor=new Visitor;Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.runtime.Gatherer.configuration.customScriptBefore,"kameleoonCustomScriptBefore.js");this.track(VisitEvent_Page.type);this.track(VisitEvent_StaticData.type);VisitEvent_Activity.initialize();this.CustomData.run();Kameleoon.Mentalist.run();Kameleoon.Internals.runtime.gathererRun=!0};t.prototype.startNewVisit=function(t,e){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!0,!0,e);this.track(VisitEvent_Page.type);this.track(VisitEvent_StaticData.type);this.CustomData.run();};t.prototype.track=function(t,e){new VisitEvent(t).track(e)};return t}();var KameleoonEngine=function(){function e(){this.Analyst=new Analyst;this.API=new API;this.ElementSet=new ElementSet;this.Gatherer=new Gatherer;this.Loader=new Loader;this.Mentalist=new Mentalist;this.Targeting=new Targeting;this.Tracking=new Tracking;this.Utils=new Utils}return e}();var Loader=function(){function e(){var e=this;this.enableKameleoonEditorListener=function(){if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=!0;var e=function(e){if(!e)e=window.event;Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,e)};Kameleoon.Utils.addEventListener(document,"keyup",e,!1)}};this.listenKeys=function(e){if(e.shiftKey){if(113==e.keyCode&&Kameleoon.Internals.configuration.abtestingSetup){Kameleoon.Internals.runtime.editorMode=!0;Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)}),!0)}if(115==e.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection))Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Loader.enableSimulationPanel()}),!0)}};}return e}();var Mentalist=function(){function t(){var t=this;this.MAX_VISIT_AGE=180*24*60*60*1e3;this.computeVariationIdToScore=function(e){try{var r=Kameleoon.Internals.configuration.MentalistFeatures;Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1);var n=Kameleoon.Internals.runtime.Visitor.currentVisit;var i=t.computePreviousVisits();var a={};var o=t.computeVariationScore(e,null,n,i);if(null!=o)a[0]=o;var s=r.experiments[e].variationIds;for(var l=0,u=s.length;l<u;++l){var c=s[l];var m=t.computeVariationScore(e,c,n,i);if(null!=m)a[c]=m}return a}catch(t){return{}}};this.computeGoalConversionProbabilityPredictionByGoalId=function(e){try{var r=Kameleoon.Internals.configuration.MentalistFeatures;var n=Kameleoon.Internals.configuration.MentalistLearner;var i=void 0;if(null==e)i=n.startOfVisitLearner;else{var a=n.targetingSegments[e];if(null==a){i=n.startOfVisitLearner;e=null}else i=a.probabilityLearner}if(0==i.trainingOutputVectorTargetNbUpdates)return{};Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1);var o=Kameleoon.Internals.runtime.Visitor.currentVisit;var s=t.computePreviousVisits();var l={};var u=VisitVectorizationUtils.computeVector(o,s,l,!0,null!=e,null,e);var c=Learner.computeProbabilities(i,u,l);var m=i.trainingOutputVectorTargetMean;var v=(null==e?r:r.targetingSegments[e]).outputGoalIds;var p={};for(var f=0,V=v.length;f<V;++f)p[v[f]]=t.computeConversionProbability(m[f],c[f]);return p}catch(t){return{}}};this.computePreviousVisits=function(){return new PreviousVisits(Kameleoon.Internals.runtime.Visitor.visits.slice(0,-1).slice(-Kameleoon.Internals.configuration.MentalistFeatures.maxNumberPreviousVisits).filter((function(e){return(new Date).getTime()-e.startDate<=t.MAX_VISIT_AGE})))};this.computeVariationScore=function(e,r,n,i){var a=Kameleoon.Internals.configuration.MentalistFeatures;var o=Kameleoon.Internals.configuration.MentalistLearner;var s=o.experiments[e].variationIdToProbabilityLearner[r];if(0==s.trainingOutputVectorTargetNbUpdates)return null;var l={};var u=VisitVectorizationUtils.computeVector(n,i,l,!0,!0,e,null);var c=Learner.computeProbabilities(s,u,l);var m=a.experiments[e].outputGoalWeights;var v=0;for(var p=0,f=m.length;p<f;++p)v+=m[p]*t.computeConversionProbability(s.trainingOutputVectorTargetMean[p],c[p]);return v};this.computeConversionProbability=function(t,e){if(0==e)return 0;if(1==e)return 1;if(e>=t)return.5+(e-t)/(1-t)/2;return.5+(e-t)/t/2};this.targetingSegmentsPredictions={}}t.prototype.isSecure=function(){return null!=Kameleoon.Internals.configuration.MentalistFeatures&&null!=Kameleoon.Internals.configuration.MentalistLearner};t.prototype.run=function(){Kameleoon.Internals.runtime.mentalistRun=this.isSecure();if(Kameleoon.Internals.runtime.Gatherer.startOfVisit&&Kameleoon.Internals.runtime.mentalistRun&&Kameleoon.Internals.configuration.track){Kameleoon.Gatherer.track(VisitEvent_MentalistSettings.type);var t=this.computeGoalConversionProbabilityPredictionByGoalId(null);if(!Kameleoon.Utils.testEmptyMap(t)){var e=[];for(var r in t)e.push([parseInt(r),t[r]]);Kameleoon.Gatherer.track(VisitEvent_MentalistPredictionStartOfVisit.type,{goalIdToConversionProbability:e});Kameleoon.Internals.runtime.storedData.saveField("Gatherer","savedScoresFromMoments",{0:t})}}};return t}();var Runtime=function(){function Runtime(){var e=this;this.JS_EDITOR_URL=Kameleoon.Internals.configuration.BASE_EDITOR_URL+"script/editor.js";this.PAGE_LOADED_POLL_DELAY=250;this.PAGE_LOADING_POLL_DELAY=75;this.enableSinglePageSupport=function(){e.singlePageSupport=!0;e.href=window.location.href;Kameleoon.Utils.setInterval((function(){var n=e.href;e.href=window.location.href;if(n!=e.href)Kameleoon.Analyst.load.apply(e,[])}),100)};this.executeGlobalScript=function(){if(Kameleoon.Internals.configuration.globalScript&&!e.globalScriptProcessed&&!e.editorMode&&!e.kameleoonSelectionIframeMode){e.globalScriptProcessed=!0;Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.configuration.globalScript,"kameleoonGlobalScript.js")}};this.initializeActions=function(){if(Kameleoon.Internals.configuration.abtestingSetup||Kameleoon.Internals.configuration.personalizationSetup){e.targetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.targetingSegments);e.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations);e.variations.forEach((function(e){if(e.widgetTemplateInputData)for(var n in e.widgetTemplateInputData)if("string"==typeof e.widgetTemplateInputData[n])e.widgetTemplateInputData[n]=e.widgetTemplateInputData[n].replace("STATIC_IMAGE_PATH",Kameleoon.Internals.configuration.IMAGE_PATH)}))}if(Kameleoon.Internals.configuration.abtestingSetup)e.experiments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.experiments).map((function(n){return new Experiment(n,e.incomingStoredData)}));if(Kameleoon.Internals.configuration.personalizationSetup){Personalization.setGlobalPersonalizationDeviation();e.personalizations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.personalizations).map((function(n){return new Personalization(n,e.incomingStoredData)}));}};this.initializeLegalConsent=function(){var n=e.readFromStorageOrExternal("kameleoonLegalConsent","LS");if(null==n)n=e.readFromStorageOrExternal("kameleoonLocalDataConsent","LS");if(null!=n)if(1==n)e.consent={AB_TESTING:!0,PERSONALIZATION:!0};else e.consent=n;else e.consent={AB_TESTING:"OFF"==Kameleoon.Internals.configuration.abtestConsent?!0:null,PERSONALIZATION:"OFF"==Kameleoon.Internals.configuration.personalizationConsent?!0:null};if("INTERACTIVE"==Kameleoon.Internals.configuration.abtestConsent&&null==e.consent.AB_TESTING||"INTERACTIVE"==Kameleoon.Internals.configuration.personalizationConsent&&null==e.consent.PERSONALIZATION){var t=function(){document.removeEventListener(Kameleoon.Internals.runtime.mouseDownEvent,t,!1);window.removeEventListener("scroll",t,!1);var n;if("INTERACTIVE"==Kameleoon.Internals.configuration.abtestConsent&&null==e.consent.AB_TESTING)n="AB_TESTING";if("INTERACTIVE"==Kameleoon.Internals.configuration.personalizationConsent&&null==e.consent.PERSONALIZATION)if("AB_TESTING"==n)n="BOTH";else n="PERSONALIZATION";if(n)Kameleoon.Analyst.enableLegalConsent(n)};Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,t,!1);Kameleoon.Utils.addEventListener(window,"scroll",t,!1)}};this.initializeListeners=function(){Kameleoon.Utils.domReady((function(){e.domReady=!0;if(!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys)Kameleoon.Loader.enableKameleoonEditorListener();if(e.kameleoonSelectionIframeMode){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","utf-8");n.setAttribute("src","https://"+Kameleoon.Internals.configuration.API_HOST_NAME+"."+Kameleoon.Internals.configuration.DOMAIN+"/get-script?type=selection");e.headNode.appendChild(n)}if(!e.simulationMode&&e.parameters.kameleoonHeatMap&&e.parameters.kameleoonVariationId)Kameleoon.Analyst.getHeatMap();if(0==window.kameleoonLightIframe&&window.kameleoonIframeURL){e.iframeLocalStorage=!1;if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)Kameleoon.Utils.setTimeout((function(){var e=document.createElement("iframe");e.src=window.kameleoonIframeURL;e.id="kameleoonExternalIframe";e.style.cssFloat="left !important";e.style.opacity="0.0 !important";e.width="0px";e.height="0px";e.onload=function(){e.parentNode.removeChild(e)};document.head.appendChild(e)}),5e3)}}));if("touchend"==e.mouseDownEvent){Kameleoon.Utils.addEventListener(document,"touchmove",(function(n){e.touchMoveEvent=!0}));Kameleoon.Utils.addEventListener(document,"touchstart",(function(n){e.touchMoveEvent=!1}))}if(!e.iframeLocalStorage)window.addEventListener("storage",(function(e){var n=null==e.key?[""]:e.key.split("-");var t=n[0];if(-1!=t.indexOf("kameleoon")){if(window.document.hasFocus())return;var o=void 0;if(null==e.newValue)o=null;else try{o=JSON.parse(e.newValue).value}catch(e){return}var a={};switch(t){case"kameleoonExperiment":a.type=t;var i=n[1];a.experimentId=parseInt(i);var l=void 0;if(null==o)l=null;else{var r=o.split("/")[0];l=isNaN(r)?r:parseInt(r)}a.registeredVariationId=l;break;case"kameleoonGlobalPersonalizationExposition":a.type=t;a.active=null==o?null:"true"==o.split("/")[0];break;case"kameleoonData":case"kameleoonSimulationVisitorData":a.type=t;a.value=null==o?null:o;break;case"kameleoonLegalConsent":a.type=t;a.saveLegalConsent=null==o?null:o;break}if(null!=a.type)Kameleoon.Utils.processStorageData(a)}}),!1);};this.processPageLoaded=function(){e.pageLoaded=!0;Kameleoon.Utils.removeBlockingStyleSheet();for(var n=0,t=e.variations.length;n<t;++n)if(e["enginePollerForVariation"+e.variations[n].id]){if(Kameleoon.Internals.runtime.cantUseMutationObserver)window.clearInterval(e["enginePollerForVariation"+e.variations[n].id]);e["enginePollerForVariation"+e.variations[n].id]=null}};this.readFromStorageOrExternal=function(n,t){if(e.incomingStoredData)return e.incomingStoredData[n];else return Kameleoon.Utils.readLocalData(n,t,!0)};this.setup=function(){if(Kameleoon.Internals.runtime.parameters.kameleoon)Kameleoon.Utils.domReady((function(){Kameleoon.Loader.enableKameleoonEditor()}));if(null!=Kameleoon.Internals.configuration.kameleoonByteLength)if(null!=window.kameleoonStartLoadTime){var n=window.kameleoonEndLoadTime-window.kameleoonStartLoadTime-25;e.bandwithBytesPerMillisecond=Kameleoon.Internals.configuration.kameleoonByteLength/n}var t=Kameleoon.Utils.setInterval((function(){var n=document.getElementById("adBlockerCheck");if(null==n&&null!=document.body){n=document.createElement("div");n.id="adBlockerCheck";n.className="ad-placement";document.body.appendChild(n)}if(null!=n&&"none"==Kameleoon.Utils.obtainComputedStyle(n).display){Kameleoon.Utils.clearInterval(t);e.adBlocker=!0}}),50);var o=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(o);var n=document.getElementById("adBlockerCheck");if(null!=n)n.parentNode.removeChild(n);if(null==e.adBlocker){Kameleoon.Utils.clearInterval(t);e.adBlocker=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker.type)}),2e3);var a=Kameleoon.Utils.setInterval((function(){if(Kameleoon.Utils.querySelectorAll("[id^=ghostery-]").length>0){Kameleoon.Utils.clearInterval(a);e.adBlocker=!0}}),50);var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);if(null==e.ghostery){Kameleoon.Utils.clearInterval(a);e.ghostery=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker.type)}),2e3);e.Geolocation="undefined"!=typeof KGeolocation?new KGeolocation:null;e.IP="undefined"!=typeof IP?new IP:null;KMutationObserver.setMutationObserver();Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Analyst.loadSimulation()}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processAllTargetingSegments();Kameleoon.Analyst.Goals.checkKameleoonGoals()};this.setupLocalData=function(n){Kameleoon.Utils.addEventListener(window,"message",Kameleoon.Utils.processMessageEvent,!1);if(e.iframeLocalStorage){e.externalIframe=document.getElementById("kameleoonExternalIframe")||window.kameleoonExternalIframe;e.postMessageOrigin=window.kameleoonIframeOrigin?window.kameleoonIframeOrigin:Kameleoon.Internals.configuration.IFRAME_ORIGIN;e.postMessageCallbacks={};if(null==Kameleoon.Internals.configuration.externalIframeData)Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"retrieve",callbackId:Kameleoon.Utils.addPostMessageCallback((function(t){e.incomingStoredData=t;n()}))}));else{e.incomingStoredData=Kameleoon.Internals.configuration.externalIframeData;n();delete Kameleoon.Internals.configuration.externalIframeData}}else{e.incomingStoredData=null;n()}};this.shouldAbortRuntimeOptout=function(){var n=e.parameters.kameleoonOptout;if(null!=n){var t=parseInt(n);Kameleoon.Utils.createLocalData("kameleoonOptout","true",isNaN(t)?45:t,null,"LS",!1,null,!0)}if(Kameleoon.Utils.readLocalData("kameleoonOptout","LS",!1)||Kameleoon.Utils.readLocalData("kameleoonOptout","COOKIE",!1))return!0;return!1};this.pageStartTime=(new Date).getTime();this.Device=new Device;this.deviceType=this.Device.type;this.parameters=Kameleoon.Utils.parseParameters();this.headNode=document.getElementsByTagName("head")[0];this.editorMode="true"==this.parameters.kameleoon;this.proxyMode="proxy."+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname;this.disableCache="true"==this.parameters.kameleoonDisableCache||this.parameters.kameleoonVariationId;this.kameleoonSelectionIframeMode="true"==this.parameters.kameleoonSelectionIframeMode;this.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport;this.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe;this.mouseDownEvent="ontouchend"in document.documentElement?"touchend":"mousedown";this.addedClasses=[];this.addedIDs=[];this.eventListeners=[];this.listenVariations=[];this.waitingElementPresentObjects=[];this.experiments=[];this.personalizations=[];this.variations=[];this.intervalIds={};this.timeoutIds={};this.goals=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.goals);this.cantUseMutationObserver="undefined"==typeof MutationObserver&&!Kameleoon.Internals.configuration.disableDomMutationObserver}Runtime.prototype.clear=function(){this.eventListeners.forEach((function(eventListener){var element;if("window"==eventListener.elementKey||"document"==eventListener.elementKey)element=eval(eventListener.elementKey);else{element=document.querySelector("[kameleoonListener-"+eventListener.elementKey+"=true]");if(element)element.removeAttribute("kameleoonListener-"+eventListener.elementKey)}if(element)element.removeEventListener(eventListener.eventType,eventListener.actionFunction,eventListener.useCapture)}));for(var timeoutId in this.timeoutIds)Kameleoon.Utils.clearTimeout(parseInt(timeoutId));for(var intervalId in this.intervalIds)Kameleoon.Utils.clearInterval(parseInt(intervalId));if(null!=this.mutationObserver)this.mutationObserver.disconnect();var elements=Kameleoon.Utils.querySelectorAll("[id^='kameleoonElement'], [id^='kameleoonScenarioLayerBase'], [id^='kameleoonStyleSheet']");for(var i=0;i<elements.length;++i)elements[i].parentNode.removeChild(elements[i]);elements=Kameleoon.Utils.querySelectorAll("[id^='kameleoonId'], .kameleoonOverlay");for(var i=0;i<elements.length;++i)elements[i].removeAttribute("id");elements=Kameleoon.Utils.querySelectorAll("[class^='kameleoonClass']");for(var i=0;i<elements.length;++i)elements[i].removeAttribute("class");if(Kameleoon.Internals.runtime.storedData)Kameleoon.Internals.runtime.storedData.save(!0)};Runtime.prototype.run=function(){var e=this;this.running=!0;Kameleoon.Utils.removeBlockingStyleSheet();this.setupLocalData((function(){if(!e.shouldAbortRuntimeOptout()){e.simulationMode=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonSimulation","LS")?!0:!1;e.RequestManager=new RequestManager;e.storedData=new StoredData(e.incomingStoredData);e.initializeLegalConsent();e.initializeActions();Kameleoon.Gatherer.run();e.executeGlobalScript();window.kameleoonQueue=new CommandQueue(window.kameleoonQueue);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Started",{newVisitorCode:1==Kameleoon.Internals.runtime.Visitor.visits.length});e.initializeListeners();e.setup();e.setupAfterLocalDataRetrieval=!0}}))};return Runtime}();var Utils=function(){function Utils(){var e=this;this.addParameterToURL=function(e,t,n){if(n)return e+(-1==e.indexOf("#")?"#":"&")+t;var a="";if(-1!=e.indexOf("#")){a=e.substr(e.indexOf("#"));e=e.substr(0,e.indexOf("#"))}e+=(-1==e.indexOf("?")?"?":"&")+t+a;return e};this.computeCurrentPageAbsoluteURLNoProxyMode=function(){var e=Kameleoon.Internals.runtime;if(null==e.currentPageAbsoluteURLNoProxyMode){if(e.proxyMode){var t=e.parameters.kameleoonExperimentId||e.parameters["kameleoon-experiment-id"];if(null!=t){var n=e.experiments.filter((function(e){return e.id==t}));if(n)e.currentPageAbsoluteURLNoProxyMode=n[0].baseURL}}if(null==e.currentPageAbsoluteURLNoProxyMode)e.currentPageAbsoluteURLNoProxyMode=window.location.href}return e.currentPageAbsoluteURLNoProxyMode};this.computeCurrentPageCanonicalURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCanonicalURL){var t=e.querySelectorAll('link[rel="canonical"]');if(t.length>0)Kameleoon.Internals.runtime.currentPageCanonicalURL=t[0].href}return Kameleoon.Internals.runtime.currentPageCanonicalURL};this.computeCurrentPageCleanRelativeURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCleanRelativeURL)Kameleoon.Internals.runtime.currentPageCleanRelativeURL=e.computeRelativeURL(e.computeCurrentPageCleanAbsoluteURL());return Kameleoon.Internals.runtime.currentPageCleanRelativeURL};this.computeIfSuffix=function(e,t){var n=e.length-t.length;var a=e.lastIndexOf(t,n);return a>=0&&a==n};this.computeRelativeURL=function(e){var t=document.createElement("a");t.href=e;return t.pathname+t.search+t.hash};this.computeStringSha256=function(t){var n=1,a,r=[],o=[];while(++n<18)for(a=n*n;a<312;a+=n)r[a]=1;function i(e,t){return Math.pow(e,1/t)%1*4294967296|0}for(n=1,a=0;n<313;)if(!r[++n]){o[a]=i(n,2);r[a++]=i(n,3)}function l(e,t){return e>>>t|e<<32-t}var s=o.slice(n=0),m=e.encodeUTF8(t),c=[],u=m.length,f=[],d,g,p;for(;n<u;)f[n>>2]|=(255&m.charCodeAt(n))<<8*(3-n++%4);u*=8;f[u>>5]|=128<<24-u%32;f[p=u+64>>5|15]=u;for(n=0;n<p;n+=16){d=s.slice(a=0,8);for(;a<64;d[4]+=g){if(a<16)c[a]=f[a+n];else c[a]=(l(g=c[a-2],17)^l(g,19)^g>>>10)+(0|c[a-7])+(l(g=c[a-15],7)^l(g,18)^g>>>3)+(0|c[a-16]);var h=void 0;d.unshift((g=(d.pop()+(l(h=d[4],6)^l(h,11)^l(h,25))+((h&d[5]^~h&d[6])+r[a])|0)+(0|c[a++]))+(l(u=d[0],2)^l(u,13)^l(u,22))+(u&d[1]^d[1]&d[2]^d[2]&u))}for(a=8;a--;)s[a]=d[a]+s[a]}for(m="";a<63;)m+=(s[++a>>3]>>4*(7-a%8)&15).toString(16);return m};this.computeURLNoKameleoonParameters=function(e){return e.replace(/(\?|&|#)kameleoon[^&#]*/g,"")};this.computeURLRegExpNoKameleoonParameters=function(e){return e?e.replace(/(\\\?|&|#)kameleoon[^&#()]*/g,""):null};this.createLocalData=function(t,n,a,r,o,i,l,s){var m="LS"==o?!0:"COOKIE"==o?!1:!0;var c=(new Date).getTime();if(!s&&!Kameleoon.Internals.runtime.consent.AB_TESTING&&!Kameleoon.Internals.runtime.consent.PERSONALIZATION){var u=m?"LS":"COOKIE";if(null==Kameleoon.Internals.runtime.localDataMap)Kameleoon.Internals.runtime.localDataMap={};if(null==Kameleoon.Internals.runtime.localDataMap[u])Kameleoon.Internals.runtime.localDataMap[u]={};Kameleoon.Internals.runtime.localDataMap[u][t]={name:t,value:n,days:a,domain:r,forceLocalAccess:o,jsonFormat:i,creationTime:c};if(m)l&&l();return}if(m){var f=c+24*a*60*60*1e3;if(Kameleoon.Internals.runtime.iframeLocalStorage)e.postMessageToExternalIframe(JSON.stringify({type:"set",key:t,data:{value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t]&&e.obfuscateString(JSON.stringify(n))||n,expirationDate:f},callbackId:e.addPostMessageCallback(l)}));else{try{localStorage.setItem(t,JSON.stringify({value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t]&&e.obfuscateString(JSON.stringify(n))||n,expirationDate:f}))}catch(e){}l&&l()}}else{var d="";var g=i?JSON.stringify(n):n;if(a){var f=new Date(c+24*a*60*60*1e3);d="; expires="+f.toUTCString()}if("CURRENT_HOST"!=r){r=r||e.obtainCurrentRootDomain(t,g);d+="; domain="+r}document.cookie=t+"="+g+d+"; path=/"}};this.decodeString=function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var r,o,i;var l,s,m,c;var u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(u<t.length){l=n.indexOf(t.charAt(u++));s=n.indexOf(t.charAt(u++));m=n.indexOf(t.charAt(u++));c=n.indexOf(t.charAt(u++));r=l<<2|s>>4;o=(15&s)<<4|m>>2;i=(3&m)<<6|c;a+=String.fromCharCode(r);if(64!=m)a+=String.fromCharCode(o);if(64!=c)a+=String.fromCharCode(i)}a=e.decodeUTF8(a);return a};this.decodeUTF8=function(e){var t="";var n=0;var a=0,r=0,o;while(n<e.length){a=e.charCodeAt(n);if(a<128){t+=String.fromCharCode(a);n++}else if(a>191&&a<224){r=e.charCodeAt(n+1);t+=String.fromCharCode((31&a)<<6|63&r);n+=2}else{r=e.charCodeAt(n+1);o=e.charCodeAt(n+2);t+=String.fromCharCode((15&a)<<12|(63&r)<<6|63&o);n+=3}}return t};this.domReady=function(t){if("complete"==document.readyState||"interactive"==document.readyState)return t();else{var n=!1;e.addEventListener(document,"DOMContentLoaded",(function(){if(n)return;n=!0;t()}),!1);e.addEventListener(window,"load",(function(){if(n)return;n=!0;t()}),!1)}};this.encodeString=function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var r,o,i,l,s,m,c;var u=0;t=e.encodeUTF8(t);while(u<t.length){r=t.charCodeAt(u++);o=t.charCodeAt(u++);i=t.charCodeAt(u++);l=r>>2;s=(3&r)<<4|o>>4;m=(15&o)<<2|i>>6;c=63&i;if(isNaN(o))m=c=64;else if(isNaN(i))c=64;a=a+n.charAt(l)+n.charAt(s)+n.charAt(m)+n.charAt(c)}return a};this.encodeUTF8=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);if(a<128)t+=String.fromCharCode(a);else if(a>127&&a<2048){t+=String.fromCharCode(a>>6|192);t+=String.fromCharCode(63&a|128)}else{t+=String.fromCharCode(a>>12|224);t+=String.fromCharCode(a>>6&63|128);t+=String.fromCharCode(63&a|128)}}return t};this.eraseLocalData=function(t,n,a){var r="LS"==a?!0:"COOKIE"==a?!1:!0;var o=Kameleoon.Internals.runtime.localDataMap;var i=r?"LS":"COOKIE";if(null!=o&&null!=o[i]&&null!=o[i][t])delete o[i][t];if(r)if(Kameleoon.Internals.runtime.iframeLocalStorage)e.postMessageToExternalIframe(JSON.stringify({type:"remove",key:t,callbackId:e.addPostMessageCallback(null)}));else localStorage.removeItem(t);else e.createLocalData(t,"",-1,n,"COOKIE",!1,null,!0)};this.forceNoFlicker=function(e){var t=document.createElement("style");t.setAttribute("id","kameleoonPageLoading");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("media","screen");var n=e+" { visibility: hidden !important; background-image: none !important; }";t.appendChild(document.createTextNode(n));Kameleoon.Internals.runtime.headNode.appendChild(t)};this.getLocale=function(e){var t=Kameleoon.Gatherer.Language.obtainLocaleTag();if("fr-FR"==t)t="fr";if("en-US"==t)t="en";if(e&&(!t||"fr"!=t))t="en";return t.substring(0,2)};this.obtainComputedStyle=function(e){if(window.getComputedStyle)return getComputedStyle(e,"");return null};this.obtainCurrentRootDomain=function(t,n){if(null==Kameleoon.Internals.runtime.currentRootDomain){var a=window.location.hostname.split(".");var r="";for(var o=0,i=a.length;o<i;o++){if(o>0)r="."+r;r=a[i-o-1]+r;if(0==r.length)continue;e.createLocalData(t,n,1,r,"COOKIE",!1,void 0,!0);if(e.readLocalData(t,"COOKIE",!1)){e.eraseLocalData(t,r,"COOKIE");Kameleoon.Internals.runtime.currentRootDomain=r;break}}}return Kameleoon.Internals.runtime.currentRootDomain};this.obtainRandomString=function(e,t){if(void 0===t)t=Analyst.CODE_ALPHABET;var n=t.length;var a="";for(var r=0;r<e;++r){var o=Math.floor(Math.random()*n);a+=t.substring(o,o+1)}return a};this.parseHostName=function(e){var t=document.createElement("a");t.href=e;return t.hostname};this.processRedirect=function(e,t){if(window.location.href!=e){t=t||Kameleoon.Analyst.Actions.currentAction;if(Kameleoon.Internals.runtime.gathererRun&&1==Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length){if(Kameleoon.Internals.configuration.googleAnalytics)e=Kameleoon.Utils.addParameterToURL(e,"utm_referrer="+encodeURIComponent(document.referrer),Kameleoon.Internals.configuration.googleAnalyticsAllowAnchor);if(Kameleoon.Internals.configuration.adobeOmniture)e=Kameleoon.Utils.addParameterToURL(e,"sc_referrer="+encodeURIComponent(document.referrer),!0);if(Kameleoon.Internals.configuration.experiments.concat(Kameleoon.Internals.configuration.personalizations).filter((function(e){return e.atInternetTracking})))e=Kameleoon.Utils.addParameterToURL(e,"xtref="+encodeURIComponent(document.referrer),!0);if(Kameleoon.Internals.configuration.experiments.concat(Kameleoon.Internals.configuration.personalizations).filter((function(e){return e.webtrekkTracking})).length>0)if(1==Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length){e=Kameleoon.Utils.addParameterToURL(e,"em_src=ref",!0);var n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref");if(null!=n&&0==n.length)e=Kameleoon.Utils.addParameterToURL(e,"em_src=direct",!0);else if(null!=n&&new RegExp("^https?://[^/]*(google|bing|yahoo|yandex|baidu)\\..*").test(n))e=Kameleoon.Utils.addParameterToURL(e,"em_src=suma",!0)}}var a=Kameleoon.Internals.runtime.parameters;if(a.kameleoonHeatMap){e+=-1==e.indexOf("?")?"?":"&";e+="kameleoonHeatMap="+a.kameleoonHeatMap;e+="&kameleoonProgressiveLoading="+a.kameleoonProgressiveLoading;e+="&kameleoonExperimentId="+a.kameleoonExperimentId;e+="&kameleoonPageWidth="+a.kameleoonPageWidth;e+="&kameleoonAccountLocale="+a.kameleoonAccountLocale;e+="&kameleoonVariationId="+a.kameleoonVariationId;e+="&kameleoonHeatMapRedirect=true"}var r=document.createElement("a");r.href=e;if(!Kameleoon.Internals.runtime.useWideDomainSupport&&-1==window.location.href.indexOf(r.protocol+"//"+r.hostname)){if(t)e=Kameleoon.Utils.addParameterToURL(e,"kameleoonRedirect-"+t.id+"="+t.associatedVariation.id,!0)}else if(t)Kameleoon.Utils.createLocalData("kameleoonRedirect-"+t.id,t.associatedVariation.id,1,null,null,!1,null,!0);if(window.location.href!=e&&!a.kameleoonHeatMapRedirect){Kameleoon.Utils.forceNoFlicker("*");window.location.replace(e)}}};this.processStorageData=function(e){if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval)switch(e.type){case"kameleoonExperiment":for(var t=0,n=Kameleoon.Internals.runtime.experiments.length;t<n;++t){var a=Kameleoon.Internals.runtime.experiments[t];if(e.experimentId==a.id){a.registeredVariationId=e.registeredVariationId;break}}break;case"kameleoonGlobalPersonalizationExposition":Kameleoon.Internals.runtime.personalizationsActive=e.active;break;case"kameleoonData":case"kameleoonSimulationVisitorData":if("kameleoonData"==e.type&&!Kameleoon.Internals.runtime.simulationMode||"kameleoonSimulationVisitorData"==e.type&&Kameleoon.Internals.runtime.simulationMode)Kameleoon.Internals.runtime.storedData.update(JSON.parse(Kameleoon.Utils.unobfuscateString(e.value)));break;case"kameleoonLegalConsent":if(e.saveLegalConsent){if(e.saveLegalConsent.AB_TESTING){if(1!=Kameleoon.Internals.runtime.consent.AB_TESTING)Kameleoon.Analyst.enableLegalConsent("AB_TESTING")}else if(!1===e.saveLegalConsent.AB_TESTING)if(0!=Kameleoon.Internals.runtime.consent.AB_TESTING)Kameleoon.Analyst.disableLegalConsent("AB_TESTING");if(e.saveLegalConsent.PERSONALIZATION){if(1!=Kameleoon.Internals.runtime.consent.PERSONALIZATION)Kameleoon.Analyst.enableLegalConsent("PERSONALIZATION")}else if(!1===e.saveLegalConsent.PERSONALIZATION)if(0!=Kameleoon.Internals.runtime.consent.PERSONALIZATION)Kameleoon.Analyst.disableLegalConsent("PERSONALIZATION")}break}};this.querySelectorAll=function(t,n){Kameleoon.Internals.runtime.querySelectorAllHasError=!1;var a=!1,r,o=[],i=[];if(null==n)n=document;var l=t.match(/#([0-9]+.*)(?: |$)/);if(l){var s=t.charAt(1);t=t.replace("#"+s,"#\\3"+s+" ")}if(""!==t){if(-1!==t.indexOf("[")&&-1===t.indexOf("']")&&-1===t.indexOf('"]')){var m=t.split(/(?=\.)|(?=#)|(?=\[)/),c,u,f;m.forEach((function(e){if("["===e[0]&&-1===e.indexOf("']")&&-1===t.indexOf('"]')&&-1!==t.indexOf("=")){c=e.split(/=(.+)?/);u=c[1];u=u.substring(0,u.length-1);f=c[0]+"='"+u+"']";t=t.replace(e,f)}}))}if(-1!==t.indexOf(":contains")){a=!0;r=e.treatContainsSelector(t);t=r.newSelector}if(n&&n.querySelectorAll)if(-1!==t.indexOf(":eq"))o=e.treatEqSelector(t,n);else try{o=n.querySelectorAll(t)}catch(e){Kameleoon.Internals.runtime.querySelectorAllHasError=!0;o=[]}for(var d=0,g=o.length;d<g;++d)if(a){if(r.check(r.containText,o[d]))i.push(o[d])}else i.push(o[d])}return i};this.readLocalData=function(t,n,a){var r="LS"==n?!0:"COOKIE"==n?!1:!0;var o=(new Date).getTime();try{if(!Kameleoon.Internals.runtime.consent||!Kameleoon.Internals.runtime.consent.AB_TESTING&&!Kameleoon.Internals.runtime.consent.PERSONALIZATION){var i=Kameleoon.Internals.runtime.localDataMap;var l=r?"LS":"COOKIE";if(null!=i&&null!=i[l]&&null!=i[l][t]){var s=i[l][t];if(o-24*s.days*60*60*1e3>=s.creationTime)delete i[l][t];else return s.value}}if(r){var s=void 0;try{s=localStorage&&localStorage.getItem(t);if(!s)return null;if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t])s=e.unobfuscateString(s);s=JSON.parse(s)}catch(n){s=localStorage&&localStorage.getItem(t);if(!s)return null;s=JSON.parse(s);if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t])s.value=JSON.parse(e.unobfuscateString(s.value))}if(o>(s.date||s.expirationDate)){localStorage.removeItem(t);return null}return s.value}else{var m=null;var c=document.cookie.split(";");for(var u=0,f=c.length;u<f;++u){var d=c[u];var g=d.indexOf("=");if(d.substring(0,g).trim()==t){var p=d.substring(g+1);m=a&&JSON.parse(p)||p;break}}return m}}catch(e){}return null};this.runProtectedFunction=function(e,t){try{e()}catch(e){if(t)console.log(e);else Kameleoon.Utils.Logger.send(e,"kameleoon.js");if(Kameleoon.Internals.runtime&&t)Kameleoon.Internals.runtime.processPageLoaded()}};this.runProtectedScript=function(e,t){if(e){var n=null;try{n=eval.call(window,"(function () {\n"+e+"\n})();"+"//# sourceURL="+t)}catch(e){n=null;console.log(e)}return n}return null};this.seededRandom=function(t,n){var a;if(n){a=Kameleoon.Utils.computeStringSha256(t);return parseInt(a,16)/Math.pow(2,256)}a=e.computeStringHash(t);a=(9301*Math.abs(a)+49297)%233280;return a/233280};this.treatEqSelector=function(e,t){if(void 0===e)return null;var n=e.split(/\:eq\([0-9]+\)/g);var a=e.match(/(?!\:eq\()[0-9]+/g)||[];var r=null==t?document:t;for(var o=0;o<n.length;++o){n[o]=n[o].trim();if(">"===n[o].charAt(0))n[o]=n[o].substring(1,e.length).trim();if(null==r||""==n[o].trim())break;if(o>a.length-1)r=r.querySelectorAll(n[o]);else r=r.querySelectorAll(n[o])[a[o]]}if(null==r)return[];if(void 0==r.length)r=[r];var i=Kameleoon.Utils.querySelectorAll(e.replace(/\:eq\([0-9]+\)/g,""));var l=[];for(var o=0;o<i.length;++o)for(var s=0;s<r.length;++s)if(i[o]===r[s]){l.push(r[s]);break}return l};this.Logger=new Logger}Utils.prototype.addEventListener=function(e,t,n,a,r){var o;if(e==window)o="window";else if(e==document)o="document";else{o=Kameleoon.Utils.obtainRandomString(4);e.setAttribute("kameleoonListener-"+o,!0)}if(r)e.addEventListener(t,n,a);else e.addEventListener(t,(function(e){Kameleoon.Utils.runProtectedFunction((function(){n(e)}))}),a);Kameleoon.Internals.runtime.eventListeners.push({elementKey:o,eventType:t,actionFunction:n,useCapture:a})};Utils.prototype.addPostMessageCallback=function(e){var t=Math.random().toString();Kameleoon.Internals.runtime.postMessageCallbacks[t]=e;return t};Utils.prototype.addCSSStyleSheet=function(e,t,n){if(!e)return;var a=n?n:document;var r="kameleoonStyleSheet"+(t?"-"+t.id:"");var o=n?n.getElementById(r):null;var i="";if(o){i=o.textContent;o.parentNode.removeChild(o)}var l=a.createElement("style");l.className="KameleoonStyleSheet";l.setAttribute("id",r);l.setAttribute("rel","stylesheet");l.setAttribute("type","text/css");l.setAttribute("media","screen");var s=i+e;if(l.styleSheet)l.styleSheet.cssText=s;else l.appendChild(document.createTextNode(s));if(n)a.getElementsByTagName("head")[0].appendChild(l,a.getElementsByTagName("head")[0].firstChild);else Kameleoon.Internals.runtime.headNode.appendChild(l);if(t)t.loadedCSSStyleSheet=l};Utils.prototype.applyVariation=function(e){new Variation(e).process()};Utils.prototype.clearInterval=function(e){delete Kameleoon.Internals.runtime.intervalIds[e];window.clearInterval(e)};Utils.prototype.clearTimeout=function(e){delete Kameleoon.Internals.runtime.timeoutIds[e];window.clearTimeout(e)};Utils.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))};Utils.prototype.computeCurrentPageCleanAbsoluteURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(e){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL};Utils.prototype.computeStringHash=function(e,t){e=t?this.computeStringSha256(e):e;var n=0;for(var a=0;a<e.length;++a){n=(n<<5)-n+e.charCodeAt(a);n&=n}return n};Utils.prototype.flatten=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];for(var a=0;a<arguments.length;a++)if(arguments[a]instanceof Array)n.push.apply(n,Kameleoon.Utils.flatten.apply(this,arguments[a]));else n.push(arguments[a]);return n};Utils.prototype.isInsideHoursMinutesRange=function(e,t,n,a,r,o){if(0==a){n--;if(-1==n)n=23;a=60}if(n<e||n==e&&a<t){n+=24;if(r<e||r==e&&o<t)r+=24}var i=60*(60*r+o)*1e3;var l=60*(60*e+t)*1e3;var s=60*(60*n+a)*1e3;return i>=l&&i<s};Utils.prototype.obfuscateString=function(e){var t="";for(var n=0,a=e.length;n<a;n+=1){var r=e[n];if("’"==r)r="'";t+=String.fromCharCode(r.charCodeAt(0)+16)}return t};Utils.prototype.parseParameters=function(){var e={};var t=window.location.hash.substring(1).replace(/\?/g,"&");var n=window.location.search.substring(1);if(n||t){var a=(n?n.split("&"):[]).concat(t?t.split("&"):[]);a.forEach((function(t){var n=t.split("=");try{e[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):null}catch(t){e[unescape(n[0])]=n[1]?unescape(n[1]):null}}))}return e};Utils.prototype.performBeaconServerCall=function(e,t,n,a){var r=new XMLHttpRequest;r.open("GET",e,!0);if(t)r.onreadystatechange=function(e){t.bind(r)(e.target)};if(n){r.onerror=function(e){n.bind(r)(e.target)};r.ontimeout=function(e){n.bind(r)(e.target)}}r.timeout=a||15*60*1e3;r.send()};Utils.prototype.postMessageToExternalIframe=function(e){if(!Kameleoon.Internals.runtime.externalIframe||!Kameleoon.Internals.runtime.externalIframe.contentWindow){if(window.kameleoonIframeURL){var t=document.createElement("iframe");t.src=window.kameleoonIframeURL;t.id="kameleoonExternalIframe";t.style.cssFloat="left !important";t.style.height="0px !important";t.style.opacity="0.0 !important";t.style.width="0px !important";t.onload=function(){Kameleoon.Internals.runtime.externalIframe=t;Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")};document.head.appendChild(t)}}else Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")};Utils.prototype.processMessageEvent=function(event){if("string"!==typeof event.data)return;if("obtainTagCommanderVariableNames"==event.data){var tagCommanderVariableNames=[];if(window.tc_vars)for(var tagCommanderVariableName in window.tc_vars)tagCommanderVariableNames.push(tagCommanderVariableName);if(!(event.source instanceof MessagePort)&&!(event.source instanceof ServiceWorker))event.source.postMessage("tagCommanderVariableNames"+JSON.stringify(tagCommanderVariableNames),event.origin);return}if(0==event.data.indexOf("checkKameleoonScriptPresent")){if("https://back-office."+Kameleoon.Internals.configuration.DOMAIN==event.origin){var resultMessage="";var obtainScriptInstallationCode=event.data.replace("checkKameleoonScriptPresent","");eval(obtainScriptInstallationCode);if(!(event.source instanceof MessagePort)&&!(event.source instanceof ServiceWorker))event.source.postMessage(resultMessage,event.origin)}return}if(-1==event.data.indexOf("kameleoonFull")){if(event.data.indexOf("addKameleoonInterest")>=0||event.data.indexOf("finishKameleoonInterestCheck")>=0){Kameleoon.Internals.runtime.Gatherer.interestsChecked=!0;var messageData_1=JSON.parse(event.data);if("addKameleoonInterest"==messageData_1.command)Kameleoon.Internals.runtime.Gatherer.freshActiveInterestIndexes.push(messageData_1.index);--Kameleoon.Internals.runtime.numberInterestChecks;if(0==Kameleoon.Internals.runtime.numberInterestChecks)var timeoutId_1=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(timeoutId_1);var e=document.getElementsByClassName("KameleoonInterestDetection");for(var t=0,n=e.length;t<n;++t){var a=e.item(0);a.parentNode.removeChild(a)}Kameleoon.Gatherer.track(VisitEvent_Interests.type,{index:messageData_1.index,fresh:!0})}),300);return}if(event.data.indexOf("imageChecked")>=0){var messageData=JSON.parse(event.data);if(null!=Kameleoon.Internals.runtime.checkImageCallbacks&&null!=Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId]){var callback=Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId];delete Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId];callback&&callback(messageData.value);var iframes=document.getElementsByClassName("KameleoonImageDetection");for(var i=0,l=iframes.length;i<l;++i){var iframe=iframes.item(0);iframe.parentNode.removeChild(iframe)}}}}if(Kameleoon.Internals.runtime.iframeLocalStorage&&Kameleoon.Internals.runtime.postMessageOrigin==event.origin)try{var messageData=JSON.parse(event.data);if(messageData.kameleoonMessage){if(messageData.callbackId){var callback=Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId];delete Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId];callback&&callback(messageData.data)}if(null!=messageData.type)Kameleoon.Utils.processStorageData(messageData)}}catch(e){}};Utils.prototype.removeBlockingStyleSheet=function(){var e=document.getElementById("kameleoonPageLoading");if(e&&e.parentNode)e.parentNode.removeChild(e)};Utils.prototype.removeCSSStyleSheet=function(e){if(e.loadedCSSStyleSheet){var t=e.loadedCSSStyleSheet.id.replace("kameleoonStyleSheet-","");if(-1==t.indexOf(",")){Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet);e.loadedCSSStyleSheet=null}else e.loadedCSSStyleSheet.id="kameleoonStyleSheet-"+t.replace(new RegExp(e.id+",?"),"")}};Utils.prototype.sendKameleoonCustomEvent=function(e,t){try{var n=document.createEvent("CustomEvent");n.initCustomEvent("Kameleoon::"+e,!1,!1,t);window.dispatchEvent(n)}catch(e){}};Utils.prototype.setInterval=function(e,t,n,a){var r=window.setInterval((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),a)}),t);Kameleoon.Internals.runtime.intervalIds[r]=!0;if(n)e();return r};Utils.prototype.setTimeout=function(e,t,n){var a=window.setTimeout((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),n)}),t);Kameleoon.Internals.runtime.timeoutIds[a]=!0;return a};Utils.prototype.testEmptyMap=function(e){return 0==Object.keys(e).length};Utils.prototype.treatContainsSelector=function(e){var t={},n;function a(e,t){var n=!1;if(t.textContent&&-1!==t.textContent.indexOf(e))n=!0;return n}n=e.match(/:contains\(['"]([\s\S]+)['"]\)/);t.containText=n[1];t.newSelector=e.replace(n[0],"");if(""===t.newSelector)t.newSelector="*";t.check=a;return t};Utils.prototype.unobfuscateString=function(e){var t="";for(var n=0,a=e.length;n<a;n+=1)t+=String.fromCharCode(e[n].charCodeAt(0)-16);return t};Utils.LOCAL_STORAGE_OBFUSCATED_KEYS={kameleoonData:!0,kameleoonSimulationVisitorData:!0};return Utils}();var Browser=function(){function r(r){this.browsers=r}r.prototype.obtain=function(){var r=Kameleoon.Internals.runtime.Device.browser;if("Internet Explorer"==r||"Microsoft Edge"==r)r="Explorer";return r};r.prototype.obtainIndex=function(){var r=this.obtain()||"";var e=r.toUpperCase();for(var t in this.browsers)if(this.browsers[t].name.toUpperCase()==e)return parseInt(t);return null};return r}();var CustomData=function(){function CustomData(customData){var _this=this;this.CUSTOM_DATA_CUTOFF=3*1e3;this.CUSTOM_DATA_INTERVAL=30*1e3;this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF=100;this.MAX_INTERVAL_API_VISIT_REQUEST=15*60*1e3;this.MAX_NUMBER_REQUESTS_TO_API_VISIT=3;this.inheritVisitorScopeAndTrackVisitorDataFromServer=function(){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1);if(Kameleoon.Internals.runtime.Visitor.visits.length>1){var e=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum;var t=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2].countByValueByCustomDatum;for(var a in _this.customData){var n=_this.customData[a].scope;if("VISITOR"==n&&null==e[a]){var r=t[a];if(null!=r)_this.register(parseInt(a),{value:r,overwrite:!0},!0)}}Kameleoon.Internals.runtime.Visitor.saveToStoredData()}};this.register=function(e,t,a){var n=_this.customData[e];if(n){var r={};var i=t.value;if(null==i)return;var o=t.overwrite;if(a)r=i;else if(i instanceof Array){for(var s=0,l=i.length;s<l;++s)if(null!=i[s]&&(i[s].toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||n.localOnly))r[i[s]]=1}else if(i.toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||n.localOnly)r[i]=1;var u="LIST"==n.type||"COUNT_LIST"==n.type?o:!0;if(u||!Kameleoon.Utils.testEmptyMap(r)){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"CustomDataSet",{name:n.name,value:i});Kameleoon.Gatherer.track(VisitEvent_CustomData.type,{index:e,overwrite:u,countByValueToAdd:r,value:i,localOnly:n.localOnly})}}};this.registerVisitsRequestSuccessAndChangePreviousVisits=function(e){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","visitsRequestSuccess",!0);var t=[];for(var a=0,n=e.length;a<n;++a)t.push(new Visit(e[a]).convertVisitFromServer());if(t.length>0){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1);Kameleoon.Internals.runtime.Visitor.addPreviousVisits(t);Kameleoon.Internals.runtime.Visitor.saveToStoredData();_this.inheritVisitorScopeAndTrackVisitorDataFromServer()}};this.run=function(){Kameleoon.Internals.runtime.Visitor.currentVisit.clearCustomDataPage();Kameleoon.Utils.clearInterval(_this.intervalId);if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)_this.inheritVisitorScopeAndTrackVisitorDataFromServer();_this.firstTimeCheck=(new Date).getTime();_this.intervalId=Kameleoon.Utils.setInterval(_this.obtain.bind(_this),_this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF,!0);Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearInterval(_this.intervalId)}),_this.CUSTOM_DATA_CUTOFF);Kameleoon.Utils.setInterval(_this.obtain.bind(_this),_this.CUSTOM_DATA_INTERVAL,!1)};this.customData=customData}CustomData.prototype.obtain=function(){for(var e in this.customData)if(!this.customData[e].treated){var t=parseInt(e);var a=this.obtainValueMap(t,this.customData[e]);if(a)this.register(t,a)}};CustomData.prototype.obtainValueFromPath=function(e,t){return e.match(/[^'\]\[\.\"]+/gi).reduce((function(e,t){return e&&e[t]}),t)};CustomData.prototype.obtainValueMap=function(e,t){var a=null;if(null!=t&&!t.disabled)switch(t.method.toUpperCase()){case"GTM":if(window.dataLayer&&t.variableName)for(var n=0,r=window.dataLayer.length;n<r;++n){var i=this.obtainValueFromPath(t.variableName,window.dataLayer[n]);if(null!=i){a={value:i,overwrite:!1};break}}break;case"TC":if(window.tc_vars&&t.variableName){var i=this.obtainValueFromPath(t.variableName,window.tc_vars);if("string"==typeof i&&0==i.length)i=null;if(null!=i){a={value:i,overwrite:!1};break}}break;case"TEALIUM":if(window.utag_data&&t.variableName){var i=this.obtainValueFromPath(t.variableName,window.utag_data);if("string"==typeof i&&0==i.length)i=null;if(null!=i){a={value:i,overwrite:!1};break}}break;case"CUSTOM_CODE":a=Kameleoon.Utils.runProtectedScript(t.customEvalCode,"kameleoonCustomDataScript-"+e+".js");break;default:break}if(null!=a){t.treated=!0;var o=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e];var s=a.value;if(null!=s){var l=t.type;if("LIST"==l||"COUNT_LIST"==l||null==o||Object.keys(o)[0]!=s||Kameleoon.Internals.configuration.enableHistoryReconciliation&&t.mappingIdentifier&&null==Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestSuccess"))return a}}return null};CustomData.prototype.remoteSynchronisation=function(e,t,a){};return CustomData}();var KeyPage=function(){function e(e){this.keyPages=e}e.prototype.obtainIndexes=function(){var e=[];for(var t in this.keyPages){var n=new RegExp(this.keyPages[t].relativeURLRegExp);if(n.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||n.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL()))e.push(parseInt(t))}if(0==e.length)e.push(null);return e};return e}();var KeyWord=function(){function r(r){this.keyWords=r}r.prototype.obtainIndexes=function(r){var e=[];for(var t in this.keyWords)if(new RegExp(this.keyWords[t].wordRegExp,"i").test(r))e.push(parseInt(t));return e};return r}();var Language=function(){function a(){this.DEFAULT_LOCALE_LANGUAGE_TAG="en"}a.prototype.obtainLocaleTag=function(){var a=null;if(navigator&&navigator.language)a=navigator.language;return a?a:this.DEFAULT_LOCALE_LANGUAGE_TAG};return a}();var OperatingSystem=function(){function n(n){this.oss=n}n.prototype.obtainIndex=function(){var n=this.obtain()||"";var r=n.toUpperCase();for(var o in this.oss)if(this.oss[o].name.toUpperCase()==r)return parseInt(o);return null};n.prototype.obtain=function(){if(window.bowser.windowsphone)return"Windows Phone";if(window.bowser.ios)return"iOS";if(window.bowser.android)return"Android";if(window.bowser.windows)return"Windows";if(window.bowser.mac)return"Mac";if(window.bowser.linux)return"Linux";return null};return n}();var Referrer=function(){function Referrer(e){this.referrers=e}Referrer.prototype.obtainCorrected=function(e){switch(this.obtainType(e)){case 0:case 1:case 2:return null;default:return this.obtain()}};Referrer.prototype.obtain=function(){return document.referrer};Referrer.prototype.obtainDetectionMatches=function(e){var r=this.obtainDetectionPartMatches(e.method,e.parameters);if(e.and)r=r&&this.obtainDetectionPartMatches(e.andMethod,e.andParameters);return r};Referrer.prototype.obtainDetectionPartMatches=function(method,parameters){switch(method.toUpperCase()){case"REFERRER_REGEX":return new RegExp(parameters).test(this.obtain());case"URL_REGEX":var regExp=new RegExp(parameters);return regExp.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||regExp.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:try{return!0===eval(parameters)}catch(e){return!1}}};Referrer.prototype.obtainIndexes=function(e){switch(this.obtainType(e)){case 0:case 2:return[null];case 1:return[0];default:var r=[];var t=Number.NEGATIVE_INFINITY;for(var n in Kameleoon.Internals.runtime.Gatherer.configuration.referrers){var a=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n];if(this.obtainMatches(a)){var o=a.priority;if(null==o)o=Number.NEGATIVE_INFINITY;if(o>=t){if(o>t){r=[];t=o}r.push(parseInt(n)+1)}}}if(0==r.length)r.push(null);return r}};Referrer.prototype.obtainIsIgnored=function(e){var r=this.obtain();if(Kameleoon.Internals.runtime.Gatherer.configuration.directNoneReferrerOnlyFirst)if(""==r&&!e)return!0;var t=window.location.pathname;var n=Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages.length;for(var a=0;a<n;a++)if(t==Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages[a])return!0;return!1};Referrer.prototype.obtainMatches=function(e){var r=e.detections;for(var t=0;t<r.length;t++)if(this.obtainDetectionMatches(r[t]))return!0;return!1};Referrer.prototype.obtainType=function(e){if(this.obtainIsIgnored(e))return 0;var r=-1;var t=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage");if(t>1)return 1;if(r>=0)return 2;return 3};return Referrer}();var StoredData=function(){function a(a){var t=this;this.Gatherer={};this.Runtime={};this.Vars=Kameleoon.Utils.readLocalData("kameleoonVars","LS")||{};this.Visitor={};this.canSave=!1;if(a){var e=a.kameleoonData||"";if(Kameleoon.Internals.runtime.simulationMode)if(a.kameleoonDataSimulation||a.kameleoonSimulationVisitorData)e=a.kameleoonDataSimulation||a.kameleoonSimulationVisitorData;var i=Kameleoon.Utils.unobfuscateString(e);var o=i&&JSON.parse(i)||{};this.Gatherer=o.Gatherer||{};this.Runtime=o.Runtime||{};this.Vars=o.Vars||a.kameleoonVars||{};this.Visitor=o.Visitor||{}}else{var n=Kameleoon.Utils.readLocalData("kameleoonData","LS",!0);if(Kameleoon.Internals.runtime.simulationMode)if(Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0)||Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0))n=Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0)||Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0);if(n){this.Gatherer=n.Gatherer;this.Runtime=n.Runtime||{};this.Vars=n.Vars||this.Vars;this.Visitor=n.Visitor}}Kameleoon.Utils.eraseLocalData("kameleoonVars",null,"LS");for(var s in this.Vars)if(Kameleoon.Internals.runtime.pageStartTime>this.Vars[s].date)delete this.Vars[s];Kameleoon.Utils.setInterval((function(){if(t.canSave){t.save(!0);t.canSave=!1}}),1e3);Kameleoon.Utils.addEventListener(window,"beforeunload",(function(){t.save(!0)}))}a.prototype.obtainField=function(a,t,e){return this[a][t]||e||null};a.prototype.resetForStartOfVisit=function(){this.Runtime={};this.save(!0)};a.prototype.saveField=function(a,t,e){this[a][t]=e;this.save(!1)};a.prototype.save=function(a){if(a)Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":"kameleoonData",this,Kameleoon.Internals.runtime.simulationMode?1/24:380,null,"LS",!0);else this.canSave=!0};a.prototype.update=function(a){this.Gatherer=a.Gatherer||this.Gatherer;this.Runtime=a.Runtime||this.Runtime;this.Vars=a.Vars||this.Vars;this.Visitor=a.Visitor||this.Visitor};return a}();var TimeZone=function(){function t(){}t.prototype.obtainId=function(){var t;try{t="undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:null}catch(n){t=null}return t};return t}();var VisitEvent=function(){function t(t){this.eventType=t;this.visitEvent=[VisitEvent_AdBlocker,VisitEvent_Actions,VisitEvent_Conversions,VisitEvent_CustomData,VisitEvent_Geolocation,VisitEvent_MentalistPredictionSegmentTargeting,VisitEvent_MentalistPredictionStartOfVisit,VisitEvent_MentalistSettings,VisitEvent_Page,VisitEvent_Product,VisitEvent_Search,VisitEvent_StaticData,VisitEvent_TargetingSegments,VisitEvent_Activity].filter((function(e){return e.type==t}))[0]}t.prototype.track=function(t){var e=this;var i=function(){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1);var i=new e.visitEvent((new Date).getTime(),t);Kameleoon.Internals.runtime.Visitor.saveToStoredData();if((!t||!t.notTrack&&!i.notTrack)&&Kameleoon.Internals.configuration.track)Kameleoon.Internals.runtime.RequestManager.addRequest(i);Kameleoon.Internals.runtime.storedData.save(e.visitEvent.urgent)};if(!Kameleoon.Internals.runtime.Visitor.currentVisit.isVisitFinished())i();else if(this.eventType==VisitEvent_Activity.type&&Kameleoon.Internals.runtime.Gatherer.active||this.eventType==VisitEvent_Search.type){Kameleoon.Internals.runtime.Visitor=new Visitor;Kameleoon.Gatherer.track(VisitEvent_Page.type);Kameleoon.Gatherer.track(VisitEvent_StaticData.type);Kameleoon.Gatherer.CustomData.run();Kameleoon.Mentalist.run();Kameleoon.Internals.runtime.gathererRun=!0;i()}};return t}();var VisitEvent_Activity=function(){function e(t){this.eventType=e.type;this.time=t;this.active=Kameleoon.Internals.runtime.Gatherer.active;this.numberClicks=Kameleoon.Internals.runtime.Gatherer.numberClicks;this.tabCount=Kameleoon.Internals.runtime.Gatherer.tabCount;Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(this.time,this.active);Kameleoon.Internals.runtime.Visitor.currentVisit.addTabCount(this.tabCount);Kameleoon.Internals.runtime.Visitor.currentVisit.addNumberClicks(this.numberClicks);Kameleoon.Internals.runtime.Gatherer.active=!1;Kameleoon.Internals.runtime.Gatherer.numberClicks=0;Kameleoon.Internals.runtime.Gatherer.tabCount=0}e.initialize=function(){var e=this;var t=function(){Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"tabcount",tabCode:Kameleoon.Internals.runtime.Gatherer.tabCode,deadTime:(new Date).getTime()+e.ACTIVITY_TRACKING_INTERVAL,callbackId:Kameleoon.Utils.addPostMessageCallback((function(){i}))}))};var n=function(){Kameleoon.Internals.runtime.Gatherer.active=!0};var a=function(){n();Kameleoon.Internals.runtime.Gatherer.numberClicks++};var i=function(e){Kameleoon.Internals.runtime.Gatherer.tabCount=e};Kameleoon.Utils.addEventListener(document,"mousemove",n,!1);Kameleoon.Utils.addEventListener(document,"scroll",n,!1);Kameleoon.Utils.addEventListener(document,"click",a,!1);Kameleoon.Utils.setInterval((function(){if(Kameleoon.Internals.runtime.iframeLocalStorage)t();Kameleoon.Gatherer.track(e.type)}),this.ACTIVITY_TRACKING_INTERVAL,!0)};e.ACTIVITY_TRACKING_INTERVAL=15*1e3;e.type="activity";e.urgent=!1;return e}();var VisitEvent_AdBlocker=function(){function e(t){this.eventType=e.type;this.time=t;Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker()}e.type="adBlocker";e.urgent=!1;return e}();var VisitEvent_Actions=function(){function i(t,n){this.eventType=i.type;this.id=n.id;this.mentalistDecision=!0===n.mentalistDecision;this.time=t;this.train=!0===n.train;this.type=n.type;this.variationId=n.variationId;this.notTrack=n.notTrack;this.mergeable=!0;var e="EXPERIMENT"==this.type?"addExperiment":"addPersonalization";Kameleoon.Internals.runtime.Visitor.currentVisit[e](this.time,this.id,n.originalVariationId,this.mentalistDecision)}i.type="containers";i.urgent=!0;return i}();var VisitEvent_Conversions=function(){function e(i,n){this.eventType=e.type;this.time=i;this.goalId=n.goalId;this.negative=!0===n.negative;this.mergeable=!0;var t,a=!1;var s=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","revenuesByGoalId",{});var o=s[this.goalId];if(this.negative)if(o&&o.length>0){t=o.splice(-1)[0];if(0==o.length)delete s[this.goalId]}else a=!0;else{t=n.revenue;if(isNaN(t))t=0;if(!o)o=[];o.push(t);s[this.goalId]=o.splice(-10)}this.revenue=t;if(!a){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","revenuesByGoalId",s);Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(this.goalId,1,this.revenue,this.negative);if(null!=window.Kameleoon.API.conversionCallbacks)for(var r=0,l=window.Kameleoon.API.conversionCallbacks.length;r<l;++r)try{window.Kameleoon.API.conversionCallbacks[r](this.time,this.goalId,this.revenue,this.negative)}catch(e){}}}e.type="conversions";e.urgent=!0;return e}();var VisitEvent_CustomData=function(){function t(e,i){this.eventType=t.type;this.time=e;this.index=i.index;this.overwrite=i.overwrite||!1;this.notTrack=i.value.length>t.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||i.localOnly;this.valueToCount=i.countByValueToAdd;this.mergeable=!0;Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(this.index,this.valueToCount,this.overwrite)}t.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST=1e3;t.type="customData";t.urgent=!0;return t}();var VisitEvent_Geolocation=function(){function t(i,e){this.eventType=t.type;this.time=i;this.city=e.city;this.country=e.country;this.latitude=e.latitude;this.longitude=e.longitude;this.postalCode=e.postalCode;this.region=e.region;Kameleoon.Internals.runtime.Visitor.currentVisit.addGeolocation(this.country,this.region,this.city,this.postalCode,this.latitude,this.longitude)}t.type="geolocation";t.urgent=!1;return t}();var VisitEvent_MentalistPredictionSegmentTargeting=function(){function e(t,n){this.eventType=e.type;this.time=t;this.mergeable=!0;this.targetingSegmentId=n.targetingSegmentId;this.goalIdToConversionProbability=[];var i=Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(this.targetingSegmentId);for(var a in i)this.goalIdToConversionProbability.push([parseInt(a),i[a]]);var o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","savedScoresFromMoments",{});var r=Kameleoon.Internals.configuration.targetingSegmentIdToGoalIdsToKcs||{};if(r[this.targetingSegmentId]||n.trackMentalistPrediction){for(var g in r[this.targetingSegmentId]){if(null==o[this.targetingSegmentId])o[this.targetingSegmentId]={};if(null==o[this.targetingSegmentId][g])o[this.targetingSegmentId][g]=i[g]}if(r[this.targetingSegmentId])Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionScoreComputed",{segmentId:this.targetingSegmentId})}Kameleoon.Internals.runtime.storedData.saveField("Gatherer","savedScoresFromMoments",o)}e.type="mentalistPredictionSegmentTargeting";e.urgent=!1;return e}();var VisitEvent_MentalistPredictionStartOfVisit=function(){function t(i,n){this.eventType=t.type;this.time=i;this.goalIdToConversionProbability=n.goalIdToConversionProbability}t.type="mentalistPredictionStartOfVisit";t.urgent=!1;return t}();var VisitEvent_MentalistSettings=function(){function t(e){this.eventType=t.type;this.time=e;this.learnerVersion=Kameleoon.Internals.configuration.MentalistLearner.version}t.type="mentalistSettings";t.urgent=!1;return t}();var VisitEvent_Page=function(){function e(t){var r=Kameleoon.Utils.computeCurrentPageCanonicalURL()||Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL();var i=document.title;this.eventType=e.type;this.href=r&&r.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);if(this.href&&Kameleoon.Internals.configuration.cleanHrefTracking)this.href=this.href.replace(/(\?|\#)(.*)/gi,"");this.title=i.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);this.keyPages=Kameleoon.Gatherer.KeyPage.obtainIndexes();this.referrers=Kameleoon.Gatherer.Referrer.obtainIndexes(Kameleoon.Internals.runtime.Gatherer.startOfVisit);this.time=t;Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(t,r,this.keyPages,this.referrers);Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(t,!0)}e.type="page";e.urgent=!0;return e}();var VisitEvent_Product=function(){function t(e,n){this.eventType=t.type;this.time=e;this.ean=n.ean;Kameleoon.Internals.runtime.Visitor.currentVisit.addProduct(this.ean)}t.type="product";t.urgent=!1;return t}();var VisitEvent_Search=function(){function e(t,s){this.eventType=e.type;this.time=t;this.followed=s.followed;this.keyWords=s.keyWords;this.numberResults=s.numberResults;Kameleoon.Internals.runtime.Visitor.currentVisit.addSearch(t,Kameleoon.Gatherer.KeyWord.obtainIndexes(this.keyWords),this.numberResults,this.followed)}e.type="search";e.urgent=!1;return e}();var VisitEvent_StaticData=function(){function e(i){var n=Kameleoon.Internals.runtime.Visitor.currentVisit.landingPageURL;var t=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","landingPageTitle");var r=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","landingPages");var a=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref");var o=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrers");if(Kameleoon.Internals.configuration.enableHistoryReconciliation){var s=null;for(var l in Kameleoon.Internals.runtime.Gatherer.configuration.customData)if(Kameleoon.Internals.runtime.Gatherer.configuration.customData[l].mappingIdentifier){s=parseInt(l);break}this.mappingIdentifier=null!=s&&s}this.eventType=e.type;this.timeSincePreviousVisit=Kameleoon.Internals.runtime.Visitor.obtainTimeSincePreviousVisit();this.landingPageHref=n&&n.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);this.landingPageTitle=t&&t.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);this.landingPages=r;this.firstReferrerHref=a&&a.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);if(Kameleoon.Internals.configuration.cleanHrefTracking){if(this.landingPageHref)this.landingPageHref=this.landingPageHref.replace(/(\?|\#)(.*)/gi,"");if(this.firstReferrerHref)this.firstReferrerHref=this.firstReferrerHref.replace(/(\?|\#)(.*)/gi,"")}this.firstReferrers=o;this.language=null;this.browser=Kameleoon.Gatherer.Browser.obtainIndex();this.browserVersion=Kameleoon.Internals.runtime.Device.browserVersion;var m=Kameleoon.Internals.runtime.Device.type;this.mobileBrowser="Tablet"==m||"Phone"==m;this.os=Kameleoon.Gatherer.OperatingSystem.obtainIndex();this.windowWidth=Kameleoon.Internals.runtime.Device.windowWidth;this.windowHeight=Kameleoon.Internals.runtime.Device.windowHeight;this.screenWidth=Kameleoon.Internals.runtime.Device.screenWidth;this.screenHeight=Kameleoon.Internals.runtime.Device.screenHeight;this.javaEnabled=!0===navigator.javaEnabled();this.timeZoneId=Kameleoon.Gatherer.TimeZone.obtainId();this.localeLanguageTag=Kameleoon.Gatherer.Language.obtainLocaleTag();this.deviceType=Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase();this.browserName=Kameleoon.Gatherer.Browser.obtain();this.osName=Kameleoon.Gatherer.OperatingSystem.obtain();this.time=i;this.timeZoneGroups=[null];this.visitNumber=Kameleoon.Internals.runtime.Visitor.currentVisit.index}e.type="staticData";e.urgent=!0;return e}();var VisitEvent_TargetingSegments=function(){function t(e,i){this.eventType=t.type;this.time=e;this.id=i.id;this.mergeable=!0;Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(e,this.id)}t.type="targetingSegments";t.urgent=!1;return t}();var BitVectorUtils=function(){function n(){}n.safeLimitedBitIndex=function(n,t){if(null==t||t>=n)return n;return t};n.computeVectorFillFrom=function(t,r,e,i){n.clearVectorFrom(e,t,i);n.addInVectorFrom(e,t,r,i)};n.addInVectorFrom=function(t,r,e,i){t[i+n.safeLimitedBitIndex(r,e)]=1};n.clearVectorFrom=function(n,t,r){for(var e=0;e<=t;e++)n[r+e]=0};n.initBitIndexCounts=function(n){var t=[];for(var r=0;r<=n;r++)t[r]=0;return t};n.incrementBitIndexCount=function(t,r,e){e[n.safeLimitedBitIndex(t,r)]++};return n}();var DataUtils=function(){function t(){}t.writeCategorySetInVectorFrom=function(r,n,e,o,i){BitVectorUtils.clearVectorFrom(o,n,i);for(var u=0,c=r.length;u<c;++u)BitVectorUtils.addInVectorFrom(o,n,t.computeCategoryBitIndex(r[u],e),i)};t.writeCategoryCountsInVectorFrom=function(r,n,e,o,i){var u=BitVectorUtils.initBitIndexCounts(n);for(var c=0,a=r.length;c<a;++c){var l=r[c];for(var f=0,B=l.length;f<B;++f)BitVectorUtils.incrementBitIndexCount(n,t.computeCategoryBitIndex(l[f],e),u)}for(var c=0;c<=n;c++){o[i]=u[c];i++}};t.computeCategoryBitIndex=function(t,r){if(null==t)return null;var n=r[t];if(null==n)return null;return n};return t}();var Learner=function(){function e(){}e.computeProbabilities=function(a,i,n){e.prepareEquals(a,i,n);return e.computeLayerSynapse(a.inputDimension,a.outputDimension,a.weights,a.bias,e.logistic,i)};e.prepareEquals=function(a,i,n){if(a.standarizeInputs)e.standarizeEquals(a,i,n);else e.scaleEquals(a,i,n)};e.standarizeEquals=function(e,a,i){var n=Kameleoon.Internals.configuration.MentalistFeatures.maxAbsoluteValueAfterStandardization;for(var r=0;r<e.inputDimension;r++){var t=!0===i[r]||isNaN(a[r])||!isFinite(a[r])?e.beforeMean[r]:a[r];a[r]=t-e.beforeMean[r];if(0!=e.beforeDeviation[r]){a[r]/=e.beforeDeviation[r];a[r]=Math.min(a[r],n);a[r]=Math.max(a[r],-n)}}};e.scaleEquals=function(e,a,i){for(var n=0;n<e.inputDimension;n++){var r=!0===i[n]||isNaN(a[n])||!isFinite(a[n])?e.beforeMean[n]:a[n];if(0==e.beforeDistance[n])if(r==e.beforeMin[n])a[n]=e.afterMiddle;else if(r<e.beforeMin[n])a[n]=e.afterMin;else a[n]=e.afterMax;else a[n]=e.afterMin+e.afterDistance/e.beforeDistance[n]*(r-e.beforeMin[n])}};e.computeLayerSynapse=function(e,a,i,n,r,t){var o=[];for(var s=0;s<a;s++){var f=0;for(var u=0;u<e;u++)f+=i[s][u]*t[u];o[s]=r(f+n[s])}return o};e.logistic=function(e){return 1/(1+Math.exp(-e))};return e}();var PreviousVisits=function(){function s(s){var e=this;this.obtainInterestIsActive=function(s){return e.activeInterests[s]};this.timesStartedVisits=[];this.timesLastActivityVisits=[];this.timesStartedPages=[];this.timesReferrers=[];this.timesSearches=[];this.keyPages=[];this.searchesNumberResults=[];this.searchesFollowed=[];this.referrers=[];this.keyWords=[];this.activeInterests={};this.maxTabCountsVisits=[];this.numberClicksVisits=[];this.temperatureVisits=[];this.humidityVisits=[];this.pressureVisits=[];this.windSpeedVisits=[];this.cloudinessVisits=[];this.countByValueByCustomDatumVisits=[];this.conversions={};for(var t=0,i=s.length;t<i;++t){var r=s[t];this.timesStartedVisits.push(r.startDate);this.timesLastActivityVisits.push(r.timeLastActivity);this.timesStartedPages=this.timesStartedPages.concat(r.timesStartedPages);this.timesReferrers=this.timesReferrers.concat(r.timesReferrers);this.timesSearches=this.timesSearches.concat(r.timesSearches);this.keyPages=this.keyPages.concat(r.keyPages);this.searchesNumberResults=this.searchesNumberResults.concat(r.searchesNumberResults);this.searchesFollowed=this.searchesFollowed.concat(r.searchesFollowed);this.referrers=this.referrers.concat(r.referrers);this.keyWords=this.keyWords.concat(r.keyWords);for(var h in r.freshByActiveInterest)this.activeInterests[h]=!0;for(var a in r.conversions){var n=r.conversions[a].count;var u=r.conversions[a].revenue;if(this.conversions[a]){this.conversions[a].count+=n;this.conversions[a].revenue+=u}else this.conversions[a]={count:n,revenue:u}}this.maxTabCountsVisits.push(r.maxTabCount);this.numberClicksVisits.push(r.numberClicks);this.temperatureVisits.push(r.Weather.temperature);this.humidityVisits.push(r.Weather.humidity);this.pressureVisits.push(r.Weather.pressure);this.windSpeedVisits.push(r.Weather.windSpeed);this.cloudinessVisits.push(r.Weather.cloudiness);this.countByValueByCustomDatumVisits.push(r.countByValueByCustomDatum)}}return s}();var VisitVectorizationUtils=function(){function e(){}e.NUMBER_LAST_KEY_PAGES=3;e.NUMBER_LAST_REFERRERS=3;e.computeVector=function(t,n,r,a,i,l,o){var s=Kameleoon.Internals.configuration.MentalistFeatures;var u=Kameleoon.Internals.configuration.MentalistLearner;var c=[];var v=0;e.PreviousVisitsVectorizationUtils.computeVectorFillFrom(n,l,o,c,r,v);v+=(null!=l?u.experiments[l]:null!=o?u.targetingSegments[o]:u).previousVisitsHistoryVectorDimension;if(i){e.VisitVectorizationUtils.computeVectorFillFrom(t,l,o,c,r,v);v+=(null!=l?u.experiments[l]:null!=o?u.targetingSegments[o]:u).visitHistoryVectorDimension}if(a){c[v]=Kameleoon.Internals.runtime.Visitor.obtainTimeSincePreviousVisit();v++;c[v]=t.index;v++;DataUtils.writeCategorySetInVectorFrom(Kameleoon.Internals.runtime.storedData.obtainField("Runtime","landingPages"),s.keyPages.length,e.computeIndexByCategory(s.keyPages),c,v);v+=s.keyPages.length+1;DataUtils.writeCategorySetInVectorFrom(Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrers"),s.referrers.length,e.computeIndexByCategory(s.referrers),c,v);v+=s.referrers.length+1;DataUtils.writeCategorySetInVectorFrom([null],s.timeZoneGroups.length,e.computeIndexByCategory(s.timeZoneGroups),c,v);v+=s.timeZoneGroups.length+1;BitVectorUtils.computeVectorFillFrom(s.languages.length,DataUtils.computeCategoryBitIndex(null,e.computeIndexByCategory(s.languages)),c,v);v+=s.languages.length+1;BitVectorUtils.computeVectorFillFrom(s.browsers.length,DataUtils.computeCategoryBitIndex(t.Device.browser,e.computeIndexByCategory(s.browsers)),c,v);v+=s.browsers.length+1;var m=t.Device.browserVersion;if(isNaN(m)||!isFinite(m)||m<0||m>=1e3)m=null;if(null==m)r[v]=!0;else c[v]=m;v++;c[v]="MOBILE"==t.Device.type?1:0;v++;BitVectorUtils.computeVectorFillFrom(s.oss.length,DataUtils.computeCategoryBitIndex(t.Device.os,e.computeIndexByCategory(s.oss)),c,v);v+=s.oss.length+1;var g=t.Device.windowWidth;if(null==g)g=t.Device.screenWidth;if(g<0||g>=1e4)g=null;if(null==g)r[v]=!0;else c[v]=g;v++;var f=t.Device.windowHeight;if(null==f)f=t.Device.screenHeight;if(f<0||f>=1e4)f=null;if(null==f)r[v]=!0;else c[v]=f;v++;var d=t.Device.screenWidth;if(null==d)d=t.Device.windowWidth;if(d<0||d>=1e4)d=null;if(null==d)r[v]=!0;else c[v]=d;v++;var h=t.Device.screenHeight;if(null==h)h=t.Device.windowHeight;if(h<0||h>=1e4)h=null;if(null==h)r[v]=!0;else c[v]=h;v++;c[v]=!0===navigator.javaEnabled()?1:0;v++}return c};e.computeInputGoalIds=function(e,t){var n=Kameleoon.Internals.configuration.MentalistFeatures;return(null!=e?n.experiments[e]:null!=t?n.targetingSegments[t]:n).inputGoalIds};e.CUSTOM_DATA_BOOLEAN_VALUE_VECTOR_PARSER={parse:function(e){switch(e){case"true":return[1];case"false":return[0];default:return null}}};e.CUSTOM_DATA_SCALAR_VALUE_VECTOR_PARSER={parse:function(e){var t=parseFloat(e);if(isNaN(t)||!isFinite(t))return null;return[t]}};e.CUSTOM_DATA_CATEGORY_VALUE_VECTOR_PARSER={parse:function(e,t){var n=parseInt(e);if(isNaN(n)||n<0||n>=t)return null;var r;switch(t){case 1:case 2:r=[n];break;default:r=[];for(var a=0;a<t;a++)r[a]=0;r[n]=1;break}return r}};e.computeCustomDataBooleanValueVectorOnlineMeanAndDeviation=function(t,n){var r=new OnlineMeanAndDeviation(1);for(var a=0,i=t.length;a<i;++a){var l=t[a][n];if(null!=l)for(var o in l){var s=e.CUSTOM_DATA_BOOLEAN_VALUE_VECTOR_PARSER.parse(o);if(null!=s)r.update(s,l[o])}}return 0==r.nbUpdates[0]?null:r};e.computeCustomDataScalarValueVectorOnlineMeanAndDeviation=function(t,n){var r=new OnlineMeanAndDeviation(1);for(var a=0,i=t.length;a<i;++a){var l=t[a][n];if(null!=l)for(var o in l){var s=e.CUSTOM_DATA_SCALAR_VALUE_VECTOR_PARSER.parse(o);if(null!=s)r.update(s,l[o])}}return 0==r.nbUpdates[0]?null:r};e.computeCustomDataCategoryValueVectorOnlineMeanAndDeviation=function(t,n,r){var a;switch(r){case 1:case 2:a=1;break;default:a=r;break}var i=new OnlineMeanAndDeviation(a);for(var l=0,o=t.length;l<o;++l){var s=t[l][n];if(null!=s)for(var u in s){var c=e.CUSTOM_DATA_CATEGORY_VALUE_VECTOR_PARSER.parse(u,r);if(null!=c)i.update(c,s[u])}}return 0==i.nbUpdates[0]?null:i};e.computeIndexByCategory=function(e){var t={};var n=0;for(var r=0,a=e.length;r<a;++r){t[e[r]]=n;n++}return t};e.VisitVectorizationUtils={computeVectorFillFrom:function(t,n,r,a,i,l){var o=Kameleoon.Internals.configuration.MentalistFeatures;var s=OnlineMeanAndDeviation.createFromDifferences(t.timesStartedPages,!1,!0,!0);var u=OnlineMeanAndDeviation.createFromDifferences(t.timesReferrers,!1,!0,!0);var c=OnlineMeanAndDeviation.createFromDifferences(t.timesSearches,!1,!0,!0);var v=OnlineMeanAndDeviation.createFromValues(t.searchesNumberResults);var m=OnlineMeanAndDeviation.createFromBooleanValues(t.searchesFollowed);var g=e.computeIndexByCategory(o.referrers);var f=e.computeIndexByCategory(o.keyPages);a[l]=t.timeLastActivity-t.timeLastInactivity;l++;for(var d=0;d<e.NUMBER_LAST_REFERRERS;d++){if(d<t.referrers.length)DataUtils.writeCategorySetInVectorFrom(t.referrers[t.referrers.length-1-d],o.referrers.length,g,a,l);else BitVectorUtils.clearVectorFrom(a,o.referrers.length,l);l+=o.referrers.length+1}DataUtils.writeCategoryCountsInVectorFrom(t.referrers,o.referrers.length,g,a,l);l+=o.referrers.length+1;a[l]=t.referrers.length;l++;a[l]=u.mean[0];l++;a[l]=u.deviation[0];l++;for(var d=0;d<e.NUMBER_LAST_KEY_PAGES;d++){if(d<t.keyPages.length)DataUtils.writeCategorySetInVectorFrom(t.keyPages[t.keyPages.length-1-d],o.keyPages.length,f,a,l);else BitVectorUtils.clearVectorFrom(a,o.keyPages.length,l);l+=o.keyPages.length+1}DataUtils.writeCategoryCountsInVectorFrom(t.keyPages,o.keyPages.length,f,a,l);l+=o.keyPages.length+1;a[l]=t.timesStartedPages.length;l++;a[l]=s.mean[0];l++;a[l]=s.deviation[0];l++;DataUtils.writeCategoryCountsInVectorFrom(t.keyWords,o.keyWords.length,e.computeIndexByCategory(o.keyWords),a,l);l+=o.keyWords.length+1;for(var h=0,V=o.interests.length;h<V;++h){a[l]=t.obtainInterestIsActive(o.interests[h],null)?1:0;l++}a[l]=t.timesSearches.length;l++;a[l]=c.mean[0];l++;a[l]=c.deviation[0];l++;a[l]=v.mean[0];l++;a[l]=v.deviation[0];l++;a[l]=m.mean[0];l++;a[l]=m.deviation[0];l++;if(null==t.maxTabCount)i[l]=!0;else a[l]=t.maxTabCount;l++;if(null==t.numberClicks)i[l]=!0;else a[l]=t.numberClicks;l++;if(null==t.Weather.temperature)i[l]=!0;else a[l]=t.Weather.temperature;l++;if(null==t.Weather.humidity)i[l]=!0;else a[l]=t.Weather.humidity;l++;if(null==t.Weather.pressure)i[l]=!0;else a[l]=t.Weather.pressure;l++;if(null==t.Weather.windSpeed)i[l]=!0;else a[l]=t.Weather.windSpeed;l++;if(null==t.Weather.cloudiness)i[l]=!0;else a[l]=t.Weather.cloudiness;l++;var D=[t.countByValueByCustomDatum];for(var h=0,V=o.customData.length;h<V;++h){var y=o.customData[h];var p=o.numberValuesByCustomDatum[y];if(-1!=p){var C=void 0;switch(p){case-2:C=e.computeCustomDataBooleanValueVectorOnlineMeanAndDeviation(D,y);if(null==C){i[l]=!0;l++}else{a[l]=C.mean[0];l++}break;case 0:C=e.computeCustomDataScalarValueVectorOnlineMeanAndDeviation(D,y);if(null==C){i[l]=!0;l++}else{a[l]=C.mean[0];l++}break;case 1:case 2:C=e.computeCustomDataCategoryValueVectorOnlineMeanAndDeviation(D,y,p);if(null==C){i[l]=!0;l++}else{a[l]=C.mean[0];l++}break;default:C=e.computeCustomDataCategoryValueVectorOnlineMeanAndDeviation(D,y,p);if(null==C)for(var d=0;d<p;d++){i[l]=!0;l++}else for(var d=0;d<p;d++){a[l]=C.mean[d];l++}break}}}var A=e.computeInputGoalIds(n,r);for(var h=0,V=A.length;h<V;++h){var F=A[h];var S=t.conversions[F];a[l]=null==S?0:S.count;l++}for(var h=0,V=A.length;h<V;++h){var F=A[h];var S=t.conversions[F];a[l]=null==S?0:S.revenue;l++}}};e.PreviousVisitsVectorizationUtils={computeVectorFillFrom:function(t,n,r,a,i,l){var o=Kameleoon.Internals.configuration.MentalistFeatures;var s=OnlineMeanAndDeviation.createFromDifferences(t.timesStartedVisits,!1,!0,!0);var u=OnlineMeanAndDeviation.createFromDifferences(t.timesStartedPages,!1,!0,!0);var c=OnlineMeanAndDeviation.createFromDifferences(t.timesReferrers,!1,!0,!0);var v=OnlineMeanAndDeviation.createFromDifferences(t.timesSearches,!1,!0,!0);var m=OnlineMeanAndDeviation.createFromValues(t.searchesNumberResults);var g=OnlineMeanAndDeviation.createFromBooleanValues(t.searchesFollowed);var f=[];for(var d=0,h=t.maxTabCountsVisits.length;d<h;++d){var V=t.maxTabCountsVisits[d];if(null!=V)f.push(V)}var D=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);f=[];for(var d=0,h=t.numberClicksVisits.length;d<h;++d){var V=t.numberClicksVisits[d];if(null!=V)f.push(V)}var y=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);var p=e.computeIndexByCategory(o.referrers);var C=e.computeIndexByCategory(o.keyPages);for(var A=0;A<e.NUMBER_LAST_REFERRERS;A++){if(A<t.referrers.length)DataUtils.writeCategorySetInVectorFrom(t.referrers[t.referrers.length-1-A],o.referrers.length,p,a,l);else BitVectorUtils.clearVectorFrom(a,o.referrers.length,l);l+=o.referrers.length+1}DataUtils.writeCategoryCountsInVectorFrom(t.referrers,o.referrers.length,p,a,l);l+=o.referrers.length+1;a[l]=t.referrers.length;l++;a[l]=c.mean[0];l++;a[l]=c.deviation[0];l++;a[l]=t.timesStartedVisits.length;l++;a[l]=s.mean[0];l++;a[l]=s.deviation[0];l++;for(var A=0;A<e.NUMBER_LAST_KEY_PAGES;A++){if(A<t.keyPages.length)DataUtils.writeCategorySetInVectorFrom(t.keyPages[t.keyPages.length-1-A],o.keyPages.length,C,a,l);else BitVectorUtils.clearVectorFrom(a,o.keyPages.length,l);l+=o.keyPages.length+1}DataUtils.writeCategoryCountsInVectorFrom(t.keyPages,o.keyPages.length,C,a,l);l+=o.keyPages.length+1;a[l]=t.timesStartedPages.length;l++;a[l]=u.mean[0];l++;a[l]=u.deviation[0];l++;DataUtils.writeCategoryCountsInVectorFrom(t.keyWords,o.keyWords.length,e.computeIndexByCategory(o.keyWords),a,l);l+=o.keyWords.length+1;for(var d=0,h=o.interests.length;d<h;++d){a[l]=t.obtainInterestIsActive(o.interests[d])?1:0;l++}var F=e.computeInputGoalIds(n,r);for(var d=0,h=F.length;d<h;++d){var S=F[d];var I=t.conversions[S];a[l]=null==I?0:I.revenue;l++}for(var d=0,h=F.length;d<h;++d){var S=F[d];var I=t.conversions[S];a[l]=null==I?0:I.revenue;l++}a[l]=t.timesSearches.length;l++;a[l]=v.mean[0];l++;a[l]=v.deviation[0];l++;a[l]=m.mean[0];l++;a[l]=m.deviation[0];l++;a[l]=g.mean[0];l++;a[l]=g.deviation[0];l++;if(null==D){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=D.mean[0];l++;a[l]=D.deviation[0];l++}if(null==y){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=y.mean[0];l++;a[l]=y.deviation[0];l++}var O;f=[];for(var d=0,h=t.temperatureVisits.length;d<h;++d){var V=t.temperatureVisits[d];if(null!=V)f.push(V)}O=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);if(null==O){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=O.mean[0];l++;a[l]=O.deviation[0];l++}f=[];for(var d=0,h=t.humidityVisits.length;d<h;++d){var V=t.humidityVisits[d];if(null!=V)f.push(V)}O=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);if(null==O){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=O.mean[0];l++;a[l]=O.deviation[0];l++}f=[];for(var d=0,h=t.pressureVisits.length;d<h;++d){var V=t.pressureVisits[d];if(null!=V)f.push(V)}O=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);if(null==O){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=O.mean[0];l++;a[l]=O.deviation[0];l++}f=[];for(var d=0,h=t.windSpeedVisits.length;d<h;++d){var V=t.windSpeedVisits[d];if(null!=V)f.push(V)}O=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);if(null==O){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=O.mean[0];l++;a[l]=O.deviation[0];l++}f=[];for(var d=0,h=t.cloudinessVisits.length;d<h;++d){var V=t.cloudinessVisits[d];if(null!=V)f.push(V)}O=0==f.length?null:OnlineMeanAndDeviation.createFromValues(f);if(null==O){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=O.mean[0];l++;a[l]=O.deviation[0];l++}var M=t.countByValueByCustomDatumVisits;for(var d=0,h=o.customData.length;d<h;++d){var U=o.customData[d];var k=o.numberValuesByCustomDatum[U];if(-1!=k){var R=void 0;switch(k){case-2:R=e.computeCustomDataBooleanValueVectorOnlineMeanAndDeviation(M,U);if(null==R){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=R.mean[0];l++;a[l]=R.deviation[0];l++}break;case 0:R=e.computeCustomDataScalarValueVectorOnlineMeanAndDeviation(M,U);if(null==R){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=R.mean[0];l++;a[l]=R.deviation[0];l++}break;case 1:case 2:R=e.computeCustomDataCategoryValueVectorOnlineMeanAndDeviation(M,U,k);if(null==R){i[l]=!0;l++;i[l]=!0;l++}else{a[l]=R.mean[0];l++;a[l]=R.deviation[0];l++}break;default:R=e.computeCustomDataCategoryValueVectorOnlineMeanAndDeviation(M,U,k);if(null==R)for(var A=0;A<k;A++){i[l]=!0;l++;i[l]=!0;l++}else for(var A=0;A<k;A++){a[l]=R.mean[A];l++;a[l]=R.deviation[A];l++}break}}}}};return e}();var CommandQueue=function(){function CommandQueue(oldKameleoonQueue){var _this=this;this.executeCommand=function(command){var commandFunctionName=command[0];try{if("function"===typeof command)command();else{var method=commandFunctionName;var path=method.split(".");var bindedObject;if("Kameleoon"!=path[0]){method="Kameleoon.API."+commandFunctionName;bindedObject=eval("Kameleoon.API."+path[0])}else bindedObject=eval("Kameleoon.API."+path[2]);eval(method).apply(bindedObject,Array.prototype.slice.call(command,1))}}catch(e){console.log(e)}};this.commands=oldKameleoonQueue&&oldKameleoonQueue.forEach?oldKameleoonQueue:[];this.commands.push=function(e){_this.executeCommand(e)};var commandsToRun=[];this.commands.forEach((function(e){commandsToRun.push(e)}));this.commands.splice(0,this.commands.length);commandsToRun.forEach(this.executeCommand);return this.commands}return CommandQueue}();var Actions=function(){function e(){this.associateActionAndVariation=function(e,n,i){var o=!0;var t=!0;if("REGISTERED_VARIATION"==i)t=!1;if("DISPLAYED_VARIATION"==i)o=!1;if(null===n)e.trackingPerformed=!0;var a=Kameleoon.Internals.runtime.variations.filter((function(e){return e.id==n}))[0];var r="Reference";if(e&&e.variations)e.variations.forEach((function(e,i){if(e.id&&e.name&&e.id==n)r=e.name}));var s=e.associatedVariation;if(e&&s&&n==s.id)r=s.name;if(e&&o)e.associatedVariation={id:n,name:r};if(a){if(e&&(Kameleoon.Internals.runtime.simulationMode&&-1==e.id||!e.associationMade)){if(o){e.associatedVariation=a;e.associationMade=!0}a.actionId=e.id;if(t)e.displayedVariation=new Variation(a)}}else e.displayedVariation={id:n,name:r}}}e.prototype.checkCapping=function(e,n,i,o,t){if(null!=o.expositionFrequencySameVisit&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!1,!1,e)>=o.expositionFrequencySameVisit||null!=o.expositionFrequencySameVisitor&&null!=o.expositionFrequencySameVisitorDelaySeconds&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencySameVisitorDelaySeconds,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitor||o.cappingPerVisitorNumberExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitorMax||o.cappingPerVisitorNumberExposedVisits&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,null,!0,!0,!0,e)>=o.exposedVisitsSameVisitorMax||o.cappingPerVisitorConvertGoal&&Kameleoon.Internals.runtime.Visitor.obtainNumberConversions(o.cappingPerVisitorGoalId)>0||null!=o.expositionFrequencyDelaySecondsBetweenTwoExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencyDelaySecondsBetweenTwoExpositions,t,!0,!0,!1,e)>=1)return!1;return!0};e.prototype.checkActionConsent=function(e){if(Kameleoon.Internals.runtime.consent)if(e.experimentAction){if(!Kameleoon.Internals.runtime.consent.AB_TESTING){if(null==Kameleoon.Internals.runtime.consent.AB_TESTING){if("ALL"==Kameleoon.Internals.configuration.beforeAbtestConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforeAbtestConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.abtestConsentOptout)return!0;return!1}}else if(!Kameleoon.Internals.runtime.consent.PERSONALIZATION){if(null==Kameleoon.Internals.runtime.consent.PERSONALIZATION){if("ALL"==Kameleoon.Internals.configuration.beforePersonalizationConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforePersonalizationConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.personalizationConsentOptout)return!0;return!1}return!0};e.prototype.checkActionsTargeting=function(e){var n=this;for(var i=0,o=Kameleoon.Internals.runtime.personalizations.length;i<o;++i){var t=Kameleoon.Internals.runtime.personalizations[i];t.previousExposition=t.exposition}var a=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!this.checkActionConsent(r)||r.blocked)continue;if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.checkConditionsRule))a.push(r)}e=a;for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!0===r.forceTargeting)r.targeting=!0;else{var s=!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.personalizationCheckConditionsRule;var l=Kameleoon.Targeting.checkTree(r,r.targetingSegment?r.targetingSegment.tree:null,s);if(s)switch(r.microtargetingMatchType){case"GREATER":r.targeting=l.weight>(r.cumulativeWeightOfConditions||0);break;case"EQUAL":r.targeting=l.weight==(r.cumulativeWeightOfConditions||0);break;case"LOWER":r.targeting=l.weight<r.cumulativeWeightOfConditions;break}else r.targeting=l.targeting;r.rescheduleTargeting=l.rescheduleTargeting;r.numberTargetingCheckings++}}var c=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!r.experimentAction)if(!0===r.targeting)c.push(r);else r.exposition=!1}var m=function(e){var n=[];for(var i=0,o=Kameleoon.Internals.runtime.personalizations.length;i<o;++i){var t=Kameleoon.Internals.runtime.personalizations[i];if(e!=t.id)n.push(t)}return n};var u=new Date;var g=u.getTime();for(var i=0,o=c.length;i<o;++i){var t=c[i];if(void 0!==t.forceExposition){t.exposition=t.forceExposition;if(!1===t.exposition)t.notExposedReason="SIMULATION"}else{t.exposition=!0;if(!0===t.exposition&&(!Kameleoon.Internals.runtime.simulationMode||null!=Kameleoon.Internals.runtime.simulationModeData&&null!=Kameleoon.Internals.runtime.simulationModeData.experiments)&&!Kameleoon.Internals.runtime.personalizationsActive){t.exposition=!1;t.notExposedReason="GLOBAL_EXCLUSION"}if(!0===t.exposition&&t.globalCappingNumberVisitors&&t.numberVisitorsExposed>=t.maxNumberVisitorsExposed){t.exposition=!1;t.notExposedReason="PERSONALIZATION_CAPPING"}var p=t.scheduleItem;if(!0===t.exposition&&null!=p&&0<p.length){t.exposition=!1;for(var d=0,f=p.length;d<f;++d){var I=p[d];if((null==I.dateStart||g>=I.dateStart)&&(null==I.dateEnd||g<I.dateEnd)){var A=I.scheduleItemOptions;if(null==A||0==A.length)t.exposition=!0;else for(var h=0,v=A.length;h<v;++h){var T=A[h];if(Kameleoon.Utils.isInsideHoursMinutesRange(T.hoursStart,T.minutesStart,T.hoursEnd,T.minutesEnd,u.getHours(),u.getMinutes())){var E=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"];switch(T.daysOfWeekForShow){case"EVERYDAY":t.exposition=!0;break;case"WEEK_END":if(0==u.getDay()||6==u.getDay())t.exposition=!0;break;case"WEEK":if(0!=u.getDay()&&6!=u.getDay())t.exposition=!0;break;default:if(T.daysOfWeekForShow==E[u.getDay()])t.exposition=!0;break}}if(!0===t.exposition)break}}if(!0===t.exposition)break}if(!1===t.exposition)t.notExposedReason="SCHEDULE"}if(!0===t.exposition&&!Kameleoon.Internals.runtime.simulationMode){switch(t.customExpositionRate){case 1:break;case 0:t.exposition=!1;break;default:var k=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalization-"+t.id]||Kameleoon.Utils.readLocalData("kameleoonPersonalization-"+t.id,"LS",!1);if(null==k)k=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalizationTargeted-"+t.id]||Kameleoon.Utils.readLocalData("kameleoonPersonalizationTargeted-"+t.id,"LS",!1);if(null!=k){var x=k.split("/");t.exposition="true"==x[0]}else{t.exposition=Math.random()<t.customExpositionRate;Kameleoon.Utils.createLocalData("kameleoonPersonalization-"+t.id,t.exposition+"/"+(new Date).getTime(),-1==t.id?1/24:30,null,"LS",!1)}break}if(!1===t.exposition)t.notExposedReason="PERSONALIZATION_EXCLUSION"}if(!0===t.exposition&&!this.checkCapping(!1,t.id,1,t,g)){t.exposition=!1;t.notExposedReason="VISITOR_CAPPING"}var K=t.personalizationsInteractionConditions;if(!0===t.exposition&&null!=K&&0<K.length)for(var d=0,f=K.length;d<f;++d){var S=K[d];if("SAME_PAGE"!=S.personalizationsInteractionVisitsConfiguration&&!Kameleoon.Internals.runtime.gathererRun)continue;var b=void 0;var R=void 0;var C=void 0;switch(S.personalizationsInteractionConfiguration){case"NO_OTHER_PERSO":b=m(t.id);R=0;C=0;break;case"AT_LEAST_ONE_OTHER_PERSO":b=m(t.id);R=1;C=b.length;break;case"NUMBER_OF_OTHER_PERSOS":b=m(t.id);switch(S.personalizationsInteractionNumberOtherPersosMatchType){case"GREATER":R=S.personalizationsInteractionNumberOtherPersos+1;C=b.length;break;case"LOWER":R=0;C=S.personalizationsInteractionNumberOtherPersos-1;break;case"GREATER_THAN_EQUAL":R=S.personalizationsInteractionNumberOtherPersos;C=b.length;break;case"LOWER_THAN_EQUAL":R=0;C=S.personalizationsInteractionNumberOtherPersos;break;case"EQUAL":default:R=S.personalizationsInteractionNumberOtherPersos;C=S.personalizationsInteractionNumberOtherPersos;break}break;case"ALL_OTHER_PERSOS":b=m(t.id);R=b.length;C=b.length;break;case"ID_PERSO":b=[];for(var h=0,v=Kameleoon.Internals.runtime.personalizations.length;h<v;++h){var P=Kameleoon.Internals.runtime.personalizations[h];if(P.id==S.personalizationsInteractionIdPerso){b.push(P);break}}if(0==b.length)b.push({id:S.personalizationsInteractionIdPerso,previousExposition:!1});R=1;C=1;break;default:b=[];R=1;C=1;break}var O=0;for(var h=0,v=b.length;h<v;++h){var V=b[h];var N=void 0;switch(S.personalizationsInteractionVisitsConfiguration){case"SAME_PAGE":N=!0===V.previousExposition;break;case"CURRENT_VISIT":N=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(V.id,1,null,null,!0,!1,!1,!1)>0;break;case"PREVIOUS_VISIT":N=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(V.id,1,null,null,!1,!0,!1,!1)>0;break;case"ALL_VISITS":N=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(V.id,1,null,null,!0,!0,!1,!1)>0;break;default:N=!1;break}if(!S.personalizationsInteractionDisplayOthersPersos)N=!N;if(N)O++}var y=O>=R&&O<=C;if(y&&!S.personalizationsInteractionDisplayPerso||!y&&S.personalizationsInteractionDisplayPerso){t.exposition=!1;t.notExposedReason="SCENARIO";break}}}}var L={};if(Kameleoon.Internals.runtime.personalizations)Kameleoon.Internals.runtime.personalizations.forEach((function(e){if(e.exposition){var n=e.configuration;var i=L[n];var o=e.priority;if(null==i||o>i)L[n]=o}}));var D={};for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!r.experimentAction&&!0===r.exposition){var z=r.configuration;var M=L[z];var _=r.priority;if(null==M||_>=M){if(null==D[z]||_>M)D[z]=[];D[z].push(r.id)}}}L=null;if(Kameleoon.Internals.configuration.disablePersonalizationsOfTheSameType)for(var z in D)D[z]=[D[z][Math.floor(Math.random()*D[z].length)]];for(var i=0,o=c.length;i<o;++i){var t=c[i];if(!0===t.exposition&&!0!==t.forceExposition)if(D[t.configuration]&&-1==D[t.configuration].indexOf(t.id)){t.exposition=!1;t.notExposedReason="PRIORITY"}}D=null;var U=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!1===r.targeting||!r.experimentAction&&!0===r.targeting&&!1===r.exposition){this.associateActionAndVariation(r,0,"DISPLAYED_VARIATION");Kameleoon.Utils.removeCSSStyleSheet(r)}if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting,!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.personalizationCheckConditionsRule))U.push(r)}if(U.length>0)var w=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(w);n.process(U)}),Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY);if(e.length>0&&Kameleoon.Internals.runtime.targetingsEvent)Kameleoon.Internals.runtime.targetingsEvent.emit(e)};e.prototype.performActionsTracking=function(e){var n=[];for(var i=0,o=e.length;i<o;++i){var t=e[i];if(t.trackingPerformed||!t.associatedVariation||null==t.associatedVariation.id)continue;n.push(t)}e=n;for(var i=0,o=e.length;i<o;++i){var a=!0;var t=e[i];if(!t.experimentAction)if("PERSONALIZATION_CAPPING"==t.notExposedReason||"SCHEDULE"==t.notExposedReason||"SCENARIO"==t.notExposedReason||"PRIORITY"==t.notExposedReason||"VISITOR_CAPPING"==t.notExposedReason)a=!1;var r=t.associatedVariation;if(t.mentalistEnabled)r.name+=" (Predicteo)";if(Kameleoon.Internals.configuration.checkTestedTrafficActive&&!t.counterActive&&t.experimentAction){t.counterActive=!0;Kameleoon.Internals.runtime.RequestManager.sendOtherTrackingRequests(Kameleoon.Analyst.obtainCounterTrackingRequestPrefix()+"siteCode="+Kameleoon.Internals.configuration.siteCode+"&anniversaryDay="+Kameleoon.Internals.configuration.anniversaryDay);t.writeLocalData()}Kameleoon.Gatherer.track(VisitEvent_Actions.type,{type:t.experimentAction?"EXPERIMENT":"PERSONALIZATION",id:t.id,variationId:0==r.id?0:t.experimentAction?r.id:1,mentalistDecision:t.mentalistEnabled?!0:!1,train:t.train?!0:!1,notTrack:!(t.kameleoonTracking&&a),originalVariationId:r.id});if(a&&(t.experimentAction||t.exposition||!t.exposition&&"PERSONALIZATION_EXCLUSION"==t.notExposedReason)){if(t.adobeOmnitureTracking)Kameleoon.Tracking.processAdobeOmniture(t);}t.trackingPerformed=!0}};e.prototype.process=function(e,n){var i=(new Date).getTime();this.checkActionsTargeting(e);var o=[];for(var t=0,a=e.length;t<a;++t){var r=e[t];if(r.treated||r.blocked)continue;if(!0===r.targeting){Kameleoon.Internals.runtime.Visitor.currentVisit.addActionTriggered(r.id,r.experimentAction);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:r.targetingSegmentId,name:r.targetingSegment?r.targetingSegment.name:null}});if(r.experimentAction){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ExperimentTriggered",{experiment:new APIAction(r,"experiments")});r.performVariationAssignment(!1);if(null!=r.associatedVariation)if(!this.checkCapping(!0,r.id,r.associatedVariation.id,r.associatedVariation,i))r.targeting=!1}else{Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"PersonalizationTriggered",{personalization:new APIAction(r,"personalizations")});this.associateActionAndVariation(r,r.exposition?r.associatedVariation.id:0,"BOTH")}}if(!0===r.targeting){r.treated=!0;this.currentAction=r;if(r.displayedVariation){if(r.experimentAction)if(0!=r.displayedVariation.id||r.executeCodeForReference){if(r.cssCode&&!r.cssCodeEvaluated){r.cssCodeEvaluated=!0;Kameleoon.Utils.addCSSStyleSheet(r.cssCode,r,null)}if(r.javaScriptCode&&!r.javaScriptCodeEvaluated){r.javaScriptCodeEvaluated=!0;Kameleoon.Utils.runProtectedScript(r.javaScriptCode,"kameleoonActionJavaScriptCode-"+r.id+".js")}}if(!n&&r.displayedVariation.process)r.displayedVariation.process();if(r.targeting&&(r.experimentAction||r.exposition)){var s={};if(r.experimentAction)s.experiment=new APIAction(r,"experiments");else s.personalization=new APIAction(r,"personalizations");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,r.experimentAction?"ExperimentActivated":"PersonalizationActivated",s)}o.push(r)}}}this.performActionsTracking(o)};e.prototype.processAllActions=function(){var e=[];e=e.concat(Kameleoon.Internals.runtime.experiments);e=e.concat(Kameleoon.Internals.runtime.personalizations);this.process(e);Kameleoon.Internals.runtime.experiments.forEach((function(e){e.handleSpecialCase()}));if(!this.actionsProcessed){Kameleoon.Internals.runtime.RequestManager.processRequests();this.actionsProcessed=!0}};return e}();var Device=function(){function e(){this.browser=""==window.bowser.name?null:window.bowser.name;this.browserVersion=window.bowser.version?parseFloat(window.bowser.version):null;this.type=window.bowser.tablet?"Tablet":window.bowser.mobile?"Phone":"Desktop"}Object.defineProperty(e.prototype,"adBlocker",{get:function(){return Kameleoon.Internals.runtime.adBlocker||!1},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"os",{get:function(){var n=Kameleoon.Gatherer.OperatingSystem.obtainIndex();if(null!=n)return e.OSS[Kameleoon.Internals.runtime.Gatherer.configuration.oss[n].name];else return"Other"},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"screenHeight",{get:function(){return window.screen.height},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"screenWidth",{get:function(){return window.screen.width},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"timeZone",{get:function(){return Kameleoon.Gatherer.TimeZone.obtainId()},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"windowHeight",{get:function(){return window.innerHeight},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"windowWidth",{get:function(){return window.innerWidth},enumerable:!0,configurable:!0});e.OSS={CHROME:"Chrome OS",MAC:"Mac",IOS:"iOS",LINUX:"Linux",ANDROID:"Android","WINDOWS PHONE":"Windows Phone"};return e}();var Experiment=function(){function Experiment(experiment,incomingStoredData){var _this=this;this.handleSpecialCase=function(){if(!0!==_this.targeting&&_this.redirectProcessed){_this.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([_this])}else if(_this.preAssignVariation)_this.performVariationAssignment(!0)};this.obtainVariationAssignmentRandomNumber=function(){var i=null;if(Kameleoon.Internals.runtime.gathererRun)for(var e in Kameleoon.Internals.runtime.Gatherer.configuration.customData)if(Kameleoon.Internals.runtime.Gatherer.configuration.customData[e].mappingIdentifier){i=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e];if(null!=i)i=Object.keys(i)[0];break}if(null==i){var t="";_this.variations.forEach((function(i){if(i.respoolTime&&0!=i.respoolTime)t+=i.respoolTime}));var n=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode+_this.id+t;return Kameleoon.Utils.seededRandom(n,!0)}return Kameleoon.Utils.seededRandom(_this.id+"//"+i,!1)};this.performVariationAssignment=function(onlyRegisteredVariation){if(_this.displayedVariation&&!onlyRegisteredVariation)return;if(null!=_this.mentalistDeviation){if(null!=_this.mentalistVariationReassignationPermissionCustomScript)try{_this.mentalistVariationReassignationPermission=eval("(function(){return "+_this.mentalistVariationReassignationPermissionCustomScript+"})(); //# sourceURL=kameleoonMentalistVariationReassignationPermissionCustomScript.js")()}catch(i){}if(null==_this.mentalistVariationReassignationPermission)_this.mentalistVariationReassignationPermission=void 0===Kameleoon.Internals.runtime.Visitor.currentVisit.ExperimentActivations[_this.id];if(Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Internals.runtime.mentalistRun)_this.mentalistEnabled=!0}if(void 0!==_this.registeredVariationId&&_this.assignmentTime)_this.variations.forEach((function(i){if(_this.registeredVariationId==i.id&&i.respoolTime>_this.assignmentTime||null===_this.registeredVariationId&&_this.untrackedRespoolTime>_this.assignmentTime)_this.registeredVariationId=void 0}));if(void 0===_this.registeredVariationId&&!Kameleoon.Internals.runtime.simulationMode&&0==_this.variations.filter((function(i){return i.id==_this.registeredVariationId})).length)_this.registeredVariationId=void 0;if(_this.mentalistEnabled&&_this.mentalistVariationReassignationPermission)_this.registeredVariationId=void 0;if(!_this.registeredVariationId||_this.mentalistVariationReassignationPermission)_this.train=!0;if(void 0===_this.registeredVariationId){if(_this.mentalistEnabled){var variationIdToScore={};if(Kameleoon.Utils.seededRandom(Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode+_this.id,!0)<=_this.mentalistDeviation)variationIdToScore=Kameleoon.Mentalist.computeVariationIdToScore(_this.id);if(0==Object.keys(variationIdToScore).length){_this.mentalistEnabled=!1;for(var key in _this.deviation)variationIdToScore[key]=Math.random()}if(null!=_this.mentalistVariationSelectionCustomScript&&_this.mentalistEnabled)try{_this.registeredVariationId=eval("(function(){return "+_this.mentalistVariationSelectionCustomScript+"})(); //# sourceURL=kameleoonMentalistVariationSelectionCustomScript.js")(variationIdToScore)}catch(i){}else{var registeredScore=Number.NEGATIVE_INFINITY;for(var variationId in variationIdToScore){var score=variationIdToScore[variationId];if(score>registeredScore){_this.registeredVariationId=parseInt(variationId);registeredScore=score}}}if(void 0===_this.registeredVariationId)_this.registeredVariationId=0;}else if(Kameleoon.Internals.runtime.customVariationSelectionFunction){_this.registeredVariationId=Kameleoon.Internals.runtime.customVariationSelectionFunction(_this);if(null!=_this.registeredVariationId)if("reference"==_this.registeredVariationId.toString())_this.registeredVariationId=0;else if("none"==_this.registeredVariationId.toString())_this.registeredVariationId=null}else{var deviationRandom=_this.obtainVariationAssignmentRandomNumber();var total=0;_this.registeredVariationId=null;for(var i=0,l=_this.variations.length;i<l;++i){total+=_this.variations[i].deviation;if(deviationRandom<=total){_this.registeredVariationId=_this.variations[i].id;break}}}_this.assignmentTime=(new Date).getTime();_this.writeLocalData()}Kameleoon.Analyst.Actions.associateActionAndVariation(_this,_this.registeredVariationId,onlyRegisteredVariation?"REGISTERED_VARIATION":"BOTH")};this.setTargetingSegment=function(i){_this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((function(i){return i.id==_this.targetingSegmentId}))[0]||{};if(!i||i==_this.targetingSegmentId){_this.targeting=void 0;_this.rescheduleTargeting=null;_this.numberTargetingCheckings=0;_this.displayedVariation=null}};this.trigger=function(){if(!_this.targeting){_this.targeting=!0;_this.displayedVariation=null}};this.writeLocalData=function(){var i=_this.registeredVariationId+(_this.mentalistEnabled?"-mentalist":"")+"/"+_this.assignmentTime+"/"+_this.counterActive;if(!_this.simulationMode)Kameleoon.Utils.createLocalData("kameleoonExperiment-"+_this.id,i,_this.cookieDuration?_this.cookieDuration:30,_this.cookieDomain,"LS",!1)};for(var key in experiment)this[key]=experiment[key];var redirectVariationIdKey="kameleoonRedirect-"+this.id;var redirectVariationId=incomingStoredData?incomingStoredData[redirectVariationIdKey]:Kameleoon.Utils.readLocalData(redirectVariationIdKey,"LS",!1);redirectVariationId=redirectVariationId?redirectVariationId:Kameleoon.Internals.runtime.parameters[redirectVariationIdKey];this.previousRequestRedirected=redirectVariationId?!0:!1;if(redirectVariationId){this.registeredVariationId=redirectVariationId;this.assignmentTime=(new Date).getTime()}if(this.previousRequestRedirected){this.redirectProcessed=!0;if(Kameleoon.Internals.configuration.adobeOmniture){var omnitureObject=Kameleoon.Internals.configuration.adobeOmniture.object?Kameleoon.Internals.configuration.adobeOmniture.object:"s";if(Kameleoon.Internals.runtime.parameters.sc_referrer)window[omnitureObject].referrer=Kameleoon.Internals.runtime.parameters.sc_referrer}Kameleoon.Utils.eraseLocalData("kameleoonRedirect-"+this.id,null,null)}var kameleoonExperimentKey="kameleoonExperiment-"+this.id;var storedValue=incomingStoredData?incomingStoredData[kameleoonExperimentKey]:Kameleoon.Utils.readLocalData(kameleoonExperimentKey,"LS",!1);for(var key in Kameleoon.Internals.runtime.parameters)if(0==key.indexOf("kameleoonRedirect-"+this.id)){storedValue=Kameleoon.Internals.runtime.parameters[key]+"/"+(new Date).getTime()+"/"+!1;this.writeLocalData()}if(storedValue&&-1!=this.id){var storedValues=storedValue.split("/");this.registeredVariationId="null"==storedValues[0]?null:storedValues[0];this.assignmentTime=parseInt(storedValues[1]);this.counterActive="true"==storedValues[2]&&(new Date).getTime()-this.assignmentTime<2592e6?!0:!1;if(this.registeredVariationId){if("reference"==this.registeredVariationId.toString()){this.registeredVariationId=0;this.writeLocalData()}if("none"==this.registeredVariationId.toString()){this.registeredVariationId=null;this.writeLocalData()}}}else this.counterActive=!1;if(this.registeredVariationId&&-1!=this.registeredVariationId.toString().indexOf("-mentalist")){this.registeredVariationId=parseInt(this.registeredVariationId.toString().replace("-mentalist",""));this.mentalistEnabled=!0}this.setTargetingSegment();if(this.redirectProcessed&&this.registeredVariationId)this.writeLocalData();var blockedExperiments=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);if(blockedExperiments.length>0&&-1!=blockedExperiments.indexOf(this.id))this.blocked=!0}return Experiment}();var Goals=function(){function e(){var e=this;this.checkKameleoonGoals=function(){var n=[];Kameleoon.Internals.runtime.goals.forEach((function(e){if("URL"==e.type){var t=new RegExp(e.url);if(t.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))n.push({goal:e})}if("PAGE_VIEWS"==e.type)if(Kameleoon.Internals.runtime.gathererRun){var o=Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length;if((null==e.minPageViews||o>=e.minPageViews)&&(null==e.maxPageViews||o<=e.maxPageViews))n.push({goal:e})}}));if(n.length>0)e.processConversions(n);Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,(function(n){var t=Kameleoon.Internals.runtime.goals.filter((function(e){return"ENGAGEMENT"==e.type})).map((function(e){return{goal:e}}));e.processConversions(t)}),!0);var t=Kameleoon.Internals.runtime.goals.filter((function(e){return"TIME_SPENT"==e.type}));if(t.length>0)Kameleoon.Utils.setInterval((function(){var n=[];t.forEach((function(e){var t=Kameleoon.Internals.runtime.Visitor.currentVisit.timeLastActivity-Kameleoon.Internals.runtime.Visitor.currentVisit.startDate;if((null==e.minTimeSpent||t>=e.minTimeSpent)&&(null==e.maxTimeSpent||t<=e.maxTimeSpent))n.push({goal:e})}));if(n.length>0)e.processConversions(n)}),1e3);};this.processConversions=function(e){if(Kameleoon.Internals.runtime.gathererRun){var n=[];if(null!=Kameleoon.Internals.runtime.experiments)for(var t=0,o=Kameleoon.Internals.runtime.experiments.length;t<o;++t){var r=Kameleoon.Internals.runtime.experiments[t];var i=r.registeredVariationId;if(null!=i&&null!==i)n.push(r.id)}for(var l=0,a=e.length;l<a;++l){var s=e[l];var u=s.goal;var m=!0===s.negative;if((m||"PAGE_VIEWS"!=u.type&&"TIME_SPENT"!=u.type&&"ENGAGEMENT"!=u.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(u.id))&&(!u.linkedExperimentId||-1!=n.indexOf(u.linkedExperimentId))){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionTriggered",new APIGoal(u));Kameleoon.Gatherer.track(VisitEvent_Conversions.type,{goalId:u.id,revenue:s.revenue?s.revenue:0,negative:m})}}}if(Kameleoon.Internals.runtime.kameleoonFull)Kameleoon.Analyst.processConversions()}}return e}();var KGeolocation=function(){function e(){var e=this;var o=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","geolocation");if(null==o)Kameleoon.Utils.performBeaconServerCall("//"+Kameleoon.Analyst.obtainTrackerNodeSubdomainsRandom()+".kameleoon.eu/geolocation.gif",(function(o){if(4==o.readyState&&(200==o.status||204==o.status)){var t=o.getResponseHeader("geoip_country_name")||o.getResponseHeader("geoip_city_country_name");var n=o.getResponseHeader("geoip_region_name");var a=o.getResponseHeader("geoip_city");e.country=t?Kameleoon.Utils.decodeUTF8(t):null;e.city=a?Kameleoon.Utils.decodeUTF8(a):null;e.latitude=o.getResponseHeader("geoip_latitude");e.longitude=o.getResponseHeader("geoip_longitude");e.postalCode=o.getResponseHeader("geoip_postal_code");e.region=n?Kameleoon.Utils.decodeUTF8(n):null;e.loaded=!0;Kameleoon.Gatherer.track(VisitEvent_Geolocation.type,e);Kameleoon.Internals.runtime.storedData.saveField("Runtime","geolocation",e);e.loadWeather()}}),null);else{this.loaded=!0;this.country=o.country;this.city=o.city;this.latitude=o.latitude;this.longitude=o.longitude;this.postalCode=o.postalCode;this.region=o.region;this.loadWeather()}}e.prototype.loadWeather=function(){};return e}();var KMutationObserver=function(){function e(){}e.addMutationElementsToInternalObjects=function(e){for(var n=0;n<e.length;++n){var t=e[n];if(t&&t.id)if(-1===Kameleoon.Internals.runtime.addedIDs.indexOf("#"+t.id))Kameleoon.Internals.runtime.addedIDs.push("#"+t.id);if(t&&t.className&&"string"===typeof t.className){var r=t.className.split(" ");for(var a=0;a<r.length;++a)if(-1===Kameleoon.Internals.runtime.addedClasses.indexOf("."+r[a]))Kameleoon.Internals.runtime.addedClasses.push("."+r[a])}}};e.checkClassesForSelector=function(e){var n=e.selector;var t=[];if(n&&-1!==n.indexOf(".")){if(!e.selectorClasses||0===e.selectorClasses.length){if(-1!==n.indexOf("contains")){var r=n.match(/:contains\(['"]([\s\S]+)['"]\)/);var a=n.replace(r[0],"");t=a.match(/\.([^\s.:\[]+)/g)}t=n.match(/\.([^\s.:\[]+)/g);e.selectorClasses=t}}else return!0;for(var o=0,s=e.selectorClasses.length;o<s;++o){var l=e.selectorClasses[o];if(-1===l.indexOf("kameleoon")&&-1===Kameleoon.Internals.runtime.addedClasses.indexOf(l))return!1}return!0};e.checkContainsTextesForSelector=function(e,n){var t=e.selector;var r;if(n&&n.nodeType==Node.TEXT_NODE)if(t&&-1!==t.indexOf("contains")){if(!e.selectorContainsText){var a=t.match(/:contains\(['"]([\s\S]+)['"]\)/);r=a[1];e.selectorContainsText=r;if(n.nodeValue&&-1===n.nodeValue.indexOf(r))return!1}}else return!1;return!0};e.checkIDsForSelector=function(n){var t=n.selector;var r;if(n.currentQuery)r=n.currentQuery;var a;if(n.options)a=n.options.domReference;var o=[];if(t&&-1!==t.indexOf("#")){if(!n.selectorIDs||0===n.selectorIDs.length){if(-1!==t.indexOf("contains")){var s=t.match(/:contains\(['"]([\s\S]+)['"]\)/);var l=t.replace(s[0],"");o=l.match(/#([^\s:\[]+)/g)}else o=t.match(/#([^\s:\[>]+)/g);n.selectorIDs=o;if(r&&-1!==r.indexOf("#"))if(-1!==r.indexOf("contains")){var s=r.match(/:contains\(['"]([\s\S]+)['"]\)/);var i=r.replace(s[0],"");o=i.match(/#([^\s:\[]+)/g)}else o=r.match(/#([^\s:\[]+)/g);for(var c=0,d=o.length;c<d;++c)if(-1===n.selectorIDs.indexOf(o[c]))n.selectorIDs.push(o[c])}}else return!0;for(var m=0,f=n.selectorIDs.length;m<f;++m){var u=n.selectorIDs[m];if(-1!==u.indexOf("kameleoonElement")){if(a&&!e.checkIDsForSelector({selector:a,checkDomReference:!0}))return!1;if(n.checkDomReference)if(-1===Kameleoon.Internals.runtime.addedIDs.indexOf(u))return!1}else if(-1===Kameleoon.Internals.runtime.addedIDs.indexOf(u))return!1}return!0};e.fillInternalObjectsForMutationObserver=function(e){if(!e)e=document;var n=e.getElementsByTagName("*");for(var t=0,r=n.length;t<r;++t){var a=n[t];if(a.id&&-1===Kameleoon.Internals.runtime.addedIDs.indexOf("#"+a.id))Kameleoon.Internals.runtime.addedIDs.push("#"+a.id);if(a.className&&"string"===typeof a.className){var o=a.className.split(" ");for(var s=0;s<o.length;++s)if(-1===Kameleoon.Internals.runtime.addedClasses.indexOf("."+o[s]))Kameleoon.Internals.runtime.addedClasses.push("."+o[s])}}};e.removeMutationElementsFromInternalObjects=function(e){for(var n=0;n<e.length;++n){var t=e[n];if(t&&t.id)if(-1!==Kameleoon.Internals.runtime.addedIDs.indexOf("#"+t.id)){var r=Kameleoon.Internals.runtime.addedIDs.indexOf(t.id);Kameleoon.Internals.runtime.addedIDs.splice(r,1)}}};e.setMutationObserver=function(){if(Kameleoon.Internals.runtime.cantUseMutationObserver)return;e.fillInternalObjectsForMutationObserver();var n=document.documentElement,t;if(!Kameleoon.Internals.runtime.mutationObserver)Kameleoon.Internals.runtime.mutationObserver=new MutationObserver((function(n){n.forEach((function(n){var t=!0,r=n.addedNodes,a=n.removedNodes,o=Kameleoon.Internals.runtime.listenVariations;e.removeMutationElementsFromInternalObjects(a);e.addMutationElementsToInternalObjects(r);var s=Array.prototype.slice.call(r);var l=Array.prototype.slice.call(a);var i=s.concat(l);var c=function(r){var a=i[r];var s=a.parentNode;if((Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&a&&a.id&&"string"==typeof a.id&&null!==a.id.match("kameleoon"))if(a.closest)if(null!==a.closest(".KameleoonProtected"))t=!1;if(t&&a&&a.innerHTML&&"childList"===n.type)e.fillInternalObjectsForMutationObserver(a);if(t&&a&&o)o.forEach((function(n){if(n.elementSets)n.elementSets.forEach((function(t){if((!t.evaluated||!(t.options.autoGeneratedSelector||t.options.idSelector||t.options.domOperation))&&e.checkIDsForSelector(t)&&e.checkClassesForSelector(t)&&e.checkContainsTextesForSelector(t,a))if(!n.getAction()||n.getAction().targeting){t.evaluated=!0;Kameleoon.ElementSet.processElementSet(t,n,!1,n.permanentRefreshActive,n.editionMode,s)}}));if(n.replaceData&&a.nodeType===Node.TEXT_NODE&&(!a.parentNode||"SCRIPT"!==a.parentNode.nodeName&&"STYLE"!==a.parentNode.nodeName)){var t=JSON.parse(n.replaceData);for(var r=0;r<t.length;++r){var o=new RegExp(t[r].toReplace,"gi");if(!t[r].disabled&&a.nodeValue&&o.test(a.nodeValue)){Kameleoon.ElementSet.saveElementOriginalData(a);a.kameleoonData.powered=!0;a.nodeValue=a.nodeValue.replace(o,t[r].replaceBy)}}}}));if(t&&a){var l=function(n){var t=Kameleoon.Internals.runtime.waitingElementPresentObjects[n];if(t&&t.useAntiFlicker)if(e.checkIDsForSelector(t)&&e.checkClassesForSelector(t)&&e.checkContainsTextesForSelector(t,a)){var r=Kameleoon.Utils.querySelectorAll(t.selector,s);if(0<r.length){Kameleoon.Utils.runProtectedFunction((function(){t.callback(r)}));Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(n,1)}}};for(var c=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;c>=0;c-=1)l(c)}};for(var d=0;d<i.length;++d)c(d)}))}));t={attributes:!0,childList:!0,characterData:!0,subtree:!0};if("function"===typeof Kameleoon.Internals.runtime.mutationObserver.observe)Kameleoon.Internals.runtime.mutationObserver.observe(n,t)};return e}();var Logger=function(){function e(){var e=this;this.MAX_REQUESTS_PER_VISIT=3;this.baseUrl="https://53c9c9c0aa8d49419481cf742d3a5677@logger.kameleoon.com/api/5/store/?sentry_key=53c9c9c0aa8d49419481cf742d3a5677&sentry_version=7";this.canSend=function(){if(e.errorLoggerIds.length<e.MAX_REQUESTS_PER_VISIT){var n=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerPopulation");if(null==n){e.population=n=Math.random();Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerPopulation",n)}if(n<.01)return!0}return!1};this.generateRandomIdAsString=function(e,n,t){return n+Math.abs(Kameleoon.Utils.computeStringHash(e+n+t)).toString()};this.generateRequestDataAsString=function(e,n,t,r){var a={tags:{siteCode:Kameleoon.Internals.configuration.siteCode,engineVersion:"d6c0e0245a63f03c4d5a57855c452d4793fdc7c5"},user:{},environment:Kameleoon.Internals.configuration.environment,platform:"javascript",event_id:n,request:{url:location.href,headers:{"User-Agent":navigator.userAgent}},exception:{values:[{type:e.name,value:e.stack?e.stack:e.message,stacktrace:{frames:[{filename:t}]},mechanism:{data:{mode:"stack",message:e.stack?e.stack:e.message,name:e.name},handled:!1,type:"onerror"}}]}};if(r){a.tags["action-id"]=r.id;a.tags["action-name"]=r.name;a.tags["action-type"]=r.experimentAction?"experiment":"personalization"}try{a.user={id:Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Visitor&&Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode}}catch(e){a.user={id:"no_visitor_code"}}return JSON.stringify(a)};this.send=function(n,t,r){if("DEVELOPMENT"==Kameleoon.Internals.configuration.environment)console.error(n);try{e.errorLoggerIds=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerRequestsSend")||e.errorLoggerIds;var a=e.generateRandomIdAsString(n.message,Kameleoon.Internals.configuration.siteCode,Kameleoon.Internals.configuration.environment);if(-1==e.errorLoggerIds.indexOf(a)){e.errors.push(n);var o=n.stack?n.stack:n.message;if(e.canSend()&&o&&o.trim().length>0){var s=new XMLHttpRequest;s.open("POST",e.baseUrl,!0);s.timeout=2e3;s.send(e.generateRequestDataAsString(n,a,t,r));Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerRequestsSend",e.errorLoggerIds)}e.errorLoggerIds.push(a);if(Kameleoon.Internals.runtime.parameters.kameleoonDebug||localStorage.kameleoonExtensionIsAdmin)console.log(n)}}catch(t){e.errors.push(n)}};this.errorLoggerIds=[];this.errors=[]}return e}();var OnlineMeanAndDeviation=function(){function n(n){var e=this;this.dimension=n;this.mean=[];this.nbUpdates=[];this.m2=[];this.deviation=[];for(var a=0;a<n;++a){this.mean[a]=0;this.nbUpdates[a]=0;this.m2[a]=0;this.deviation[a]=0}this.update=function(n,a){if(void 0===a)a=1;if(a>0)for(var t=0;t<e.dimension;++t)if(!isNaN(n[t])&&isFinite(n[t])){var i=e.mean[t]-n[t];var r=e.nbUpdates[t]+a;e.m2[t]=e.m2[t]+i/r*i*e.nbUpdates[t]*a;e.deviation[t]=Math.sqrt(e.m2[t]/r);e.mean[t]=e.mean[t]/r*e.nbUpdates[t]+n[t]/r*a;e.nbUpdates[t]=r}}}n.createFromDifferences=function(e,a,t,i){var r=new n(1);var s=e.length;var o=0;if(o<s){var v=e[o];o++;while(o<s){var d=e[o];o++;var f=d-v;if(f<0&&a||0==f&&t||f>0&&i)r.update([f]);v=d}}return r};n.createFromValues=function(e){var a=new n(1);for(var t=0,i=e.length;t<i;t++)a.update([e[t]]);return a};n.createFromBooleanValues=function(e){var a=new n(1);for(var t=0,i=e.length;t<i;t++)a.update([e[t]?1:0]);return a};return n}();var Personalization=function(){function Personalization(personalization,incomingStoredData){var _this=this;this.setTargetingSegment=function(n){_this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==_this.targetingSegmentId}))[0]||{};if(!n||n==_this.targetingSegmentId){_this.targeting=void 0;_this.rescheduleTargeting=null;_this.numberTargetingCheckings=0;_this.displayedVariation=null}};this.trigger=function(){if(!_this.targeting){_this.targeting=!0;_this.displayedVariation=null}};for(var key in personalization)this[key]=personalization[key];var kameleoonPersonalizationStatusKey="kameleoonPersonalizationStatus-"+this.id;var kameleoonPersonalizationStatus=incomingStoredData?incomingStoredData[kameleoonPersonalizationStatusKey]:Kameleoon.Utils.readLocalData(kameleoonPersonalizationStatusKey,"LS",!0);if(kameleoonPersonalizationStatus){this.forceTargeting=eval(kameleoonPersonalizationStatus["targetingStringAndExpositionString"][0]);this.forceExposition=eval(kameleoonPersonalizationStatus["targetingStringAndExpositionString"][1])}Kameleoon.Analyst.Actions.associateActionAndVariation(this,0,"DISPLAYED_VARIATION");this.setTargetingSegment()}Personalization.executeEmailingScript=function(){};Personalization.setGlobalPersonalizationDeviation=function(){var n;var i=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonGlobalPersonalizationExposition","LS");if(null==i)i=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonPersonalizations","LS");if(i){var t=i.split("/");n="true"==t[0]?!0:!1;Kameleoon.Utils.createLocalData("kameleoonGlobalPersonalizationExposition",i,380,null,null,!1)}else{if(Math.random()<Kameleoon.Internals.configuration.personalizationsDeviation)n=!0;else n=!1;i=n+"/"+(new Date).getTime();Kameleoon.Utils.createLocalData("kameleoonGlobalPersonalizationExposition",i,380,null,null,!1)}Kameleoon.Internals.runtime.personalizationsActive=n};return Personalization}();var RequestManager=function(){function e(){var e=this;this.HEXADECIMAL_ALPHABET="0123456789ABCDEF";this.MAX_QUERY_LENGTH=1500;this.NONCE_BYTE_LENGTH=8;this.SCRIPT_VERSION=20190115;this.getBaseUrl=function(){var t="//"+Kameleoon.Internals.runtime.storedData.obtainField("Runtime","trackerNodeSubdomain")+"."+e.getDomain()+"/visit.gif?lp="+Kameleoon.Internals.runtime.storedData.obtainField("Runtime","trackerNodeLogParser","0");if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)t+="&spt="+Kameleoon.Internals.configuration.scriptProduceTime;return t};this.getDomain=function(){switch(Kameleoon.Internals.configuration.environment){case"PRODUCTION":return"kameleoon.eu";case"TEST":return"kameleoon.net";case"DEVELOPMENT":return"kameleoon-dev.net"}};this.requestsToSend=[];Kameleoon.Utils.setInterval(this.processRequests.bind(this),500);Kameleoon.Utils.addEventListener(window,"beforeunload",this.processRequests.bind(this))}e.prototype.addRequest=function(e){switch(e.eventType){case"containers":case"customData":case"interests":case"targetingSegments":case"conversions":this.requestsToSend.push(e);break;default:this.requestsToSend.push(e);this.processRequests();break}};e.prototype.mergedEventsIntoQueries=function(e){var t=[];var n={};e.forEach((function(e){if(!n[e.eventType])n[e.eventType]=[];n[e.eventType].push(e)}));for(var s in n)try{t.push(this.transformEventsToQueries(s,n[s]))}catch(e){console.log(e)}return Kameleoon.Utils.flatten(t)};e.prototype.processRequests=function(){var e=this;if(this.validateTrackingRequest()){if(!Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){var t=this.mergedEventsIntoQueries(this.requestsToSend);t.forEach((function(t){e.sendTrackingRequest(t)}))}this.requestsToSend=[]}};e.prototype.sendOtherTrackingRequests=function(e){if(!Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.proxyMode)if(this.validateTrackingRequest())if(0&&navigator.sendBeacon)try{navigator.sendBeacon(e)}catch(t){Kameleoon.Utils.performBeaconServerCall(e)}else Kameleoon.Utils.performBeaconServerCall(e)};e.prototype.sendTrackingRequest=function(e){var t="siteCode="+Kameleoon.Internals.configuration.siteCode;t+="&visitorCode="+Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;t+="&startOfVisit="+(Kameleoon.Internals.runtime.Gatherer.startOfVisit||"false");t+="&scriptVersion="+this.SCRIPT_VERSION;t+="&nonce="+Kameleoon.Utils.obtainRandomString(2*this.NONCE_BYTE_LENGTH,this.HEXADECIMAL_ALPHABET);t+="&"+e;var n=this.getBaseUrl()+"&p="+encodeURIComponent(Kameleoon.Utils.encodeString(t));Kameleoon.Utils.performBeaconServerCall(n,null,(function(e){if(0!=e.status)Kameleoon.Utils.Logger.send({stack:"Error when sending requests "+e.status,message:"Error when sending requests "+e.status},"requests")}))};e.prototype.validateTrackingRequest=function(){var e=Kameleoon.Internals.runtime.ipIsTrackerAccepted;var t=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0;if(t&&!e||!Kameleoon.Internals.runtime.consent.AB_TESTING&&!Kameleoon.Internals.runtime.consent.PERSONALIZATION)return!1;else return!0};e.prototype.transformEventsToQueries=function(e,t){var n=this;var s=[];var o=[];var r=0;var i="eventType="+e+"&time="+t[0].time;var a=t[0].mergeable;var u=function(e,t,n){return"&"+e+(null!=n?n:a?r:"")+"="+t};var l=function(e,t){var n="";for(var s in t)if(-1==["eventType","time","notTrack","mergeable"].indexOf(s)){var r=null;if("customData"==e||"interests"==e){r=t.index;if("index"==s){o.push(t.index);continue}if("valueToCount"==s&&t.valueToCount&&null==t.valueToCount.length){var i=[];for(var a in t.valueToCount)i.push([a,t.valueToCount[a]]);t.valueToCount=i}}var l=typeof t[s];switch(l){case"number":case"boolean":n+=u(s,t[s],r);break;case"object":n+=u(s,encodeURIComponent(JSON.stringify(t[s])),r);break;case"string":n+=u(s,encodeURIComponent(t[s]),r);break}}return n};t.forEach((function(u){var c=l(e,u);if(a&&Kameleoon.Utils.encodeString(c+i).length>n.MAX_QUERY_LENGTH){if("customData"==e||"interests"==e){o.splice(-1);s.push(i+"&indexes="+encodeURIComponent(JSON.stringify(o)));o=[]}else{if(r>0)s.push(i+"&number="+r);r=0}i="eventType="+e+"&time="+t[0].time+l(e,u)}else if(a){i+=c;r++}else s.push(i+c)}));if(a)if("customData"==e||"interests"==e)s.push(i+"&indexes="+encodeURIComponent(JSON.stringify(o)));else s.push(i+"&number="+(r>0?r:1));return s};return e}();var Segment=function(){function n(){}return n}();var Targeting=function(){function e(){var e=this;this.checkTargetingCondition=function(t,r){var n;if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(!e.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,void 0))n={targeting:r.targeting,rescheduleTargeting:!1};else{var i=Kameleoon.Targeting["evaluate_"+r.type];var a=void 0;if(null!=i)a=i.bind(e)(r,t);else a=null;if(null==a)a={targeting:void 0,rescheduleTargeting:!1};var g=a.targeting;if(!0!==r.include)if(void 0===g){if(!0===a.excludedUndefinedIsTargeted)g=!0}else g=!g;n={targeting:g,rescheduleTargeting:e.checkIfTargetingMustBeComputed(g,a.rescheduleTargeting,void 0)};r.targeting=n.targeting;r.rescheduleTargeting=n.rescheduleTargeting;r.numberTargetingCheckings++}if(!0===n.targeting)n.weight=r.weight;else n.weight=0;return n};this.checkTargetingSegmentsTargeting=function(t){var r=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(null==a.numberTargetingCheckings)a.numberTargetingCheckings=0;if(e.checkIfTargetingMustBeComputed(a.targeting,a.rescheduleTargeting||0==a.numberTargetingCheckings,!1))r.push(a)}t=r;for(var n=0,i=t.length;n<i;++n){var a=t[n];var g=e.checkTree(null,a?a.tree:null,!1);a.targeting=g.targeting;a.rescheduleTargeting=g.rescheduleTargeting;a.numberTargetingCheckings++}var l=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(e.checkIfTargetingMustBeComputed(a.targeting,a.rescheduleTargeting,!1))l.push(a)}if(l.length>0)var o=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(o);e.processTargetingSegments(l)}),Kameleoon.Internals.runtime.domReady?Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY:Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)};this.checkTree=function(t,r,n){var i;if(null==r){i={targeting:!0,rescheduleTargeting:!1};if(n)i.weight=0}else{if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(!e.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,n)){i={targeting:r.targeting,rescheduleTargeting:!1};if(n)i.weight=r.weight}else{if(null!=r.targetingCondition)i=e.checkTargetingCondition(t,r.targetingCondition);else{var a=e.checkTree(t,r.leftChild,n);var g=Kameleoon.Internals.runtime.simulationMode||n;if(!g)switch(a.targeting){case!0:if(!r.orOperator)g=!0;break;case!1:if(r.orOperator)g=!0;break;case void 0:default:g=!0;break}var l=null;if(g)l=e.checkTree(t,r.rightChild,n);var o=void 0;switch(a.targeting){case!0:if(r.orOperator)o=!0;else switch(l.targeting){case!0:o=!0;break;case!1:o=!1;break;case void 0:default:o=void 0;break}break;case!1:if(r.orOperator)switch(l.targeting){case!0:o=!0;break;case!1:o=!1;break;case void 0:default:o=void 0;break}else o=!1;break;case void 0:default:if(r.orOperator)switch(l.targeting){case!0:o=!0;break;case!1:o=void 0;break;case void 0:default:o=void 0;break}else switch(l.targeting){case!0:o=void 0;break;case!1:o=!1;break;case void 0:default:o=void 0;break}break}i={targeting:o,rescheduleTargeting:e.checkIfTargetingMustBeComputed(o,a.rescheduleTargeting||g&&l.rescheduleTargeting,n)};if(n){var s=void 0;if(r.orOperator)s=Math.max(a.weight,l.weight);else s=a.weight+l.weight;i.weight=s}}r.targeting=i.targeting;r.rescheduleTargeting=i.rescheduleTargeting;if(n)r.weight=i.weight}r.numberTargetingCheckings++}return i};this.computeDisplayableTree=function(t){var r=new Array;var n=new Array;e.computeDisplayableTreeFirstLevelAddIn(t,r,n);if(n.length>0){var i=new Array;var a=new Array;var g=e.createIterator(r);var l=e.createIterator(n);while(l.hasNext()){var o=l.next();if(Kameleoon.Utils.testEmptyMap(o.conditions)){if(l.hasNext())g.next()}else{a.push(o);if(l.hasNext())i.push(g.next())}}r=a.length>0?i.slice(0,a.length-1):i;n=a}return{firstLevelOrOperators:r,secondLevel:n}};this.computeDisplayableTreeFirstLevelAddIn=function(t,r,n){if(null!=t)if(null==t.targetingCondition)if(0==t.orGuiLevel){e.computeDisplayableTreeFirstLevelAddIn(t.leftChild,r,n);r.push(t.orOperator);e.computeDisplayableTreeFirstLevelAddIn(t.rightChild,r,n)}else n.push(e.computeDisplayableTreeSecondLevel(t));else n.push(e.computeDisplayableTreeSecondLevel(t))};this.computeDisplayableTreeSecondLevel=function(t){var r=new Array;var n=new Array;e.computeDisplayableTreeSecondLevelAddIn(t,r,n);if(n.length>0){var i=new Array;var a=new Array;var g=e.createIterator(r);var l=e.createIterator(n);while(l.hasNext()){var o=l.next();if(o.disabled){if(l.hasNext())g.next()}else{a.push(o);if(l.hasNext())i.push(g.next())}}r=a.length>0?i.slice(0,a.length-1):i;n=a}return{orOperators:r,conditions:n}};this.computeDisplayableTreeSecondLevelAddIn=function(t,r,n){if(null!=t)if(null==t.targetingCondition){e.computeDisplayableTreeSecondLevelAddIn(t.leftChild,r,n);r.push(t.orOperator);e.computeDisplayableTreeSecondLevelAddIn(t.rightChild,r,n)}else n.push(t.targetingCondition)};this.flattenTree=function(e){var t=function(e,r){if(null!=e)if(null!=e.targetingCondition)return!1===e.targetingCondition.targeting?["!",e.targetingCondition]:e.targetingCondition;else{var n=e.orOperator?"OR":"AND";var i=[t(e.leftChild,n),n,t(e.rightChild,n)];return"AND"==r&&"OR"==n?["(",i,")"]:i}};return Kameleoon.Utils.flatten(t(e,"OR"))};this.processAllTargetingSegments=function(){e.processTargetingSegments(Kameleoon.Internals.runtime.targetingSegments||[])};this.processTargetingSegments=function(t){e.checkTargetingSegmentsTargeting(t);var r=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(!0===a.targeting)r.push(a)}e.performSegmentsTracking(r)}}e.prototype.checkIfTargetingMustBeComputed=function(e,t,r){var n=!0===t&&(void 0===e||!1===e&&!0===r);return n};e.prototype.createIterator=function(e){var t=0;return{hasNext:function(){return t<e.length},next:function(){return e[t++]}}};e.prototype.performSegmentsTracking=function(e){for(var t=0,r=e.length;t<r;++t){var n=e[t];Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:n.id,name:n.name}});if(Kameleoon.Internals.configuration.useAudience||Kameleoon.Internals.runtime.mentalistRun&&(n.trackMentalistPrediction||n.mentalist))Kameleoon.Gatherer.track(VisitEvent_TargetingSegments.type,{id:n.id});if(Kameleoon.Internals.runtime.mentalistRun)if(n.trackMentalistPrediction)Kameleoon.Gatherer.track(VisitEvent_MentalistPredictionSegmentTargeting.type,{targetingSegmentId:n.id,trackMentalistPrediction:n.trackMentalistPrediction})}};return e}();Targeting.prototype.evaluate_PAGE_URL=function(e){var t=new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.value));var a;try{a=t.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){try{a=unescape?t.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())):!1}catch(e){a=!1}}return{targeting:a,rescheduleTargeting:!1}};Targeting.prototype.evaluate_PAGE_TITLE=function(e){var t=void 0;if(Kameleoon.Internals.runtime.domReady||null!=document.title&&""!=document.title)t=new RegExp(e.value).test(document.title);return{targeting:t,rescheduleTargeting:void 0===t}};Targeting.prototype.evaluate_LANDING_PAGE=function(e){if(Kameleoon.Internals.runtime.gathererRun){var n=Kameleoon.Internals.runtime.Visitor.currentVisit.landingPageURL;return{targeting:null!=n&&new RegExp(e.value).test(n),rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_ORIGIN_TYPE=function(e){var n=function(e,n){if(null!=n&&new RegExp(".*\\butm_medium=(email|newsletter)(\\b.*)?$").test(n))return"EMAIL";if(null!=n&&new RegExp(".*\\b(utm_medium=cpc|gclid)(\\b.*)?$").test(n))return"SEM";if(null==e||0==e.length)return"DIRECT";if(null!=e&&new RegExp("^https?://[^/]*(google|bing|yahoo|yandex|baidu)\\..*").test(e))return"SEO";if(null!=n&&null!=e)return"AFFILIATION";return null};if(Kameleoon.Internals.runtime.gathererRun){var t=n(Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref"),Kameleoon.Internals.runtime.Visitor.currentVisit.landingPageURL);return{targeting:null!=t&&e.value==t,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_NEW_VISITORS=function(e){if(Kameleoon.Internals.runtime.gathererRun){var n=1==Kameleoon.Internals.runtime.Visitor.visits.length;return{targeting:"NEW"==e.value?n:!n,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_GEOLOCATION=function(e){var n=void 0;if(Kameleoon.Internals.runtime.Geolocation&&Kameleoon.Internals.runtime.Geolocation.loaded)if(e.country&&e.country!=Kameleoon.Internals.runtime.Geolocation.country||e.region&&e.region!=Kameleoon.Internals.runtime.Geolocation.region||e.city&&e.city!=Kameleoon.Internals.runtime.Geolocation.city)n=!1;else n=!0;return{targeting:n,rescheduleTargeting:void 0===n}};Targeting.prototype.evaluate_DEVICE_TYPE=function(e){return{targeting:e.value==Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase(),rescheduleTargeting:!1}};Targeting.prototype.evaluate_PAGE_VIEWS=function(e){if(Kameleoon.Internals.runtime.gathererRun){var t=void 0;switch(e.operator){case"GREATER":t=Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length>e.value;break;case"LOWER":t=Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length<e.value;break;case"EQUAL":t=Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length==e.value;break}return{targeting:t,rescheduleTargeting:!1}}return null};Targeting.prototype.evaluate_ACTIVE_SESSION=function(e){if(Kameleoon.Internals.runtime.gathererRun){var t=(new Date).getTime()-Kameleoon.Internals.runtime.Visitor.currentVisit.startDate;var r=void 0;switch(e.operator){case"EQUAL":r=t==e.time;break;case"LOWER":r=t<e.time;break;case"GREATER":r=t>e.time?!0:void 0;break;case"LOWER_OR_EQUAL":r=t<=e.time;break;case"GREATER_OR_EQUAL":r=t>=e.time?!0:void 0;break}return{targeting:r,rescheduleTargeting:void 0===r}}return null};Targeting.prototype.evaluate_TIME_SINCE_PAGE_LOAD=function(e){var t=function(e){try{return e.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(t){try{return unescape?e.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())):!1}catch(e){return!1}}}.bind(this);var a=(null==e.pageURLRegExpToMatch||t(new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.pageURLRegExpToMatch))))&&(null==e.pageURLRegExpNotToMatch||!t(new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.pageURLRegExpNotToMatch))));if(a){var o=(new Date).getTime()-Kameleoon.Internals.runtime.pageStartTime;switch(e.operator){case"EQUAL":a=o==e.time;break;case"LOWER":a=o<e.time;break;case"GREATER":a=o>e.time?!0:void 0;break;case"LOWER_OR_EQUAL":a=o<=e.time;break;case"GREATER_OR_EQUAL":a=o>=e.time?!0:void 0;break}}return{targeting:a,rescheduleTargeting:void 0===a}};Targeting.prototype.evaluate_TIME_RANGE=function(e){var t=(new Date).getTime();return{targeting:t>=e.gte&&t<e.lt,rescheduleTargeting:!1}};Targeting.prototype.evaluate_JS_CODE=function(targetingCondition,container){if(!targetingCondition.valueGeneratedCode)targetingCondition.valueGeneratedCode="(function() {"+targetingCondition.value+"})();";var targeting=void 0;if(!targetingCondition.domReady||Kameleoon.Internals.runtime.domReady)try{var value=eval(targetingCondition.valueGeneratedCode);if("boolean"!=typeof value)targeting=void 0;else targeting=value}catch(e){targeting=!1;var segmentName=container&&container.targetingSegment?container.targetingSegment.name:null;console.log(e,segmentName)}return{targeting:targeting,rescheduleTargeting:void 0===targeting}};Targeting.prototype.evaluate_COOKIE=function(e){var r=!1;try{var t=function(e,r){switch(e){case"EXACT":return"^"+(null==r?"":r)+"$";case"CONTAINS":return"(.*)"+(null==r?"":r)+"(.*)";case"OPTIONAL":return".*";default:return r}};var a=document.cookie.split(";");for(var n=0,u=a.length;n<u;++n){var i=a[n];var s=i.indexOf("=");if(new RegExp(t(e.nameOperator,e.name)).test(i.substring(0,s).trim())&&new RegExp(t(e.valueOperator,e.value)).test(i.substring(s+1))){r=!0;break}}}catch(e){r=!1}return{targeting:r,rescheduleTargeting:!1}};Targeting.prototype.evaluate_EVENT=function(e){var r=void 0;for(var t=0,a=Kameleoon.API.Events.triggered.length;t<a;++t)if(e.value==Kameleoon.API.Events.triggered[t]){r=!0;break}return{targeting:r,rescheduleTargeting:void 0===r}};Targeting.prototype.evaluate_BROWSER=function(e){var r=void 0;var a=window.bowser;var s=Kameleoon.Internals.runtime.Device.browserVersion;switch(e.value){case"IE":r=!0===a.msie||!0===a.msedge;break;case"CHROME":r=!0===a.chrome;break;case"FIREFOX":r=!0===a.firefox;break;case"SAFARI":r=!0===a.safari;break;case"OPERA":r=!0===a.opera;break;default:r=!1;break}if(r&&null!=e.version)switch(e.operator){case"EQUAL":r=s==e.version;break;case"LOWER":r=s<e.version;break;case"GREATER":r=s>e.version;break}return{targeting:r,rescheduleTargeting:!1}};Targeting.prototype.evaluate_DOM_ELEMENT=function(e){var l=void 0;if(null!=e.value)l=Kameleoon.Utils.querySelectorAll(e.value).length>0?!0:void 0;else if(null!=e.elementSets);else l=!1;if(void 0===l&&Kameleoon.Internals.runtime.domReady)l=!1;return{targeting:l,rescheduleTargeting:void 0===l}};Targeting.prototype.evaluate_MOUSE_OUT=function(e){var n=void 0;if(Kameleoon.Internals.runtime.mouseOutEvent)n=!0;else if(!Kameleoon.Internals.runtime.mouseOutListener&&document.body){Kameleoon.Internals.runtime.mouseOutListener=!0;if(window.bowser.msedge||window.bowser.msie)Kameleoon.Utils.addEventListener(document.body,"mouseout",(function(e){if(!e.relatedTarget)if(Math.abs(e.clientY-window.innerHeight)>e.clientY)Kameleoon.Internals.runtime.mouseOutEvent=!0}));else Kameleoon.Utils.addEventListener(document.body,"mouseleave",(function(e){if(e.clientY<0)Kameleoon.Internals.runtime.mouseOutEvent=!0}))}return{targeting:n,rescheduleTargeting:void 0===n}};Targeting.prototype.evaluate_CUSTOM_DATUM=function(e){if(Kameleoon.Internals.runtime.gathererRun){var a;var r=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e.index];if(null==r)a="UNDEFINED"==e.operator?!0:void 0;else{a=!1;var i=function(r){switch(e.operator){case"CONTAINS":if(r.indexOf(e.value)>=0)a=!0;break;case"EXACT":if(r===e.value)a=!0;break;case"REGULAR_EXPRESSION":if(new RegExp(e.value).test(r))a=!0;break;case"LOWER":case"EQUAL":case"GREATER":var i=e.value;if(!isNaN(i)){var t=parseFloat(r);if(!isNaN(t))switch(e.operator){case"LOWER":if(t<i)a=!0;break;case"EQUAL":if(t===i)a=!0;break;case"GREATER":if(t>i)a=!0;break}}break;case"TRUE":if("true"===r)a=!0;break;case"FALSE":if("false"===r)a=!0;break;case"AMONG_VALUES":try{var n=JSON.parse(e.value);n.forEach((function(e){if(e==r)a=!0}))}catch(e){a=!1}}if(!0===a)return"break"};for(var t in r){var n=i(t);if("break"===n)break}}return{targeting:a,rescheduleTargeting:void 0===a}}return null};Targeting.prototype.evaluate_HEAT_SLICE=function(e){var o=void 0;if(Kameleoon.Mentalist){var t=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","savedScoresFromMoments");if(!Kameleoon.Internals.runtime.simulationMode){if(t&&t[e.keymoment]){var n=Kameleoon.Internals.configuration.targetingSegmentIdToGoalIdsToKcs[e.keymoment][e.goal];var a=t[e.keymoment][e.goal];if(a&&a>=n[e.start]&&a<n[e.end])o=!0;else o=!1}}else{if(!Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs)Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs={};var m=Kameleoon.Internals.runtime.targetingSegmentIdToGoalIdsToKcs;if(!m[e.keymoment]||!m[e.keymoment][e.goal]){if(!m[e.keymoment])m[e.keymoment]={};if(!m[e.keymoment][e.goal])m[e.keymoment][e.goal]={};Kameleoon.Utils.performBeaconServerCall("https://api-predict.kameleoon.com/latestPredictionScoreHistograms?siteCode="+Kameleoon.Internals.configuration.siteCode+"&goalId="+e.goal+"&targetingSegmentId="+e.keymoment+"&timeZone="+Kameleoon.Internals.configuration.timeZone,(function(o){if(4==o.readyState&&200==o.status){var t=JSON.parse(o.responseText);m[e.keymoment][e.goal]=[0].concat(t.scoreBoundaries).concat([1])}}))}else{var r=m[e.keymoment][e.goal];if(Object.keys(r).length>0&&t[e.keymoment]){var a=t[e.keymoment][e.goal];if(a&&a>=r[e.start]&&a<r[e.end])o=!0;else o=!1}}}}else o=!1;return{targeting:o,rescheduleTargeting:void 0===o}};var Tracking=function(){function e(){var e=this;this.timeBeforeSendTracking=20*60*1e3;this.checkAndSetKameleoonTrackingTime=function(n,i){var t=sessionStorage.getItem("kameleoonAnalyticsTrackingTimes");var r=null==t?{}:JSON.parse(t);var a="Experiment-"+n;if(null==r[i]||null==r[i][a]||(new Date).getTime()>=r[i][a]+e.timeBeforeSendTracking){if(null==r[i])r[i]={};r[i][a]=(new Date).getTime();sessionStorage.setItem("kameleoonAnalyticsTrackingTimes",JSON.stringify(r));return!0}return!1}}return e}();Tracking.prototype.processAdobeOmniture=function(e){e.adobeOmnitureTracking.active=!0;var n=Kameleoon.Tracking.findAdobeOmnitureObject(e);if(void 0==window.s_doPlugins)window.s_doPlugins=Kameleoon.Tracking.processOmniture;if(n){if(void 0==n.doPlugins){n.usePlugins=!0;n.doPlugins=Kameleoon.Tracking.processOmniture}e.adobeOmnitureTracking.omnitureAlreadyLoaded=!0;try{if(!e.adobeOmnitureTracking.willIncludeTracksentMarker||n.tracksent||window.kameleoonOmnitureCallSent)if(Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(e.id,"adobeOmniture"))n.tl(!0,"o","Kameleoon Tracking")}catch(n){var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);Kameleoon.Tracking.processAdobeOmniture.apply(Kameleoon.Tracking,[e])}),150)}}else if(e.adobeOmnitureTracking.eventCallDelayed)var r=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(r);Kameleoon.Tracking.processAdobeOmniture.apply(Kameleoon.Tracking,[e])}),150)};Tracking.prototype.findAdobeOmnitureObject=function(experiment){if(experiment.adobeOmnitureTracking.objectDetectionScript){if(!experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode)experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode="(function() {"+experiment.adobeOmnitureTracking.objectDetectionScript+"})();";return eval(experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode)}if(experiment.adobeOmnitureTracking.object)return window[experiment.adobeOmnitureTracking.object];return window["s"]};Tracking.prototype.processOmniture=function(e){if(null!=Kameleoon.Internals.runtime){var n=function(n){for(var i=0,r=n.length;i<r;++i){var a=n[i];if(a.adobeOmnitureTracking&&a.adobeOmnitureTracking.active){if(a.adobeOmnitureTracking.omnitureAlreadyLoaded)e.linkTrackVars=(!e.linkTrackVars||"None"==e.linkTrackVars?"":e.linkTrackVars+",")+"eVar"+a.adobeOmnitureTracking.eVar;e["eVar"+a.adobeOmnitureTracking.eVar]=a.name+" / "+a.associatedVariation.name;if(a.targeting&&a.adobeOmnitureTracking.willIncludeTracksentMarker)Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(a.id,"adobeOmniture")}}};var i=Kameleoon.Internals.runtime.experiments;if(null!=i)n(i);var r=Kameleoon.Internals.runtime.personalizations;if(null!=r)n(r)}};var Variation=function(){function e(e){var t=this;this.getAction=function(){var e=[];e=e.concat(Kameleoon.Internals.runtime.experiments);e=e.concat(Kameleoon.Internals.runtime.personalizations);return e.filter((function(e){return e.id==t.actionId}))[0]};for(var o in e){this[o]=e[o];if("widgetTemplateInputData"==o){var n=this[o];for(var r in n)if("string"==typeof n[r])n[r]=n[r].replace("STATIC_IMAGE_PATH",Kameleoon.Internals.configuration.IMAGE_PATH)}}}e.prototype.applyJavascriptCode=function(e){if(this.javaScriptCode&&this.javaScriptCode.code&&(null==this.javaScriptCode.evaluated||e)){this.javaScriptCode.evaluated=!0;Kameleoon.Utils.runProtectedScript(this.javaScriptCode.code,"kameleoonVariationJavaScriptCode-"+this.id+".js")}};e.prototype.preProcessRedirect=function(e){var t=this.redirections||[];for(var o=0,n=t.length;o<n;++o)if(!t[o].scope||new RegExp(t[o].scope).test(window.location.href))if(t[o].additionalParameters){if(-1==window.location.search.indexOf(t[o].string))if("#"!=t[o].string[0])Kameleoon.Utils.processRedirect(window.location.protocol+"//"+window.location.hostname+(!window.location.port?"":":"+window.location.port)+window.location.pathname+window.location.search+(-1==window.location.search.indexOf("?")?"?":"&")+t[o].string+window.location.hash,e);else window.location.replace(window.location.protocol+"//"+window.location.hostname+(!window.location.port?"":":"+window.location.port)+window.location.pathname+window.location.search+t[o].string)}else{var r=t[o].string;if(t[o].keepParameters)r+=-1!=r.indexOf("?")?window.location.search.replace("?","&"):window.location.search;Kameleoon.Utils.processRedirect(r,e)}};e.prototype.process=function(){var e=this;var t=[];t=t.concat(Kameleoon.Internals.runtime.experiments);t=t.concat(Kameleoon.Internals.runtime.personalizations);var o=t.filter((function(t){return t.id==e.actionId}))[0];if(this.redirections&&!Kameleoon.Internals.runtime.editorEnabled)this.preProcessRedirect(o);if(this.forceNoFlicker&&!Kameleoon.Internals.runtime.domReady){var n="";for(var r=0,i=this.elementSets.length;r<i;++r)n+=(0!=r?", ":"")+this.elementSets[r].selector;Kameleoon.Utils.forceNoFlicker(n)}if(!this.styleSheetAdded){this.styleSheetAdded=!0;Kameleoon.Utils.addCSSStyleSheet(this.css,o,null)}if(this.javaScriptCode&&!this.permanentRefreshActive)if(!this.javaScriptCode.afterDOMReady)this.applyJavascriptCode(!1);else if(!this.permanentRefreshActive)Kameleoon.Utils.domReady((function(){e.applyJavascriptCode(!1)}));if(this.elementSets&&(!o||o.targeting))this.elementSets.forEach((function(t){t.evaluated=!0;Kameleoon.ElementSet.processElementSet(t,e,!1,e.permanentRefreshActive,e.editionMode)}));if(this.replaceData){var a=JSON.parse(this.replaceData);this.processReplaceData(a)}if(this.forceNoFlicker&&!this.permanentRefreshActive)Kameleoon.Utils.removeBlockingStyleSheet();if(Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]&&!this.permanentRefreshActive){if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]);Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=null}if(!Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){this.permanentRefreshActive=!0;Kameleoon.Internals.runtime.listenVariations.push(this);Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=!0;if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=Kameleoon.Utils.setInterval((function(){e.process()}),10)}};e.prototype.processReplaceData=function(e){if(document&&document.body){var t=function(e){var t=!0,o=e.parentNode,n;if(o)n=o.getAttribute("id");if(Kameleoon.Internals.runtime.editorMode)if(n&&null!==n.match("kameleoon")||o.closest&&null!==o.closest(".KameleoonProtected"))t=!1;if("SCRIPT"===o.nodeName||"STYLE"===o.nodeName||"NOSCRIPT"===o.nodeName)t=!1;if(t)return NodeFilter.FILTER_ACCEPT};var o=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var n=function(e){return e.replace(/[aàáâãäå]/g,"[aàáâãäå]").replace(/[cç]/g,"[cç]").replace(/[eèéêëæ]/g,"[eèéêëæ]").replace(/[nñ]/g,"[nñ]").replace(/[oòóôõöø]/g,"[oòóôõöø]").replace(/[sß]/g,"[sß]").replace(/[uùúûü]/g,"[uùúûü]").replace(/[yÿ]/g,"[yÿ]")};var r=t;r.acceptNode=t;var i=document.createTreeWalker(document.body,NodeFilter.SHOW_ALL,r,!1);while(i.nextNode()){if(3!==i.currentNode.nodeType&&(1!==i.currentNode.nodeType||!i.currentNode.getAttribute("placeholder")))continue;for(var a=0;a<e.length;++a){var l="[a-zA-Z0-9_ÀÁÂÃÄÅàáâãäåßÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž]",s=n(o(e[a].toReplace)),c=e[a].isWholeWordMode?"(?<!"+l+")"+s+"(?!"+l+")":s,d=new RegExp(c,e[a].isCaseSensitiveMode?"g":"gi");if(!e[a].disabled&&i.currentNode.nodeValue&&d.test(i.currentNode.nodeValue)){Kameleoon.ElementSet.saveElementOriginalData(i.currentNode);i.currentNode.kameleoonData.powered=!0;i.currentNode.nodeValue=i.currentNode.nodeValue.replace(d,e[a].replaceBy)}else if(!e[a].disabled&&1===i.currentNode.nodeType&&i.currentNode.getAttribute("placeholder")&&d.test(i.currentNode.getAttribute("placeholder"))){Kameleoon.ElementSet.saveElementOriginalData(i.currentNode);i.currentNode.kameleoonData.powered=!0;i.currentNode.setAttribute("placeholder",i.currentNode.getAttribute("placeholder").replace(d,e[a].replaceBy))}}}}};return e}();var Visit=function(){function e(e){var t=this;this.addActionTriggered=function(e,t){if(t){var i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});i[e.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","experimentsTriggered",i)}else{var n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});n[e.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","personalizationsTriggered",n)}};this.addActivity=function(e,i){if(i)t.timeLastActivity=e;else t.timeLastInactivity=e};this.addAdBlocker=function(){t.Device.adBlocker=!0};this.addConversions=function(e,i,n,r){var a=r?-1:1;i*=a;n*=a;var s=t.conversions[e];var o=s?s.count:0;var u=s?s.revenue:0;var l=o+i;var c=u+n;if(l>0)if(c>=0)t.conversions[e]={count:l,revenue:c};else delete t.conversions[e];else delete t.conversions[e]};this.addCustomData=function(e,i,n){if(Kameleoon.Utils.testEmptyMap(i)){if(n)delete t.countByValueByCustomDatum[e]}else{if(n||null==t.countByValueByCustomDatum[e])t.countByValueByCustomDatum[e]={};for(var r in i)t.countByValueByCustomDatum[e][r]=(t.countByValueByCustomDatum[e][r]||0)+i[r]}};this.addExperiment=function(e,i,n,r){if(null===n)return;if(void 0===t.ExperimentActivations[i]){t.ExperimentActivations[i]={experimentID:i,associatedVariationID:n,times:[]};t.mentalistDecisionByExperimentId[i]=r}t.ExperimentActivations[i].times.push(e)};this.addExternalSolutionData=function(e,i){if(!Kameleoon.Utils.testEmptyMap(i)){var n=t.valuesByKeyByExternalSolution[e];if(null==n){n={};t.valuesByKeyByExternalSolution[e]=n}for(var r in i){var a=i[r];var s=a.length;if(s>0){var o=n[r];if(null==o){o={};n[r]=o}for(var u=0;u<s;++u)o[a[u]]=!0}}}};this.addGeolocation=function(e,i,n,r,a,s){t.Geolocation={country:e,region:i,city:n,postalCode:r,latitude:a,longitude:s}};this.addInterests=function(e,i){e.forEach((function(e){var n=t.freshByActiveInterest[e];if(null==n)n=!1;t.freshByActiveInterest[e]=n||i}))};this.addNumberClicks=function(e){if(e>0)t.numberClicks+=e};this.addPage=function(e,i,n,r){t.addActivity(e,!0);t.keyPages.push(n);t.timesStartedPages.push(e);var a=r.filter((function(e){return null!=e}));if(a.length>0){t.referrers.push(a);t.timesReferrers.push(e)}var s=t.timesByPageHref[i];if(null==s){s=[];t.timesByPageHref[i]=s}s.push(e);for(var o in t.productEansLastPage)t.productEansAllButLastPages[o]=!0;t.productEansLastPage={}};this.addPersonalization=function(e,i,n,r){if(0==n)return null;if(void 0===t.PersonalizationActivations[i]||null!=n&&null==t.PersonalizationActivations[i].associatedVariationID){t.PersonalizationActivations[i]={personalizationID:i,associatedVariationID:n,times:[]};t.mentalistDecisionByPersonalizationId[i]=r}t.PersonalizationActivations[i].times.push(e)};this.addProduct=function(e){t.productEansLastPage[e]=!0};this.addSearch=function(e,i,n,r){t.addActivity(e,!0);t.keyWords.push(i);t.searchesFollowed.push(r);t.searchesNumberResults.push(n);t.timesSearches.push(e)};this.addTabCount=function(e){if(null==t.maxTabCount||e>t.maxTabCount)t.maxTabCount=e};this.addTargetingSegment=function(e,i){var n=t.timesByTargetingSegmentId[i];if(null==n){n=[];t.timesByTargetingSegmentId[i]=n}n.push(e)};this.addWeather=function(e,i,n,r,a,s,o,u,l){t.Weather={temperature:e,humidity:i,pressure:n,windSpeed:r,cloudiness:a,sunrise:s,sunset:o,conditionDescription:u,conditionCode:l}};this.clearCustomDataPage=function(){for(var e in Kameleoon.Internals.runtime.Gatherer.configuration.customData){var i=Kameleoon.Internals.runtime.Gatherer.configuration.customData[e];if("PAGE"==i.scope)delete t.countByValueByCustomDatum[e]}};this.computeActionNumberActivations=function(e,i,n,r){if(null==r[e])return 0;return t.computeObjectNumberPresence(i,n,r[e].times)};this.computeObjectNumberPresence=function(e,t,i){var n=0;for(var r=0,a=i.length;r<a;++r){var s=i[r];if((null==e||s>=e)&&(null==t||s<=t))n++}return n};this.convertVisitFromServer=function(){for(var e in t.valuesByKeyByExternalSolution){var i=t.valuesByKeyByExternalSolution[e];for(var n in i){var r=i[n];var a={};for(var s=0,o=r.length;s<o;++s)a[r[s]]=!0;i[n]=a}}return t};this.isVisitFinished=function(){return t.timeLastActivity<(new Date).getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration};this.obtainInterestIsActive=function(e,i){if(null==i)return null!=t.freshByActiveInterest[e];return t.freshByActiveInterest[e]==i};this.obtainKeyPageIsVisited=function(e){for(var i=0,n=t.keyPages.length;i<n;i++){var r=t.keyPages[i];for(var a=0,s=r.length;a<s;a++)if(e==r[a])return!0}return!1};this.obtainKeyWordIsSearched=function(e){for(var i=0,n=t.keyWords.length;i<n;i++){var r=t.keyWords[i];for(var a=0,s=r.length;a<s;a++)if(e==r[a])return!0}return!1};this.obtainMeanPageDuration=function(){var e=new Date;var i=OnlineMeanAndDeviation.createFromDifferences(t.timesStartedPages,!1,!0,!0);i.update([e.getTime()-t.timesStartedPages[t.timesStartedPages.length-1]]);return i.mean[0]};this.obtainNumberConversions=function(e){var i=t.conversions[e];return null==i?0:i.count};this.obtainPageNumberViews=function(e,i,n,r){var a=0;for(var s in t.timesByPageHref)if(null!=s){var o=Kameleoon.Utils.computeRelativeURL(s);if((null==e||e.test(s)||e.test(o))&&(null==i||!i.test(s)&&!i.test(o)))a+=t.computeObjectNumberPresence(n,r,t.timesByPageHref[s])}return a};this.obtainPersonalizationNumberActivations=function(e,i,n){return t.computeActionNumberActivations(e,i,n,t.PersonalizationActivations)};this.obtainReferrerIsPresent=function(e){var i=null==e?null:e+1;for(var n=0,r=t.referrers.length;n<r;n++){var a=t.referrers[n];for(var s=0,o=a.length;s<o;s++)if(a[s]==i)return!0}return!1};this.index=e.visitNumber||e.index||0;this.landingPageURL=e.landingPageHref||e.landingPageURL||null;this.locale=e.localeLanguageTag||e.locale||"en";this.mentalistDecisionByExperimentId=e.mentalistDecisionByExperimentId||{};this.mentalistDecisionByPersonalizationId=e.mentalistDecisionByPersonalizationId||{};this.productEansAllButLastPages=e.productEansAllButLastPages||{};this.productEansLastPage=e.productEansLastPage||{};this.startDate=e.timeStarted||e.startDate||0;this.timesByPageHref=e.timesByPageHref||{};this.timesByTargetingSegmentId=e.timesByTargetingSegmentId||{};this.valuesByKeyByExternalSolution=e.valuesByKeyByExternalSolution||{};this.visitorCode=e.visitorCode||"";var i=e.wholeVisitHistory||{};this.countByValueByCustomDatum=i.countByValueByCustomDatum||e.countByValueByCustomDatum||{};this.freshByActiveInterest=i.freshByActiveInterest||e.freshByActiveInterest||{};this.keyPages=i.keyPages||e.keyPages||[];this.keyWords=i.keyWords||e.keyWords||[];this.maxTabCount=i.maxTabCount||e.maxTabCount||null;this.numberClicks=i.numberClicks||e.numberClicks||0;this.referrers=i.referrers||e.referrers||[];this.searchesFollowed=i.searchesFollowed||e.searchesFollowed||[];this.searchesNumberResults=i.searchesNumberResults||e.searchesNumberResults||[];this.timeLastActivity=i.timeLastActivity||e.timeLastActivity||this.startDate;this.timeLastInactivity=i.timeLastInactivity||e.timeLastInactivity||this.startDate;this.timesReferrers=i.timesReferrers||e.timesReferrers||[];this.timesSearches=i.timesSearches||e.timesSearches||[];this.timesStartedPages=i.timesStartedPages||e.timesStartedPages||[];var n=e.Device||{};this.Device={adBlocker:e.adBlocker||n.adBlocker||!1,browser:null!=e.browser?e.browser:null!=n.browser?n.browser:null,browserName:e.browserName||n.browserName||null,browserVersion:e.browserVersion||n.browserVersion||null,os:null!=e.os?e.os:null!=n.os?n.os:null,osName:e.osName||n.osName||null,screenHeight:e.screenHeight||n.screenHeight||null,screenWidth:e.screenWidth||n.screenWidth||null,timeZone:e.timeZoneId||n.timeZone||"UTC",type:e.deviceType||n.type.toLocaleUpperCase()||null,windowHeight:e.windowHeight||n.windowHeight||null,windowWidth:e.windowWidth||n.windowWidth||null};var r=e.Geolocation||{};this.Geolocation={city:e.city||r.city||null,country:e.country||r.country||null,latitude:e.latitude||r.latitude||null,longitude:e.longitude||r.longitude||null,postalCode:e.postalCode||r.postalCode||null,region:e.region||r.region||null};var a=e.Weather||{};this.Weather={conditionCode:e.weatherCodeId||a.conditionCode||null,conditionDescription:e.weatherCode||a.conditionDescription||null,cloudiness:i.cloudiness||a.cloudiness||null,humidity:i.humidity||a.humidity||null,pressure:i.pressure||a.pressure||null,sunrise:e.sunriseTime||a.sunrise||null,sunset:e.sunsetTime||a.sunset||null,temperature:i.temperature||a.temperature||null,windSpeed:i.windSpeed||a.windSpeed||null};this.conversions=e.conversions||{};if(i.conversionCountByGoalId)for(var s in i.conversionCountByGoalId){var o=parseInt(s);this.conversions[o]={count:i.conversionCountByGoalId[s],revenue:i.revenueCountByGoalId[s]}}this.ExperimentActivations=e.ExperimentActivations||{};if(e.variationIdByExperimentId)for(var u in e.variationIdByExperimentId){var l=parseInt(u);this.ExperimentActivations[l]={experimentID:l,associatedVariationID:e.variationIdByExperimentId[u],times:e.timesByVariationIdByExperimentId[u][e.variationIdByExperimentId[u]]}}this.PersonalizationActivations=e.PersonalizationActivations||{};if(e.variationIdByPersonalizationId){var c=function(t){var i=parseInt(t);var n=Kameleoon.Internals.runtime.personalizations.filter((function(e){return e.id==i}))[0];if(n)d.PersonalizationActivations[i]={personalizationID:i,associatedVariationID:n.associatedVariation.id,times:e.timesByVariationIdByPersonalizationId[t][e.variationIdByPersonalizationId[t]]}};var d=this;for(var m in e.variationIdByPersonalizationId)c(m)}}e.prototype.obtainExperimentNumberActivations=function(e,t,i){return this.computeActionNumberActivations(e,t,i,this.ExperimentActivations)};return e}();var Visitor=function(){function e(){var t=this;this.addVisit=function(e){t.visits.push(e);t.currentVisit=e;t.totalVisits++;if(null==t.timeStartedEldestVisit)t.timeStartedEldestVisit=e.startDate;var i=t.visits.length;var r=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);if(i>r)t.visits=t.visits.slice(i-r)};this.addPreviousVisits=function(e){if(null!=t.currentVisit){var i=t.currentVisit;var r=[];for(var n=0,a=t.visits.length-1;n<a;++n)r.push(t.visits[n]);for(var n=0,a=e.length;n<a;++n)r.push(e[n]);r.sort((function(e,t){var i=e.startDate-t.startDate;if(0!=i)return i;i=e.index-t.index;return i}));var o=null;var s=null;for(var n=0,a=r.length;n<a;n++){var l=r[n];var d=l.visitorCode;var u=l.index;if(d!=o||u!=s)t.addVisit(l);o=d;s=u}t.addVisit(i)}};this.obtainKeyPageIsVisited=function(e){for(var i=0,r=t.visits.length;i<r;++i)if(t.visits[i].obtainKeyPageIsVisited(e))return!0;return!1};this.obtainKeyWordIsSearched=function(e){for(var i=0,r=t.visits.length;i<r;++i)if(t.visits[i].obtainKeyWordIsSearched(e))return!0;return!1};this.obtainInterestIsActive=function(e){for(var i=0,r=t.visits.length;i<r;++i)if(t.visits[i].obtainInterestIsActive(e,null))return!0;return!1};this.obtainReferrerIsPresent=function(e){for(var i=0,r=t.visits.length;i<r;++i)if(t.visits[i].obtainReferrerIsPresent(e))return!0;return!1};this.obtainLastVisitWithFreshActiveInterest=function(e){for(var i=t.visits.length-1;i>=0;--i){var r=t.visits[i];if(r.obtainInterestIsActive(e,!0))return r}return null};this.obtainNumberConversions=function(e){var i=0;for(var r=t.visits.length-1;r>=0;--r)i+=t.visits[r].obtainNumberConversions(e);return i};this.obtainActionNumberActivations=function(e,i,r,n,a,o,s,l){var d=l?"obtainExperimentNumberActivations":"obtainPersonalizationNumberActivations";var u=Kameleoon.Internals.runtime.Visitor.visits.length;var m=0;if(u>0){if(a){var v=Kameleoon.Internals.runtime.Visitor.visits[u-1][d](e,r,n);m+=s?v>0?1:0:v}if(o)for(var c=0,f=u-1;c<f;++c){var h=t.visits[c][d](e,r,n);m+=s?h>0?1:0:h}}return m};this.obtainPageNumberViews=function(e,i,r,n,a,o){var s=t.visits.length;var l=0;if(s>0){if(a)l+=t.visits[s-1].obtainPageNumberViews(e,i,r,n);if(o)for(var d=0,u=s-1;d<u;++d)l+=t.visits[d].obtainPageNumberViews(e,i,r,n)}return l};this.obtainTimeSincePreviousVisit=function(){if(t.visits.length>1)return t.currentVisit.startDate-t.visits.slice(-2)[0].timeLastActivity;else return 0};this.obtainVisitorCode=function(i){var r=!1;var n=!1;var a;if(Kameleoon.Internals.runtime.incomingStoredData)a=Kameleoon.Internals.runtime.incomingStoredData.kameleoonVisitorCode;else a=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");var o=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");if(o)o=o.replace("_js_","");a=a||o;if(i||null==a){a=Kameleoon.Utils.obtainRandomString(e.VISITOR_CODE_LENGTH,Analyst.CODE_ALPHABET);r=!0;n=!0}Kameleoon.Utils.createLocalData("kameleoonVisitorCode",a,380,null,"LS");if(a!=o){Kameleoon.Utils.createLocalData("kameleoonVisitorCode","_js_"+a,380,null,"COOKIE");n=!0}t.visitorCode=a;return r};this.obtainVisitorFromStoredData=function(){return Kameleoon.Internals.runtime.storedData.Visitor};this.saveToStoredData=function(){t.saveFieldToStoredData("visits",t.visits);t.saveFieldToStoredData("totalVisits",t.totalVisits);t.saveFieldToStoredData("timeStartedEldestVisit",t.timeStartedEldestVisit)};this.updateFromStoredData=function(e,i,r){var n=!1;var a=t.obtainVisitorFromStoredData();var o=a.visits;if(!t.visitorCode){var s=t.obtainVisitorCode(r);if(s)r=!0}if(o)if(o.slice(-1)[0].visitorCode!=t.visitorCode)r=!0;if(r||e){i=!0;if(r)t.totalVisits=0}t.visits=[];if(!r&&o){o.forEach((function(e){t.addVisit(new Visit(e))}));t.totalVisits=a.totalVisits;t.timeStartedEldestVisit=a.timeStartedEldestVisit}if(i||!t.currentVisit||t.currentVisit.isVisitFinished()){var l=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage");Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",l+1);Kameleoon.Internals.runtime.Gatherer.startOfVisit=n=!0;Kameleoon.Internals.runtime.storedData.resetForStartOfVisit();Kameleoon.Internals.runtime.storedData.saveField("Runtime","landingPageTitle",document.title);Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrerHref",Kameleoon.Gatherer.Referrer.obtainCorrected(!0)||null);Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrers",Kameleoon.Gatherer.Referrer.obtainIndexes(!0)||[null]);Kameleoon.Internals.runtime.storedData.saveField("Runtime","landingPages",Kameleoon.Gatherer.KeyPage.obtainIndexes()||[null]);var d=void 0;if(!t.currentVisit||r)d=0;else d=t.currentVisit.index+1;t.addVisit(new Visit({visitorCode:t.visitorCode,startDate:(new Date).getTime(),index:d,landingPageURL:Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),Device:{browser:Kameleoon.Gatherer.Browser.obtainIndex(),browserName:Kameleoon.Gatherer.Browser.obtain(),browserVersion:Kameleoon.Internals.runtime.Device.browserVersion,os:Kameleoon.Gatherer.OperatingSystem.obtainIndex(),osName:Kameleoon.Gatherer.OperatingSystem.obtain(),screenHeight:Kameleoon.Internals.runtime.Device.screenHeight,screenWidth:Kameleoon.Internals.runtime.Device.screenWidth,timeZone:Kameleoon.Gatherer.TimeZone.obtainId(),type:Kameleoon.Internals.runtime.Device.type,windowHeight:Kameleoon.Internals.runtime.Device.windowHeight,windowWidth:Kameleoon.Internals.runtime.Device.windowWidth},locale:Kameleoon.Gatherer.Language.obtainLocaleTag()}))}var u=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","trackerNodeSubdomain");if(n&&null==u||null==u||!Kameleoon.Analyst.isValidTrackerNodeSubdomain(u)){u=Kameleoon.Analyst.obtainTrackerNodeSubdomainsSeededRandom(t.currentVisit.visitorCode);Kameleoon.Internals.runtime.storedData.saveField("Runtime","trackerNodeSubdomain",u)}var m=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","trackerNodeLogParser");if(n&&null==m||null==m||!Kameleoon.Analyst.isValidTrackerNodeNumberLogParsers(u,m)){m=Kameleoon.Analyst.obtainTrackerNodeLogParserSeededRandom(u,t.currentVisit.visitorCode);Kameleoon.Internals.runtime.storedData.saveField("Runtime","trackerNodeLogParser",m)}t.saveToStoredData()};this.visits=[];this.currentVisit=null;this.totalVisits=0;this.updateFromStoredData(!1)}e.prototype.saveFieldToStoredData=function(e,t){Kameleoon.Internals.runtime.storedData.Visitor[e]=t};e.VISITOR_CODE_LENGTH=16;return e}();var Kameleoon;try{Kameleoon=new KameleoonEngine;window.Kameleoon=Kameleoon}catch(o){console.log(o)}
Kameleoon.Internals = {"configuration":{"siteCode":"ds1h54b9h1","memberCode":"0","EDITOR_HOST_NAME":"editor","BACK_OFFICE_HOST_NAME":"back-office","STATIC_HOST_NAME":"static","STATIC_DIRECT_HOST_NAME":"static-direct","PROXY_HOST_NAME":"proxy","API_HOST_NAME":"api","DOMAIN":"kameleoon.com","IMAGE_PATH":"//ds1h54b9h1.kameleoon.eu/images/","environment":"PRODUCTION","QOOXDOO_ESTIMATED_LOADING_TIME":2000,"SERVER_CALL_ESTIMATED_LOADING_TIME":500,"GUI_ESTIMATED_LOADING_TIME":3000,"BASE_EDITOR_URL":"//static.kameleoon.com/js/editor/","IFRAME_ORIGIN":"https://ds1h54b9h1.kameleoon.eu","variations":[{"name":"BLANC CTA JAUNE","id":226036,"css":"/* START CUSTOM */\n\nbody {\n  position: relative;\n  top: 0;\n  transition: top .5s ease; }\n  body.showPopin {\n    top: 60px; }\n    body.showPopin .Header--new, body.showPopin .Header__burger-link {\n      top: 60px; }\n    body.showPopin .Sidebar--home {\n      top: 122px; }\n    body.showPopin .kPopin {\n      top: 0; }\n\n.Header--new, .Main-marketingHeader, .Sidebar--home, .Header__burger-link {\n  transition: top .5s ease; }\n\n.kPopin {\n  position: fixed;\n  top: -60px;\n  width: 100%;\n  height: 60px;\n  border-bottom: 2px solid #F2F2F2;\n  box-shadow: 0 3px 4px 0 rgba(10, 31, 68, 0.1);\n  background-color: #fff;\n  transition: top .5s ease;\n  z-index: 12; }\n  .kPopin__wrapper {\n    position: relative;\n    height: 100%;\n    width: 660px;\n    margin: 0 auto; }\n  .kPopin__content {\n    display: inline-block;\n    height: 40px;\n    width: calc(100% - 205px);\n    margin: 10px 0 0 30px;\n    padding-left: 30px; }\n  .kPopin__logo {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    height: 29px;\n    display: inline-block; }\n    .kPopin__logo svg {\n      fill: #f5b027; }\n  .kPopin__text {\n    display: inline-block;\n    margin: 0;\n    color: #232323;\n    font-family: Roboto;\n    font-size: 15px;\n    line-height: 18px; }\n    .kPopin__text--title {\n      font-size: 16px;\n      font-weight: 600; }\n  .kPopin__btn {\n    position: absolute;\n    top: 10px;\n    width: 175px;\n    height: 40px;\n    border: 0;\n    border-radius: 5px;\n    background-color: #f5b027;\n    color: #fff; }\n  .kPopin__decor {\n    position: absolute;\n    height: 125px;\n    width: 125px;\n    border: 14px solid #F5B027; }\n    .kPopin__decor--left {\n      top: -90px;\n      left: -60px;\n      transform: rotate(5deg); }\n    .kPopin__decor--right {\n      right: 100px;\n      top: -95px;\n      transform: rotate(8deg); }\n  .kPopin__close {\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    width: 25px;\n    text-align: center;\n    cursor: pointer; }","elementSets":[],"expositionFrequencySameVisit":3,"expositionFrequencyDelaySecondsBetweenTwoExpositions":2592000,"javaScriptCode":{"code":"\"use strict\";\n\nvar qs = function qs(selector, parent) {\n    if (parent) return parent.querySelector(selector);\n    return document.querySelector(selector);\n};\n\nvar Popin = {\n    markup: \"\\n    <section class=\\\"kPopin\\\">\\n      <span class=\\\"kPopin__close\\\">\\n        <svg width=\\\"12\\\" height=\\\"11\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.55 9.535L4.785 5.3.725 1.241 1.902.065l4.06 4.06L10.018.065l1.173 1.174-4.058 4.058 4.236 4.236-1.176 1.176L5.96 6.474l-4.235 4.235z\\\" fill-rule=\\\"evenodd\\\"/><\u002fsvg>\\n      <\u002fspan>\\n      <span class=\\\"kPopin__decor kPopin__decor--left\\\"><\u002fspan>\\n      <span class=\\\"kPopin__decor kPopin__decor--right\\\"><\u002fspan>\\n      <div class=\\\"kPopin__wrapper\\\">\\n        <span class=\\\"kPopin__logo\\\">\\n          <svg width=\\\"23\\\" height=\\\"29\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><defs><path d=\\\"M22.775 14.703c0 2.72.93 5.36 2.637 7.478v1.545H3.588v-1.545a11.92 11.92 0 0 0 2.637-7.478v-4.07c0-3.84 2.617-7.067 6.163-8a2.361 2.361 0 1 1 4.705-.272c0 .14-.014.276-.037.41 3.34 1.11 5.719 4.336 5.719 8.034v3.898zm-2.9 0v-3.898c0-2.41-1.542-4.554-3.734-5.283l-1.476-.49-1.538.405a5.376 5.376 0 0 0-4.002 5.195v4.071c0 2.127-.457 4.213-1.323 6.123h13.397a14.82 14.82 0 0 1-1.324-6.123zM11.378 25.88c0-.026.004-.051.004-.076h6.236c0 .025.004.05.004.076a3.122 3.122 0 0 1-6.244 0z\\\" id=\\\"a\\\"/><\u002fdefs><use xlink:href=\\\"#a\\\" transform=\\\"translate(-3)\\\" fill-rule=\\\"evenodd\\\"/><\u002fsvg>\\n        <\u002fspan>\\n        <div class=\\\"kPopin__content\\\">\\n          <h2 class=\\\"kPopin__text kPopin__text--title\\\">VOUS AIMEZ LES BONS PLANS<\u002fh2>\\n          <p class=\\\"kPopin__text\\\">Abonnez-vous à la newsletter et recevez nos meilleures offres<\u002fp>\\n        <\u002fdiv>\\n        <button class=\\\"kPopin__btn\\\">Je m\\u2019abonne<\u002fbutton>\\n      <\u002fdiv>\\n    <\u002fsection>\",\n    init: function init() {\n        document.body.insertAdjacentHTML('afterbegin', this.markup);\n        this.ctaBtn = qs('.kPopin__btn');\n        this.closeBtn = qs('.kPopin__close');\n        return this.setHandlers();\n    },\n    setHandlers: function setHandlers() {\n        var _this = this;\n\n        this.ctaBtn.addEventListener('click', function () {\n            // this.sendReq()\n            window.open('https://secure.fnac.com/account/alerting');\n            _this.hide();\n            Kameleoon.API.Goals.processConversion(138698);\n        });\n        this.closeBtn.addEventListener('click', function () {\n            _this.hide();\n            Kameleoon.API.Goals.processConversion(138699);\n        });\n    },\n    sendReq: function sendReq() {\n        var xhr = new XMLHttpRequest();\n        var body = JSON.stringify({\n            'AlertingLevel': 'Optin'\n        });\n        xhr.open('POST', 'https://secure.fnac.com/myaccount/api/v1/alerting/Mail');\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('X-HTTP-Method-Override', 'PUT'); // xhr.onreadystatechange = a => console.log(a)\n\n        xhr.send(body);\n    },\n    show: function show() {\n        Kameleoon.Utils.createLocalData('OPT-IN-Banner', '1', 30, '', 'COOKIE');\n        return document.body.classList.add('showPopin');\n    },\n    hide: function hide() {\n        return document.body.classList.remove('showPopin');\n    }\n};\nPopin.init();\ndocument.body.offsetHeight;\nPopin.show();","afterDOMReady":false}},{"name":"Noir CTA Jaune","id":226037,"css":"/* START CUSTOM */\n\nbody {\n  position: relative;\n  top: 0;\n  transition: top .5s ease; }\n  body.showPopin {\n    top: 60px; }\n    body.showPopin .Header--new, body.showPopin .Header__burger-link {\n      top: 60px; }\n    body.showPopin .Sidebar--home {\n      top: 122px; }\n    body.showPopin .kPopin {\n      top: 0; }\n\n.Header--new, .Main-marketingHeader, .Sidebar--home, .Header__burger-link {\n  transition: top .5s ease; }\n\n.kPopin {\n  position: fixed;\n  top: -60px;\n  width: 100%;\n  height: 60px;\n  border-bottom: 2px solid #F2F2F2;\n  box-shadow: 0 3px 4px 0 rgba(10, 31, 68, 0.1);\n  background-color: #232323;\n  transition: top .5s ease;\n  z-index: 12; }\n  .kPopin__wrapper {\n    position: relative;\n    height: 100%;\n    width: 660px;\n    margin: 0 auto; }\n  .kPopin__content {\n    display: inline-block;\n    height: 40px;\n    width: calc(100% - 205px);\n    margin: 10px 0 0 30px;\n    padding-left: 30px; }\n  .kPopin__logo {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    height: 29px;\n    display: inline-block; }\n    .kPopin__logo svg {\n      fill: #fff; }\n  .kPopin__text {\n    display: inline-block;\n    margin: 0;\n    color: #fff;\n    font-family: Roboto;\n    font-size: 15px;\n    line-height: 18px; }\n    .kPopin__text--title {\n      font-size: 16px;\n      font-weight: 600; }\n  .kPopin__btn {\n    position: absolute;\n    top: 10px;\n    width: 175px;\n    height: 40px;\n    border: 0;\n    border-radius: 5px;\n    background-color: #f5b027;\n    color: #fff; }\n  .kPopin__decor {\n    position: absolute;\n    height: 125px;\n    width: 125px;\n    border: 14px solid #F5B027; }\n    .kPopin__decor--left {\n      top: -90px;\n      left: -60px;\n      transform: rotate(5deg); }\n    .kPopin__decor--right {\n      right: 100px;\n      top: -95px;\n      transform: rotate(8deg); }\n  .kPopin__close {\n    position: absolute;\n    right: 15px;\n    top: 15px;\n    width: 25px;\n    text-align: center;\n    cursor: pointer; }\n    .kPopin__close svg {\n      fill: #fff; }\n","elementSets":[],"expositionFrequencySameVisit":3,"expositionFrequencyDelaySecondsBetweenTwoExpositions":2592000,"javaScriptCode":{"code":"\"use strict\";\n\nvar qs = function qs(selector, parent) {\n    if (parent) return parent.querySelector(selector);\n    return document.querySelector(selector);\n};\n\nvar Popin = {\n    markup: \"\\n    <section class=\\\"kPopin\\\">\\n      <span class=\\\"kPopin__close\\\">\\n        <svg width=\\\"12\\\" height=\\\"11\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.55 9.535L4.785 5.3.725 1.241 1.902.065l4.06 4.06L10.018.065l1.173 1.174-4.058 4.058 4.236 4.236-1.176 1.176L5.96 6.474l-4.235 4.235z\\\" fill-rule=\\\"evenodd\\\"/><\u002fsvg>\\n      <\u002fspan>\\n      <span class=\\\"kPopin__decor kPopin__decor--left\\\"><\u002fspan>\\n      <span class=\\\"kPopin__decor kPopin__decor--right\\\"><\u002fspan>\\n      <div class=\\\"kPopin__wrapper\\\">\\n        <span class=\\\"kPopin__logo\\\">\\n          <svg width=\\\"23\\\" height=\\\"29\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><defs><path d=\\\"M22.775 14.703c0 2.72.93 5.36 2.637 7.478v1.545H3.588v-1.545a11.92 11.92 0 0 0 2.637-7.478v-4.07c0-3.84 2.617-7.067 6.163-8a2.361 2.361 0 1 1 4.705-.272c0 .14-.014.276-.037.41 3.34 1.11 5.719 4.336 5.719 8.034v3.898zm-2.9 0v-3.898c0-2.41-1.542-4.554-3.734-5.283l-1.476-.49-1.538.405a5.376 5.376 0 0 0-4.002 5.195v4.071c0 2.127-.457 4.213-1.323 6.123h13.397a14.82 14.82 0 0 1-1.324-6.123zM11.378 25.88c0-.026.004-.051.004-.076h6.236c0 .025.004.05.004.076a3.122 3.122 0 0 1-6.244 0z\\\" id=\\\"a\\\"/><\u002fdefs><use xlink:href=\\\"#a\\\" transform=\\\"translate(-3)\\\" fill-rule=\\\"evenodd\\\"/><\u002fsvg>\\n        <\u002fspan>\\n        <div class=\\\"kPopin__content\\\">\\n          <h2 class=\\\"kPopin__text kPopin__text--title\\\">VOUS AIMEZ LES BONS PLANS<\u002fh2>\\n          <p class=\\\"kPopin__text\\\">Abonnez-vous à la newsletter et recevez nos meilleures offres<\u002fp>\\n        <\u002fdiv>\\n        <button class=\\\"kPopin__btn\\\">Je m\\u2019abonne<\u002fbutton>\\n      <\u002fdiv>\\n    <\u002fsection>\",\n    init: function init() {\n        document.body.insertAdjacentHTML('afterbegin', this.markup);\n        this.ctaBtn = qs('.kPopin__btn');\n        this.closeBtn = qs('.kPopin__close');\n        return this.setHandlers();\n    },\n    setHandlers: function setHandlers() {\n        var _this = this;\n\n        this.ctaBtn.addEventListener('click', function () {\n            // this.sendReq()\n            window.open('https://secure.fnac.com/account/alerting');\n\n            _this.hide();\n\n            Kameleoon.API.Goals.processConversion(138698);\n        });\n        this.closeBtn.addEventListener('click', function () {\n            _this.hide();\n\n            Kameleoon.API.Goals.processConversion(138699);\n        });\n    },\n    sendReq: function sendReq() {\n        var xhr = new XMLHttpRequest();\n        var body = JSON.stringify({\n            'AlertingLevel': 'Optin'\n        });\n        xhr.open('POST', 'https://secure.fnac.com/myaccount/api/v1/alerting/Mail');\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('X-HTTP-Method-Override', 'PUT');\n        xhr.send(body);\n    },\n    show: function show() {\n        Kameleoon.Utils.createLocalData('OPT-IN-Banner', '1', 30, '', 'COOKIE');\n        return document.body.classList.add('showPopin');\n    },\n    hide: function hide() {\n        return document.body.classList.remove('showPopin');\n    }\n};\nPopin.init();\ndocument.body.offsetHeight;\nPopin.show();","afterDOMReady":false}},{"name":"Roll over CTA","id":273904,"css":"/* START CUSTOM */\n\n.kam-rollOver {\n  display: none;\n  width: 100%;\n  padding: 10px;\n  position: absolute;\n  left: 0;\n  top: 50px;\n  white-space: normal;\n  border-top: 5px solid #f5af33;\n  background-color: white;\n  -webkit-box-shadow: 0 3px 7px 2px #fafafa;\n  box-shadow: 0 3px 7px 2px #fafafa;\n}\n\n.kam-rollOver::after {\n  content: \"\";\n  position: absolute;\n  top: -12px;\n  border: 7px solid transparent;\n  border-bottom: 6px solid white;\n  left: 50%;\n  -webkit-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n\n.kam-rollOver__text {\n  color: #959595;\n}\n\n.kam-active {\n  display: block;\n}\n\n.kam-block-click {\n  display: none;\n  width: 260px;\n  height: 42px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 100;\n  background-color: transparent;\n}","elementSets":[],"javaScriptCode":{"code":"(function () {\n    'use strict';\n\n    var goals = {\n        'Clic on CTA “Payer” Actif': 163103,\n        'Clic on CTA “Payer” Inactif': 163104\n    };\n\n\n    if (!!location.href.match(/votre-commande/) && sessionStorage.getItem('mono-seller') === 'true') {\n        Kameleoon.API.Core.runWhenElementPresent('#page__summary', function (summary) {\n            var summaryBlock = summary[0];\n            var submitButton = summaryBlock.querySelector('button.basket-submit__button');\n\n            if (!submitButton.querySelector('.kam-rollOver')) {\n                var rollOver = \"\\n                <div class='kam-rollOver'>\\n                    <p class='kam-rollOver__text'>\\n                        Veuillez renseigner votre moyen de paiement en bas de page pour finaliser votre commande\\n                    <\u002fp>\\n                <\u002fdiv>\";\n                var block = \"<div class='kam-block-click'><\u002fdiv>\";\n                var kamBlocks = [rollOver, block];\n\n                var setKamBlocks = function setKamBlocks(blockIdent, rootElement) {\n                    return rootElement.insertAdjacentHTML('beforeend', blockIdent);\n                };\n\n                kamBlocks.forEach(function (blockName) {\n                    return setKamBlocks(blockName, submitButton);\n                });\n                var eventBehave = ['mouseover', 'mouseout'];\n\n                var changeRollOverState = function changeRollOverState() {\n                    var rollOver = document.querySelector('.kam-rollOver');\n                    rollOver.classList.toggle('kam-active');\n                };\n\n                var setListeners = function setListeners(event) {\n                    return document.querySelector('.kam-block-click').addEventListener(event, changeRollOverState);\n                };\n\n                eventBehave.forEach(setListeners);\n\n                var checkButtonDisabled = function checkButtonDisabled(submitButton) {\n                    return Kameleoon.API.Core.runWhenConditionTrue(function () {\n                        return submitButton.disabled;\n                    }, function () {\n                        document.querySelector('.kam-block-click').style.display = 'block';\n                        checkButtonEnabled(submitButton);\n                    });\n                };\n\n                var checkButtonEnabled = function checkButtonEnabled(submitButton) {\n                    return Kameleoon.API.Core.runWhenConditionTrue(function () {\n                        return !submitButton.disabled;\n                    }, function () {\n                        document.querySelector('.kam-block-click').style.display = 'none';\n                        checkButtonDisabled(submitButton);\n                    });\n                };\n\n                setTimeout(function () {\n                    checkButtonDisabled(submitButton);\n                }, 0);\n            }\n        });\n    }\n\n    if (!!location.href.match(/panier/)) {\n        if (!document.querySelectorAll('.seller-header').length) {\n            sessionStorage.setItem('mono-seller', 'true');\n        }\n        Kameleoon.API.Core.runWhenElementPresent('.seller-header', function (sellers) {\n            if (sellers.length === 1) {\n                sessionStorage.setItem('mono-seller', 'true');\n            }\n        });\n        var checkHeaderDissapear = function checkHeaderDissapear() {\n            return Kameleoon.API.Core.runWhenConditionTrue(function () {\n                return !document.querySelectorAll('.seller-header').length;\n            }, function () {\n                sessionStorage.setItem('mono-seller', 'true');\n                checkHeaderAppear();\n            });\n        };\n\n        var checkHeaderAppear = function checkHeaderAppear() {\n            return Kameleoon.API.Core.runWhenConditionTrue(function () {\n                return document.querySelectorAll('.seller-header').length >= 2;\n            }, function () {\n                sessionStorage.setItem('mono-seller', 'false');\n                checkHeaderDissapear();\n            });\n        };\n\n        checkHeaderAppear();\n    }\n\n    if (!!window.navigator.userAgent.match(/Trident/) && !!location.href.match(/votre-commande/) && sessionStorage.getItem('mono-seller') === 'true') {\n        document.addEventListener('mouseover', function (evt) {\n            if (evt.target.classList.contains('basket-submit__button')) {\n                const rollOver = document.querySelector('.kam-rollOver');\n                rollOver.classList.toggle('kam-active');\n            }\n        });\n\n        document.addEventListener('mouseout', function (evt) {\n            if (evt.target.classList.contains('basket-submit__button')) {\n                const rollOver = document.querySelector('.kam-rollOver');\n                rollOver.classList.toggle('kam-active');\n            }\n        });\n    }\n\n    if (!!window.navigator.userAgent.match(/Trident/) && !location.href.match(/votre-commande\\/relais-colis/) && !sessionStorage.getItem('KamleoonDev__clickSet')) {\n        sessionStorage.setItem('KamleoonDev__clickSet', 'true');\n        document.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (evt) {\n            if (evt.target.classList.contains('basket-submit__button') && evt.target.disabled) {\n                Kameleoon.API.Goals.processConversion(163104);\n            }\n        });\n    }\n\n    if (!location.href.match(/votre-commande/)) {\n        sessionStorage.removeItem('KamleoonDev__clickSet')\n    }\n\n    if (!location.href.match(/votre-commande\\/relais-colis/)) {\n        Kameleoon.API.Core.runWhenElementPresent('.kam-block-click', function (buttons) {\n            buttons[0].addEventListener('click', function () {\n                if (document.querySelector('#page__summary .basket-submit__button').disabled) {\n                    Kameleoon.API.Goals.processConversion(163104)\n                }\n            })\n        })\n        Kameleoon.API.Core.runWhenElementPresent('#page__summary .button__loader', function (buttons) {\n            buttons[0].addEventListener('click', function () {\n                if (document.querySelector('#page__summary .basket-submit__button').disabled) {\n                    Kameleoon.API.Goals.processConversion(goals['Clic on CTA “Payer” Inactif']);\n                }\n            });\n        });\n        Kameleoon.API.Core.runWhenElementPresent('#page__summary .basket-submit__button', function (buttons) {\n            buttons[0].addEventListener('click', function () {\n                if (!document.querySelector('#page__summary .basket-submit__button').disabled) {\n                    Kameleoon.API.Goals.processConversion(goals['Clic on CTA “Payer” Actif']);\n                }\n            });\n        });\n        Kameleoon.API.Core.runWhenElementPresent('#page__summary .button__content', function (buttons) {\n            buttons[0].addEventListener('click', function () {\n                if (document.querySelector('#page__summary .basket-submit__button').disabled) {\n                    Kameleoon.API.Goals.processConversion(goals['Clic on CTA “Payer” Inactif']);\n                }\n            });\n        });\n    }\n\n}());","afterDOMReady":true}},{"name":"Avec txt factures","id":286106,"css":"/* START 641225 */\n\n#kameleoonElement641225 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #ffffff !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.5em !important;\n\tpadding: 10px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 400px !important;\n\tz-index: 1 !important;\n}\n\n/* END 641225 */\n\n/* START CUSTOM */\n\n#kameleoonElement641225 {\n    margin-left: 4.167% !important;\n\twidth: 90% !important;\n\tpadding-left: 15px !important;\n    padding-top: 0px !important;\n\n}","elementSets":[{"selector":"#kameleoonElement641225","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\">Toutes vos factures disponibles sur fnac.com depuis un ordinateur<\u002fdiv>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#account > header:first-child","domReferenceCurrentQuery":"#account > header:first-child","attributesData":"[{\"attributeName\":\"class\",\"attributeValue\":\".col-xs-offset-1\",\"removed\":false,\"modified\":false,\"added\":true}]","selector":"#kameleoonElement641225"},"currentQuery":null}]},{"name":"OLD DEPOT COOKIE","id":353070,"css":"","elementSets":[],"javaScriptCode":{"code":"/*Kameleoon.Utils.createLocalData(\"mireConnectionV2\",\"true\",\"30\",\"\",\"COOKIE\");\n\nwindow.addEventListener('DOMContentLoaded', function(e) {\n  var accountTab = document.querySelector('.Header__tabs-link--account')\n  var origin = Fnac.config.secureURL\n\n  if (accountTab) {\n    var parameters = accountTab.getAttribute('href').split('?', 2)[1]\n    parameters = parameters ? '?' + parameters : ''\n\n    accountTab.setAttribute(\n      'href',\n      origin + '/account/gateway/challenge' + parameters\n    )\n  }\n})*/\n\n\nKameleoon.API.Data.writeLocalData(\"mireConnectionV2\", \"true\", true);\n\nKameleoon.API.Core.runWhenElementPresent('.Header__tabs-link--account', function(){\n\nwindow.addEventListener('DOMContentLoaded', function(e) {\n  var accountTab = document.querySelector('.Header__tabs-link--account')\n  var origin = Fnac.config.secureURL\n\n  if (accountTab) {\n    var parameters = accountTab.getAttribute('href').split('?', 2)[1]\n    parameters = parameters ? '?' + parameters : ''\n\n    accountTab.setAttribute(\n      'href',\n      origin + '/account/gateway/challenge' + parameters\n    )\n  }\n})","afterDOMReady":false}},{"name":"Depot cookie","id":431945,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.Utils.createLocalData(\"mireConnectionV2\",\"true\",\"30\",\"\",\"COOKIE\");\n\nwindow.addEventListener('DOMContentLoaded', function(e) {\n  var accountTab = document.querySelector('.Header__tabs-link--account')\n  var origin = Fnac.config.secureURL\n\n  if (accountTab) {\n    var parameters = accountTab.getAttribute('href').split('?', 2)[1]\n    parameters = parameters ? '?' + parameters : ''\n\n    accountTab.setAttribute(\n      'href',\n      origin + '/account/gateway/challenge' + parameters\n    )\n  }\n})","afterDOMReady":false}},{"name":"Avec bandeau","id":366681,"css":"/* START 756960 */\n\n#kameleoonElement756960 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 756960 */\n\n","elementSets":[{"selector":"#kameleoonElement756960","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/74495-Service-Photo-Cewe_480x150-03-20.jpg\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://tiragesphoto.fnac.com/?cref=om_coop_fixe_motrecherchemobile_18455_bannieregenerique","domOperation":"INSERT_BEFORE","domReference":"#content > div:first-child","domReferenceCurrentQuery":"#content > div:first-child","selector":"#kameleoonElement756960"},"currentQuery":null}]},{"name":"Avec bandeau","id":366713,"css":"/* START 803285 */\n\n#kameleoonElement755244 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 803285 */\n\n","elementSets":[{"selector":"#kameleoonElement755244","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/74355-74354-ami_mobile.jpg\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://www.fnac.com/mobilite-citroen-ami#int=S:player15|Mobilit%C3%A9%20Urbaine|NonApplicable|NonApplicable|BAN1|NonApplicable","domOperation":"INSERT_BEFORE","domReference":".f-searchBoxfilter","domReferenceCurrentQuery":"#content > div:first-child","selector":"#kameleoonElement755244"},"currentQuery":null}]},{"name":"Va","id":370095,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.Utils.createLocalData(\"kvn\",\"Va\",\"10\",\"\",\"COOKIE\");","afterDOMReady":false}},{"name":"Vb","id":370096,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.Utils.createLocalData(\"kvn\",\"Vb\",\"10\",\"\",\"COOKIE\");","afterDOMReady":false}},{"name":"Essayez F+ infobulle","id":371909,"css":"/* START CUSTOM */\n\n.js-HeaderTabAccount {\n    position: relative;\n}\n\n.k_tooltip {\n    display: none;\n    position: absolute;\n    bottom: -34px;\n    left: 0;\n    width: 380px;\n    font-size: 12px;\n    line-height: initial;\n    -ms-transform: translate(-50%, -50%);\n    transform: translate(-50%, 50%);\n    background-color: #fff;\n    text-align: left;\n    font-weight: 700;\n    color: #000;\n    padding: 10px;\n    border: 1px #0ab solid;\n    border-radius: 13px;\n    z-index: 999;\n    cursor: inherit;\n}\n\n.k_tooltip span {\n    display: block;\n    font-weight: 400;\n}\n\n.k_tooltip a {\n    text-decoration: underline;\n    color: #0ab;\n    margin-left: calc(90% - 70px);\n}\n\n.k_square {\n    display: none;\n    position: absolute;\n    bottom: 0;\n    left: 55%;\n    width: 15px;\n    height: 15px;\n    background-color: #0ab;\n    z-index: 5;\n    -ms-transform: translate(-50%, 60%) rotate(45deg);\n    transform: translate(-50%, 60%) rotate(45deg);\n}\n\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_tooltip,\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_square {\n    display: block;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline {\n    font-size: 11px !important;\n    color: #0ab !important;\n    font-weight: bold !important;\n    padding: 2px 0 0 0 !important;\n    min-height: 30px;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline a {text-decoration:underline !important;}\n.js-HeaderTabAccount .Header__tabs-secondline a:hover {text-decoration:none !important;}\n\n/**/\n\n.Header__tabs-icon.Header__tabs-icon--account {\n    top: -8px;\n}\n.js-HeaderTabAccount a {\n\tcolor: #0ab;\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(\n    function() {\n        return document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline').length > 0 \n        && document.querySelectorAll('.Header__main .js-HeaderTabAccount').length > 0;\n    },\n    function() {\n        var k_txtBtn = '<span class=\"Header__tabs-secondline\"><a href=\"https://www.fnac.com/choisir-carte\">Essayer Fnac+<\u002fa><\u002fspan>';\n        var k_btn = document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline')[0];\n        k_btn.insertAdjacentHTML('afterend', k_txtBtn);\n\n        var k_text = '<div class=\"k_square\"><\u002fdiv><div class=\"k_tooltip\">Livraison express gratuite, des remises toute l\\'année, offre Deezer...<span>Profitez des avantages de la carte Fnac+<\u002fspan><a href=\"https://www.fnac.com/choisir-carte\">Voir les avantages<\u002fa><\u002fdiv>';\n        var k_infobulle = document.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0];\n        k_infobulle.insertAdjacentHTML('beforeend', k_text);\n\t\t\n\t\tdocument.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0].addEventListener('click', function() {\n    \t\tlocation = 'https://www.fnac.com/choisir-carte';\n\t\t})\n    },\n    100\n);","afterDOMReady":false}},{"name":"Essayez F+ lien","id":371912,"css":"/* START CUSTOM */\n\n.js-HeaderTabAccount {\n    position: relative;\n}\n\n.k_tooltip {\n    display: none;\n    position: absolute;\n    bottom: -34px;\n    left: 0;\n    width: 360px;\n    font-size: 12px;\n    line-height: initial;\n    -ms-transform: translate(-50%, -50%);\n    transform: translate(-50%, 50%);\n    background-color: #fff;\n    text-align: left;\n    font-weight: 700;\n    color: #000;\n    padding: 10px;\n    border: 1px #0ab solid;\n    border-radius: 13px;\n    z-index: 999;\n    cursor: inherit;\n}\n\n.k_tooltip span {\n    display: block;\n    font-weight: 400;\n}\n\n.k_tooltip a {\n    text-decoration: underline;\n    color: #0ab;\n    margin-left: calc(90% - 90px);\n}\n\n.k_square {\n    display: none;\n    position: absolute;\n    bottom: 0;\n    left: 55%;\n    width: 15px;\n    height: 15px;\n    background-color: #0ab;\n    z-index: 5;\n    -ms-transform: translate(-50%, 50%) rotate(45deg);\n    transform: translate(-50%, 50%) rotate(45deg);\n}\n\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_tooltip,\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_square {\n    display: block;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline {\n    font-size: 11px !important;\n    color: #0ab !important;\n    font-weight: bold !important;\n    padding: 2px 0 0 0 !important;\n    min-height: 30px;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline a {text-decoration:underline !important;}\n.js-HeaderTabAccount .Header__tabs-secondline a:hover {text-decoration:none !important;}\n/**/\n\n.Header__tabs-icon.Header__tabs-icon--account {\n    top: -8px;\n}\n\n.js-HeaderTabAccount a {\n\tcolor: #0ab;\n}\n\n.js-HeaderTabAccount a:hover {\n\ttext-decoration: none !important;\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(\n    function() {\n        return document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline').length > 0 \n        && document.querySelectorAll('.Header__main .js-HeaderTabAccount').length > 0;\n    },\n    function() {\n        var k_txtBtn = '<span class=\"Header__tabs-secondline\"><a href=\"https://www.fnac.com/choisir-carte\">Essayer Fnac+<\u002fa><\u002fspan>';\n        var k_btn = document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline')[0];\n        k_btn.insertAdjacentHTML('afterend', k_txtBtn);\n\t\t\n\t\tdocument.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0].addEventListener('click', function() {\n    \t\tlocation = 'https://www.fnac.com/choisir-carte';\n\t\t})\n    },\n    100\n);","afterDOMReady":false}},{"name":"DECOUVRER F+","id":441305,"css":"/* START CUSTOM */\n\n.js-HeaderTabAccount {\n    position: relative;\n}\n\n.k_tooltip {\n    display: none;\n    position: absolute;\n    bottom: -34px;\n    left: 0;\n    width: 380px;\n    font-size: 12px;\n    line-height: initial;\n    -ms-transform: translate(-50%, -50%);\n    transform: translate(-50%, 50%);\n    background-color: #fff;\n    text-align: left;\n    font-weight: 700;\n    color: #000;\n    padding: 10px;\n    border: 1px #0ab solid;\n    border-radius: 13px;\n    z-index: 999;\n    cursor: inherit;\n}\n\n.k_tooltip span {\n    display: block;\n    font-weight: 400;\n}\n\n.k_tooltip a {\n    text-decoration: underline;\n    color: #0ab;\n    margin-left: calc(90% - 70px);\n}\n\n.k_square {\n    display: none;\n    position: absolute;\n    bottom: 0;\n    left: 55%;\n    width: 15px;\n    height: 15px;\n    background-color: #0ab;\n    z-index: 5;\n    -ms-transform: translate(-50%, 60%) rotate(45deg);\n    transform: translate(-50%, 60%) rotate(45deg);\n}\n\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_tooltip,\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_square {\n    display: block;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline {\n    font-size: 11px !important;\n    color: #0ab !important;\n    font-weight: bold !important;\n    padding: 2px 0 0 0 !important;\n    min-height: 30px;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline a {text-decoration:underline !important;}\n.js-HeaderTabAccount .Header__tabs-secondline a:hover {text-decoration:none !important;}\n\n/**/\n\n.Header__tabs-icon.Header__tabs-icon--account {\n    top: -8px;\n}\n.js-HeaderTabAccount a {\n\tcolor: #0ab;\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(\n    function() {\n        return document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline').length > 0 \n        && document.querySelectorAll('.Header__main .js-HeaderTabAccount').length > 0;\n    },\n    function() {\n        var k_txtBtn = '<span class=\"Header__tabs-secondline\"><a href=\"https://www.fnac.com/choisir-carte\">Découvrer Fnac+<\u002fa><\u002fspan>';\n        var k_btn = document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline')[0];\n        k_btn.insertAdjacentHTML('afterend', k_txtBtn);\n\n        var k_text = '<div class=\"k_square\"><\u002fdiv><div class=\"k_tooltip\">Livraison express gratuite, des remises toute l\\'année, offre Deezer...<span>Profitez des avantages de la carte Fnac+<\u002fspan><a href=\"https://www.fnac.com/choisir-carte\">Voir les avantages<\u002fa><\u002fdiv>';\n        var k_infobulle = document.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0];\n        k_infobulle.insertAdjacentHTML('beforeend', k_text);\n\t\t\n\t\tdocument.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0].addEventListener('click', function() {\n    \t\tlocation = 'https://www.fnac.com/choisir-carte';\n\t\t})\n    },\n    100\n);","afterDOMReady":false}},{"name":"DECOUVREZ F+","id":446137,"css":"/* START CUSTOM */\n\n.js-HeaderTabAccount {\n    position: relative;\n}\n\n.k_tooltip {\n    display: none;\n    position: absolute;\n    bottom: -34px;\n    left: 0;\n    width: 380px;\n    font-size: 12px;\n    line-height: initial;\n    -ms-transform: translate(-50%, -50%);\n    transform: translate(-50%, 50%);\n    background-color: #fff;\n    text-align: left;\n    font-weight: 700;\n    color: #000;\n    padding: 10px;\n    border: 1px #0ab solid;\n    border-radius: 13px;\n    z-index: 999;\n    cursor: inherit;\n}\n\n.k_tooltip span {\n    display: block;\n    font-weight: 400;\n}\n\n.k_tooltip a {\n    text-decoration: underline;\n    color: #0ab;\n    margin-left: calc(90% - 70px);\n}\n\n.k_square {\n    display: none;\n    position: absolute;\n    bottom: 0;\n    left: 55%;\n    width: 15px;\n    height: 15px;\n    background-color: #0ab;\n    z-index: 5;\n    -ms-transform: translate(-50%, 60%) rotate(45deg);\n    transform: translate(-50%, 60%) rotate(45deg);\n}\n\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_tooltip,\n.Header__tabs-item.Header__tabs-item--account.js-HeaderTabAccount:hover .Header__tabs-title:hover .Header__tabs-secondline:hover .k_square {\n    display: block;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline {\n    font-size: 11px !important;\n    color: #0ab !important;\n    font-weight: bold !important;\n    padding: 2px 0 0 0 !important;\n    min-height: 30px;\n}\n\n.js-HeaderTabAccount .Header__tabs-secondline a {text-decoration:underline !important;}\n.js-HeaderTabAccount .Header__tabs-secondline a:hover {text-decoration:none !important;}\n\n/**/\n\n.Header__tabs-icon.Header__tabs-icon--account {\n    top: -8px;\n}\n.js-HeaderTabAccount a {\n\tcolor: #0ab;\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(\n    function() {\n        return document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline').length > 0 \n        && document.querySelectorAll('.Header__main .js-HeaderTabAccount').length > 0;\n    },\n    function() {\n        var k_txtBtn = '<span class=\"Header__tabs-secondline\"><a href=\"https://www.fnac.com/choisir-carte\">Découvrez Fnac+<\u002fa><\u002fspan>';\n        var k_btn = document.querySelectorAll('.Header__tabs-item--account .Header__tabs-title .Header__tabs-firstline')[0];\n        k_btn.insertAdjacentHTML('afterend', k_txtBtn);\n\n        var k_text = '<div class=\"k_square\"><\u002fdiv><div class=\"k_tooltip\">Livraison express gratuite, des remises toute l\\'année, offre Deezer...<span>Profitez des avantages de la carte Fnac+<\u002fspan><a href=\"https://www.fnac.com/choisir-carte\">Voir les avantages<\u002fa><\u002fdiv>';\n        var k_infobulle = document.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0];\n        k_infobulle.insertAdjacentHTML('beforeend', k_text);\n\t\t\n\t\tdocument.querySelectorAll('.js-HeaderTabAccount .Header__tabs-secondline')[0].addEventListener('click', function() {\n    \t\tlocation = 'https://www.fnac.com/choisir-carte';\n\t\t})\n    },\n    100\n);","afterDOMReady":false}},{"name":"NEW WORDING 16/09","id":451952,"css":"/* START 869929 */\n\n/* END 869929 */\n\n/* START 869928 */\n\n/* END 869928 */\n\n/* START CUSTOM */\n\n.BasketPopin-subtitle {\n\tcolor: #f5b027 !important;\n}","elementSets":[{"selector":".transparent2-btn","options":{"htmlContent":"Ajouter au panier","selector":".transparent2-btn"},"currentQuery":null},{"selector":".BasketPopin-subtitle","options":{"htmlContent":"<span class=\"bold\">En cas de panne, votre produit est immédiatement pris en charge<\u002fspan>","selector":".BasketPopin-subtitle"},"currentQuery":null}]},{"name":"New wording","id":384492,"css":"/* START 869919 */\n\n/* END 869919 */\n\n/* START 869920 */\n\n/* END 869920 */\n\n/* START 869921 */\n\n/* END 869921 */\n\n/* START CUSTOM */\n\n.BasketPopin-subtitle {\n\tcolor: #f5b027 !important;\n}","elementSets":[{"selector":"p:contains(\"et optez pour ce service :\")","options":{"htmlContent":"<span class=\"bold\">Protégez votre smartphone contre la casse et le vol<\u002fspan>","kameleoonClass":869919,"contentSelector":true,"attributesData":"[]","selector":".KameleoonClass869919"},"currentQuery":null},{"selector":".transparent2-btn","options":{"htmlContent":"Ajouter au panier","selector":".transparent2-btn"},"currentQuery":null},{"selector":"body > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"<span class=\"bold\">Protégez votre smartphone contre la casse et le vol<\u002fspan>","kameleoonId":869921,"autoGeneratedSelector":true,"selector":"#kameleoonId869921"},"currentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > div:nth-of-type(2) > p:first-child"}]},{"name":"ORIGINAL avec Hodjar","id":387474,"css":"","elementSets":[],"javaScriptCode":{"code":"//Hotjar\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_Home_PERSO_original');\n}, 200);","afterDOMReady":false}},{"name":"ARTICLES VUS","id":387475,"css":"","elementSets":[],"javaScriptCode":{"code":"///STRATE ARTICLES VUS\nconsole.log('V3.0');\n\n//Hotjar\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_Home_PERSO_articles_vus');\n}, 200);\n\n/*\nKameleoon.API.Core.runWhenConditionTrue(\n    function () {\n        return document.querySelectorAll('.StrateAsync.js-StrateAsync').length > 0;\n    },\n    function () {\n        console.log('STRATE UN-HIDDEN');\n        document.querySelectorAll('.StrateAsync.js-StrateAsync.hide')[0].classList.remove('hide');\n    },\n    100\n);*/\n\nKameleoon.API.Core.runWhenElementPresent('.StrateAsync.js-StrateAsync', function (elem) {\n\n    if (Kameleoon.API.CurrentVisit.device.type === 'Desktop') {\n        console.log('DESKTOP');\n        var elementToMove = document.querySelector('.StrateAsync.js-StrateAsync');\n        //document.querySelector('.strate:not(.stratePlayer):not(.js-recoPartners)').insertAdjacentElement('beforebegin', elementToMove);\n        document.querySelectorAll('.reassurance.reassurance--light')[0].insertAdjacentElement('afterend', elementToMove);\n    } else if (Kameleoon.API.CurrentVisit.device.type === 'Phone') {\n        console.log('MOBILE');\n        var elementToMove = document.querySelector('.lastSeenArticles.StrateAsync.js-StrateAsync');\n        document.querySelector('.f-catMosaic:not(.stratePlayer):not(.js-recoPartners)').insertAdjacentElement('beforebegin', elementToMove);\n    }\n}, 200);","afterDOMReady":true}},{"name":"SELECTION UNIQUE","id":387476,"css":"","elementSets":[],"javaScriptCode":{"code":"////STRATE ELECTION UNIQUE \nconsole.log('V3.0');\n\n//Hotjar\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_Home_PERSO_selection_unique');\n}, 200);\n\n/*\nKameleoon.API.Core.runWhenConditionTrue(\n    function() {\n        return document.querySelectorAll('.StrateAsync.js-StrateAsync').length > 0;\n    },\n    function() {\n        console.log('STRATE UN-HIDDEN');\n        document.querySelectorAll('.StrateAsync.js-StrateAsync.hide')[0].classList.remove('hide');\n    },\n    100\n);*/\n\nKameleoon.API.Core.runWhenElementPresent('.js-recoPartners', function (elem) {\n\n    if (Kameleoon.API.CurrentVisit.device.type === 'Desktop') {\n        console.log('DESKTOP');\n        var elementToMove = document.querySelector('.js-recoPartners');\n        //document.querySelector('.strate:not(.stratePlayer)').insertAdjacentElement('beforebegin', elementToMove);\n        document.querySelectorAll('.reassurance.reassurance--light')[0].insertAdjacentElement('afterend', elementToMove);\n    } else if (Kameleoon.API.CurrentVisit.device.type === 'Phone') {\n        console.log('MOBILE');\n        var elementToMove = document.querySelector('.js-recoPartners');\n        document.querySelector('.f-catMosaic:not(.f-player):not(.f-strate)').insertAdjacentElement('beforebegin', elementToMove);\n    }\n}, 200);","afterDOMReady":true}},{"name":"Avec bandeau","id":389389,"css":"/* START 788852 */\n\n#kameleoonElement788852 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 788852 */\n\n","elementSets":[{"selector":"#kameleoonElement788852","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/77418-d61638cf-4cc6-4fbf-b59f-56d45f151636\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://boutique.canalplus.com/fnac/","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(1) > div:nth-of-type(1) > div:first-child","domReferenceCurrentQuery":"#content > div:first-child","selector":"#kameleoonElement788852"},"currentQuery":null}]},{"name":"TOGGLE NEW STYLE","id":395659,"css":"/* START 794517 */\n\n#kameleoonElement794517 {\n\theight: 60px !important;\n\twidth: 54px !important;\n\tz-index: 9002 !important;\n}\n\n/* END 794517 */\n\n/* START 794544 */\n\n#kameleoonElement794544 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: 30px !important;\n\twidth: 27px !important;\n\tz-index: 9002 !important;\n}\n\n/* END 794544 */\n\n/* START 794515 */\n\n#kameleoonId794515 {\n\tdisplay: none !important;\n}\n\n/* END 794515 */\n\n/* START 794514 */\n\n#kameleoonId794514 {\n\tdisplay: none !important;\n}\n\n/* END 794514 */\n\n/* START 794513 */\n\n#kameleoonElement794513 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.43em !important;\n\tpadding: 10px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 400px !important;\n\tz-index: 9001 !important;\n}\n\n/* END 794513 */\n\n/* START CUSTOM */\n\n.beta-wrapper {\n    padding: 6px 5px 6px 5px;\n    background-color: rgb(231, 168, 0);\n\tjustify-content: center !important;\n}\n#kameleoonElement794513 {\n\twidth:unset !important;\n\tpadding:0 10px !important;\n}\n.beta-text {\n\tdisplay: none !important;\n}","elementSets":[{"selector":"#kameleoonElement794513","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\"><span style=\"color:#ffffff;\"><strong>Nouveau suivi de commande !<\u002fstrong> Essayez-le dès maintenant en avant-première<\u002fspan><\u002fdiv>","idSelector":true,"domOperation":"INSERT_BEFORE","domReference":"#switch-label","domReferenceCurrentQuery":"#switch-label","selector":"#kameleoonElement794513"},"currentQuery":null},{"selector":"#formSearchOrderId > div:nth-of-type(2) > div:first-child > label:nth-of-type(2)","options":{"kameleoonId":794514,"autoGeneratedSelector":true,"selector":"#kameleoonId794514"},"currentQuery":"#formSearchOrderId > div:nth-of-type(2) > div:first-child > label:nth-of-type(2)"},{"selector":"#account > div:nth-of-type(1) > label:nth-of-type(2)","options":{"kameleoonId":794515,"autoGeneratedSelector":true,"selector":"#kameleoonId794515"},"currentQuery":"#account > div:nth-of-type(1) > label:nth-of-type(2)"},{"selector":"#kameleoonElement794517","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/78458-d3869493-ad2b-4756-af57-54263bea59f4\" height=\"60px\" width=\"54px\" />","idSelector":true,"selector":"#kameleoonElement794517"},"currentQuery":null},{"selector":"#kameleoonElement794544","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/78458-d3869493-ad2b-4756-af57-54263bea59f4\" height=\"60px\" width=\"54px\" />","idSelector":true,"domOperation":"INSERT_BEFORE","domReference":"#kameleoonElement794513","domReferenceCurrentQuery":"#kameleoonElement794513","selector":"#kameleoonElement794544"},"currentQuery":null}]},{"name":"BANDEAU WHATSAPP 26/11","id":489960,"css":"/* START 909696 */\n\n#kameleoonId909696 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 909696 */\n\n/* START 909683 */\n\n#kameleoonElement827008 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 10000 !important;\n}\n\n/* END 909683 */\n\n/* START 909694 */\n\n/* END 909694 */\n\n/* START 909680 */\n\n/* END 909680 */\n\n/* START 909682 */\n\n/* END 909682 */\n\n/* START 909690 */\n\n#kameleoonId909690 {\n\theight: auto !important;\n\twidth: auto !important;\n}\n\n/* END 909690 */\n\n/* START 909691 */\n\n/* END 909691 */\n\n/* START 909686 */\n\n#kameleoonElement825104 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(30px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 909686 */\n\n/* START 909677 */\n\n#kameleoonElement826849 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(20px + 0px) !important;\n\tmargin-left: calc(15% + 0px) !important;\n\tmargin-right: calc(15% + 0px) !important;\n\theight: auto !important;\n\twidth: 70% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 909677 */\n\n/* START 909678 */\n\n#kameleoonId909678 {\n\twidth: 1100px !important;\n\theight: auto !important;\n}\n\n/* END 909678 */\n\n/* START 909685 */\n\n#kameleoonElement825098 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 909685 */\n\n/* START 909692 */\n\n#kameleoonElement873242 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #262626 !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 909692 */\n\n/* START 909695 */\n\n#kameleoonElement826863 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 909695 */\n\n/* START 909681 */\n\n#kameleoonId909681 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 909681 */\n\n/* START 909697 */\n\n/* END 909697 */\n\n/* START 909689 */\n\n#kameleoonElement124540 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(10px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1452 !important;\n}\n\n/* END 909689 */\n\n/* START 909693 */\n\n/* END 909693 */\n\n/* START 909687 */\n\n/* END 909687 */\n\n/* START 909679 */\n\n#kameleoonElement825095 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 909679 */\n\n/* START 909684 */\n\n#kameleoonId909684 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 909684 */\n\n/* START 909700 */\n\n#kameleoonElement96757 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #232323 !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: 100px !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 909700 */\n\n/* START 909698 */\n\n/* END 909698 */\n\n/* START 909688 */\n\n/* END 909688 */\n\n/* START 909699 */\n\n/* END 909699 */\n\n","elementSets":[{"selector":"#kameleoonElement826849","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)","domReferenceCurrentQuery":"#kameleoonId826844","selector":"#kameleoonElement826849"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child > a:first-child > img:first-child","options":{"kameleoonId":909678,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"//ds1h54b9h1.kameleoon.eu/images/89641-42bbabe0-6940-4e07-9bda-1eee9a03dd46.png\" />","attributesData":"[{\"attributeName\":\"height\",\"attributeValue\":\"\",\"removed\":true,\"modified\":true,\"added\":false},{\"attributeName\":\"width\",\"attributeValue\":\"\",\"removed\":true,\"modified\":true,\"added\":false}]","selector":"#kameleoonId909678"},"currentQuery":"#kameleoonId825092 > a:first-child > img:first-child"},{"selector":"#kameleoonElement825095","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > h2:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > h2:first-child","selector":"#kameleoonElement825095"},"currentQuery":null},{"selector":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)","options":{"kameleoonId":909680,"autoGeneratedSelector":true,"selector":"#kameleoonId909680"},"currentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)"},{"selector":"#account > header:first-child > a:nth-of-type(1) > img:first-child","options":{"kameleoonId":909681,"autoGeneratedSelector":true,"selector":"#kameleoonId909681"},"currentQuery":"#kameleoonId825099 > a:nth-of-type(1) > img:first-child"},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child > a:first-child","options":{"kameleoonId":909682,"autoGeneratedSelector":true,"selector":"#kameleoonId909682"},"currentQuery":"#kameleoonId876448 > a:first-child"},{"selector":"#kameleoonElement827008","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(4) > div:nth-of-type(1) > ul:nth-of-type(1)","domReferenceCurrentQuery":"body > div:nth-of-type(4) > div:nth-of-type(1) > ul:nth-of-type(1)","selector":"#kameleoonElement827008"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child > a:first-child > img:first-child","options":{"kameleoonId":909684,"autoGeneratedSelector":true,"selector":"#kameleoonId909684"},"currentQuery":"#kameleoonId825107 > a:first-child > img:first-child"},{"selector":"#kameleoonElement825098","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81214-8387973a-b8a3-4256-b4cb-777440279788.png\" height=\"134px\" width=\"750px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"#account > header:first-child > h1:first-child","domReferenceCurrentQuery":"#account > header:first-child > h1:first-child","selector":"#kameleoonElement825098"},"currentQuery":null},{"selector":"#kameleoonElement825104","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81214-8387973a-b8a3-4256-b4cb-777440279788.png\" height=\"134px\" width=\"750px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > ul:nth-of-type(1) > li:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > ul:nth-of-type(1) > li:first-child","selector":"#kameleoonElement825104"},"currentQuery":null},{"selector":"#account > header:first-child","options":{"kameleoonId":909687,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId909687"},"currentQuery":"#account > header:first-child"},{"selector":"#kameleoonElement826829","options":{"idSelector":true,"selector":"#kameleoonElement826829"},"currentQuery":null},{"selector":"#kameleoonElement124540","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH94787-bcca724f-273e-4d7a-8b2a-82046c1b0b71.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > ul:nth-of-type(1) > li:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > ul:nth-of-type(1) > li:first-child","selector":"#kameleoonElement124540"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child > a:first-child","options":{"kameleoonId":909690,"autoGeneratedSelector":true,"selector":"#kameleoonId909690"},"currentQuery":"#kameleoonId833290 > a:first-child"},{"selector":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3) > div:first-child","options":{"kameleoonId":909691,"autoGeneratedSelector":true,"selector":"#kameleoonId909691"},"currentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3) > div:first-child"},{"selector":"#kameleoonElement873242","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\"><a href=\"https://wa.me/33763155658\"><img src=\"//ds1h54b9h1.kameleoon.eu/images/89120-804710b2-7b29-4a0b-974c-dba290441575.png\"><\u002fa><\u002fdiv>","idSelector":true,"domOperation":"INSERT_BEFORE","domReference":"#content > div:first-child > div:first-child > div:first-child > div:first-child","domReferenceCurrentQuery":"#content > div:first-child > div:first-child > div:first-child > div:first-child","selector":"#kameleoonElement873242"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child","options":{"kameleoonId":909693,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId909693"},"currentQuery":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child"},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child","options":{"kameleoonId":909694,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId909694"},"currentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child"},{"selector":"#kameleoonElement826863","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"#helpThemeSummary > div:first-child > div:nth-of-type(2)","domReferenceCurrentQuery":"#helpThemeSummary > div:first-child > div:nth-of-type(2)","selector":"#kameleoonElement826863"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > a:nth-of-type(1) > img:first-child","options":{"kameleoonId":909696,"autoGeneratedSelector":true,"selector":"#kameleoonId909696"},"currentQuery":"#kameleoonId825096 > a:nth-of-type(1) > img:first-child"},{"selector":"#kameleoonElement825089","options":{"idSelector":true,"selector":"#kameleoonElement825089"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(5) > div:first-child > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(2) > dl:first-child > dd:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Retrouvez les coordonnées dans votre espace client et profitez de <strong>conseils personnalisés par téléphone et <u><a href=\"https://wa.me/33763155658\">par WhatsApp<\u002fa><\u002fu><\u002fstrong>.","kameleoonId":909698,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId909698"},"currentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(5) > div:first-child > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(2) > dl:first-child > dd:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child","options":{"kameleoonId":909699,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId909699"},"currentQuery":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child"},{"selector":"#kameleoonElement96757","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\"><a href=\"https://wa.me/33763155658\"><img src=\"//ds1h54b9h1.kameleoon.eu/images/89084-df177c9a-9b76-4919-9af5-19d2aa199ec7.png\"><\u002fa><\u002fdiv>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#content > div:first-child > a:nth-of-type(2)","domReferenceCurrentQuery":"#content > div:first-child > a:nth-of-type(2)","selector":"#kameleoonElement96757"},"currentQuery":null}]},{"name":"BANDEAU WHATSAPP 17/12","id":500926,"css":"/* START 917116 */\n\n#kameleoonElement827008 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 10000 !important;\n}\n\n/* END 917116 */\n\n/* START 917126 */\n\n/* END 917126 */\n\n/* START 917127 */\n\n/* END 917127 */\n\n/* START 917119 */\n\n#kameleoonElement825104 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(30px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 917119 */\n\n/* START 917112 */\n\n#kameleoonElement825095 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 917112 */\n\n/* START 917113 */\n\n/* END 917113 */\n\n/* START 917114 */\n\n#kameleoonId917114 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 917114 */\n\n/* START 917122 */\n\n#kameleoonElement124540 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(10px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1452 !important;\n}\n\n/* END 917122 */\n\n/* START 917128 */\n\n#kameleoonElement826863 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 917128 */\n\n/* START 917129 */\n\n#kameleoonId917129 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 917129 */\n\n/* START 917121 */\n\n/* END 917121 */\n\n/* START 917118 */\n\n#kameleoonElement825098 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 917118 */\n\n/* START 917123 */\n\n#kameleoonId917123 {\n\theight: auto !important;\n\twidth: auto !important;\n}\n\n/* END 917123 */\n\n/* START 917130 */\n\n/* END 917130 */\n\n/* START 917117 */\n\n#kameleoonId917117 {\n\theight: auto !important;\n\twidth: 100% !important;\n}\n\n/* END 917117 */\n\n/* START 917133 */\n\n#kameleoonElement96757 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #232323 !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: 100px !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 917133 */\n\n/* START 917124 */\n\n/* END 917124 */\n\n/* START 917132 */\n\n/* END 917132 */\n\n/* START 917111 */\n\n#kameleoonId917111 {\n\twidth: 1100px !important;\n\theight: auto !important;\n}\n\n/* END 917111 */\n\n/* START 917120 */\n\n/* END 917120 */\n\n/* START 917115 */\n\n/* END 917115 */\n\n/* START 917125 */\n\n#kameleoonElement873242 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #262626 !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 917125 */\n\n/* START 917131 */\n\n/* END 917131 */\n\n/* START 917110 */\n\n#kameleoonElement826849 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #333333 !important;\n\tfont-size: 12px !important;\n\tline-height: 1.43em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(0px + 0px) !important;\n\tmargin-bottom: calc(20px + 0px) !important;\n\tmargin-left: calc(15% + 0px) !important;\n\tmargin-right: calc(15% + 0px) !important;\n\theight: auto !important;\n\twidth: 70% !important;\n\tz-index: 9001 !important;\n}\n\n/* END 917110 */\n\n/* START CUSTOM */\n\nimg#kameleoonElement827008 {\n\tdisplay: none;\n}","elementSets":[{"selector":"#kameleoonElement826849","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)","domReferenceCurrentQuery":"#kameleoonId826844","selector":"#kameleoonElement826849"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child > a:first-child > img:first-child","options":{"kameleoonId":917111,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"//ds1h54b9h1.kameleoon.eu/images/89641-42bbabe0-6940-4e07-9bda-1eee9a03dd46.png\" />","attributesData":"[{\"attributeName\":\"height\",\"attributeValue\":\"\",\"removed\":true,\"modified\":true,\"added\":false},{\"attributeName\":\"width\",\"attributeValue\":\"\",\"removed\":true,\"modified\":true,\"added\":false}]","selector":"#kameleoonId917111"},"currentQuery":"#kameleoonId825092 > a:first-child > img:first-child"},{"selector":"#kameleoonElement825095","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > h2:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > h2:first-child","selector":"#kameleoonElement825095"},"currentQuery":null},{"selector":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)","options":{"kameleoonId":917113,"autoGeneratedSelector":true,"selector":"#kameleoonId917113"},"currentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3)"},{"selector":"#account > header:first-child > a:nth-of-type(1) > img:first-child","options":{"kameleoonId":917114,"autoGeneratedSelector":true,"selector":"#kameleoonId917114"},"currentQuery":"#kameleoonId825099 > a:nth-of-type(1) > img:first-child"},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child > a:first-child","options":{"kameleoonId":917115,"autoGeneratedSelector":true,"selector":"#kameleoonId917115"},"currentQuery":"#kameleoonId876448 > a:first-child"},{"selector":"#kameleoonElement827008","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(4) > div:nth-of-type(1) > ul:nth-of-type(1)","domReferenceCurrentQuery":"body > div:nth-of-type(4) > div:nth-of-type(1) > ul:nth-of-type(1)","selector":"#kameleoonElement827008"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child > a:first-child > img:first-child","options":{"kameleoonId":917117,"autoGeneratedSelector":true,"selector":"#kameleoonId917117"},"currentQuery":"#kameleoonId825107 > a:first-child > img:first-child"},{"selector":"#kameleoonElement825098","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81214-8387973a-b8a3-4256-b4cb-777440279788.png\" height=\"134px\" width=\"750px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"#account > header:first-child > h1:first-child","domReferenceCurrentQuery":"#account > header:first-child > h1:first-child","selector":"#kameleoonElement825098"},"currentQuery":null},{"selector":"#kameleoonElement825104","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81214-8387973a-b8a3-4256-b4cb-777440279788.png\" height=\"134px\" width=\"750px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > ul:nth-of-type(1) > li:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > ul:nth-of-type(1) > li:first-child","selector":"#kameleoonElement825104"},"currentQuery":null},{"selector":"#account > header:first-child","options":{"kameleoonId":917120,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId917120"},"currentQuery":"#account > header:first-child"},{"selector":"#kameleoonElement826829","options":{"idSelector":true,"selector":"#kameleoonElement826829"},"currentQuery":null},{"selector":"#kameleoonElement124540","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH94787-bcca724f-273e-4d7a-8b2a-82046c1b0b71.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_BEFORE","domReference":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > ul:nth-of-type(1) > li:first-child","domReferenceCurrentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > ul:nth-of-type(1) > li:first-child","selector":"#kameleoonElement124540"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child > a:first-child","options":{"kameleoonId":917123,"autoGeneratedSelector":true,"selector":"#kameleoonId917123"},"currentQuery":"#kameleoonId833290 > a:first-child"},{"selector":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3) > div:first-child","options":{"kameleoonId":917124,"autoGeneratedSelector":true,"selector":"#kameleoonId917124"},"currentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(3) > div:first-child"},{"selector":"#kameleoonElement873242","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\"><a href=\"https://wa.me/33763155658\"><img src=\"//ds1h54b9h1.kameleoon.eu/images/89120-804710b2-7b29-4a0b-974c-dba290441575.png\"><\u002fa><\u002fdiv>","idSelector":true,"domOperation":"INSERT_BEFORE","domReference":"#content > div:first-child > div:first-child > div:first-child > div:first-child","domReferenceCurrentQuery":"#content > div:first-child > div:first-child > div:first-child > div:first-child","selector":"#kameleoonElement873242"},"currentQuery":null},{"selector":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child","options":{"kameleoonId":917126,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId917126"},"currentQuery":"body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child"},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child","options":{"kameleoonId":917127,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId917127"},"currentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child"},{"selector":"#kameleoonElement826863","options":{"replaceHtmlContent":"<img src=\"//static.kameleoon.eu/images/customers/ds1h54b9h1/0/uploads/81203-67c51dc5-9a83-4878-87d0-8cf290f4a708.png\" height=\"112px\" width=\"1952px\" />","idSelector":true,"href":"https://wa.me/33763155658","domOperation":"INSERT_AFTER","domReference":"#helpThemeSummary > div:first-child > div:nth-of-type(2)","domReferenceCurrentQuery":"#helpThemeSummary > div:first-child > div:nth-of-type(2)","selector":"#kameleoonElement826863"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > a:nth-of-type(1) > img:first-child","options":{"kameleoonId":917129,"autoGeneratedSelector":true,"selector":"#kameleoonId917129"},"currentQuery":"#kameleoonId825096 > a:nth-of-type(1) > img:first-child"},{"selector":"#kameleoonElement825089","options":{"idSelector":true,"selector":"#kameleoonElement825089"},"currentQuery":null},{"selector":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(5) > div:first-child > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(2) > dl:first-child > dd:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Retrouvez les coordonnées dans votre espace client et profitez de <strong>conseils personnalisés par téléphone et <u><a href=\"https://wa.me/33763155658\">par WhatsApp<\u002fa><\u002fu><\u002fstrong>.","kameleoonId":917131,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId917131"},"currentQuery":"body > div:nth-of-type(3) > div:first-child > section:nth-of-type(5) > div:first-child > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(2) > dl:first-child > dd:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child","options":{"kameleoonId":917132,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId917132"},"currentQuery":"body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child"},{"selector":"#kameleoonElement96757","options":{"replaceHtmlContent":"<div kameleoondefaultstyles=\"blockBordered\"><a href=\"https://wa.me/33763155658\"><img src=\"//ds1h54b9h1.kameleoon.eu/images/89084-df177c9a-9b76-4919-9af5-19d2aa199ec7.png\"><\u002fa><\u002fdiv>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#content > div:first-child > a:nth-of-type(2)","domReferenceCurrentQuery":"#content > div:first-child > a:nth-of-type(2)","selector":"#kameleoonElement96757"},"currentQuery":null}]},{"name":"LocalStorage","id":419045,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Data.writeLocalData(\"isOneClick\", \"true\", true);","afterDOMReady":false}},{"name":"Avec texte","id":419976,"css":"/* START 844049 */\n\n#kameleoonId844049 {\n\theight: auto !important;\n\twidth: auto !important;\n}\n\n/* END 844049 */\n\n/* START 843908 */\n\n#kameleoonElement843908 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: #ffffff !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 14px !important;\n\tline-height: 1.43em !important;\n\tpadding-top: 0px !important;\n\tpadding-bottom: 20px !important;\n\tpadding-left: 0px !important;\n\tpadding-right: 0px !important;\n\tmargin-top: calc(-30px + 0px) !important;\n\tmargin-bottom: calc(0px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: auto !important;\n\tz-index: 1000 !important;\n}\n\n/* END 843908 */\n\n","elementSets":[{"selector":"#kameleoonElement843908","options":{"replaceHtmlContent":"<div class=\"ma-HelpEbooksContent\">\n<style type=\"text/css\">.ma-HelpEbooksContent .tempAudiobook{\n\t\t\tclear:both;\n\t\t\tbackground-color:#FFF;\n\t\t\tposition:relative;\n\t\t\tpadding-top:40px;\n\t\t}\n\t\t.tempAudiobook:before {\n\t\t\tbackground: #f2f2f2;\n\t\t\tbottom: 0;\n\t\t\tcontent: \"\";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 20px;\n\t\t\tleft:0;\n\t\t\tright:0;\n\t\t\twidth: 100%;\n\t\t\theight:4px\n\t\t}\n\t\t.tempAudiobook:after {\n\t\t\tbackground: #FFFFFF;\n\t\t\tbottom: 0;\n\t\t\tcontent: \"\";\n\t\t\tdisplay: block;\n\t\t\tleft: 50%;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\twidth: 1px;\n\t\t}\n<\u002fstyle>\n<div class=\"tempAudiobook\">\n<h3 class=\"ma-HelpEbooksTitle\">Vous écoutez votre livre audio avec l’application <img alt=\"Kobo by Fnac\" src=\"https://static.fnac-static.com/multimedia/fnacdirect/publi/strates/Kameleoon/audiobook/picto-appli-kobo-by-fnac.png\"><\u002fh3>\n\n<ul class=\"ma-HelpEbooksDots\">\n\t<li><span class=\"ma-HelpEbooksDot\"><span>1<\u002fspan><\u002fspan>\n\n\t<p>Téléchargez l'application Kobo by FNAC sur le <a href=\"https://play.google.com/store/apps/details?id='com.kobobooks.android.fnac'&amp;hl=fr\" target=\"_blank\">Play Store (Android)<\u002fa> ou l'<a href=\"https://apps.apple.com/fr/app/kobo-by-fnac/id480683940\" target=\"_blank\">Appstore (iOS)<\u002fa><\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>2<\u002fspan><\u002fspan>\n\t<p>Lancez l'application et identifiez-vous avec votre compte FNAC.com<\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>3<\u002fspan><\u002fspan>\n\t<p>Accédez à vos ebook et livres audio, synchronisés automatiquement<\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>4<\u002fspan><\u002fspan>\n\t<p>Sélectionnez votre livre et commencez à lire ou écouter !<\u002fp>\n\t<\u002fli>\n<\u002ful>\n<\u002fdiv>\n<\u002fdiv>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#PipeNoMvc","domReferenceCurrentQuery":"#PipeNoMvc","selector":"#kameleoonElement843908"},"currentQuery":null},{"selector":"#kameleoonElement843908 > div:nth-of-type(1)","options":{"htmlContent":"\n<h3 class=\"ma-HelpEbooksTitle\">Vous écoutez votre livre audio avec l’application <img alt=\"Kobo by Fnac\" src=\"https://static.fnac-static.com/multimedia/fnacdirect/publi/strates/Kameleoon/audiobook/picto-appli-kobo-by-fnac.png\"><\u002fh3>\n\n<ul class=\"ma-HelpEbooksDots\">\n\t<li><span class=\"ma-HelpEbooksDot\"><span>1<\u002fspan><\u002fspan>\n\n\t<p>Téléchargez l'application Kobo by FNAC sur le <a href=\"https://play.google.com/store/apps/details?id=com.kobobooks.android.fnac&amp;hl=fr\" target=\"_blank\">Play Store (Android)<\u002fa> ou l'<a href=\"https://apps.apple.com/fr/app/kobo-by-fnac/id480683940\" target=\"_blank\">Appstore (iOS)<\u002fa><\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>2<\u002fspan><\u002fspan>\n\t<p>Lancez l'application et identifiez-vous avec votre compte FNAC.com<\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>3<\u002fspan><\u002fspan>\n\t<p>Accédez à vos ebook et livres audio, synchronisés automatiquement<\u002fp>\n\t<\u002fli>\n\t<li><span class=\"ma-HelpEbooksDot\"><span>4<\u002fspan><\u002fspan>\n\t<p>Sélectionnez votre livre et commencez à lire ou écouter !<\u002fp>\n\t<\u002fli>\n<\u002ful>\n","kameleoonId":844049,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId844049"},"currentQuery":"#kameleoonElement843908 > div:nth-of-type(1)"}]},{"name":"Banner App","id":423797,"css":"/* START CUSTOM */\n\n.f-header.scrolled-header.kam-banner-visible {\n  -webkit-transform: translateY(-126px);\n  -ms-transform: translateY(-126px);\n  transform: translateY(-126px);\n}\n\n.f-header.kam-banner-visible + nav + div#content {\n  padding-top: 182px;\n}\n.searchbar-open .kam-banner {\n  display: none;\n}\n.f-header.kam-banner-visible + .f-menu {\n  top: 126px;\n}\n\n.kam-banner {\n  position: relative;\n  width: 100%;\n  background: #f2f2f2;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  z-index: 9999;\n  padding: 3px 0;\n}\n\n.kam-banner--bclose {\n  margin: 0 5px;\n}\n\n.kam-banner--bclose svg {\n  width: 15px;\n  height: 15px;\n}\n\n.kam-banner--img {\n  width: 70px;\n}\n\n.kam-banner--content {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  margin: 0 0 0 5px;\n  font-size: 13px;\n}\n\n.kam-banner--title {\n  font-weight: 700;\n  font-size: 15px;\n}\n\n.kam-banner--description {\n  color: #989898;\n}\n\n.kam-banner--link {\n  font-size: 16px;\n  font-weight: 700;\n  margin: 0 5px;\n  color: #2980b9;\n}\n\n@media screen and (max-width: 320px) {\n  .kam-banner--link {\n    font-size: 15px;\n  }\n}\n\n.kam-banner {\n  background: #161616;\n}\n\n.kam-banner--bclose {\n  margin: 0 10px;\n}\n\n.kam-banner--bclose svg {\n  width: 10px;\n  height: 10px;\n  fill: #989898;\n}\n\n.kam-banner--content {\n  color: #989898;\n}\n\n.kam-banner--title {\n  color: #ffffff;\n}\n\n.kam-banner--description {\n  color: #989898;\n}\n\n.kam-banner--link {\n  margin: 0 10px 0 0;\n}","elementSets":[],"javaScriptCode":{"code":"var bannerOptions = {\n  link: 'https://apps.apple.com/fr/app/kobo-by-fnac/id480683940?action=click&publisher_id=354848&site_id=26716&agency_id=596&sub_campaign=Bouton_Site_Fnac',\n  title: 'Kobo by Fnac',\n  subtitle: '',\n  text: 'Retrouvez tous vos livres numériques dans une seule application mobile',\n  textLink: 'Télécharger'\n};\nvar iOS = {\n  link: '',\n  title: '',\n  text: ''\n} \nvar bclose = \"  \\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 512.001 512.001\\\" style=\\\"enable-background:new 0 0 512.001 512.001;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\\n\\t\\t\\tL34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\\n\\t\\t\\tc-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\\n\\t\\t\\tl221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\\n\\t\\t\\tL284.286,256.002z\\\"/>\\n\\t<\u002fg>\\n<\u002fg>\\n<\u002fsvg>\";\nvar createBanner = (function (_ref) {\n  var link = _ref.link,\n      title = _ref.title,\n      text = _ref.text,\n      _ref$subtitle = _ref.subtitle,\n      subtitle = _ref$subtitle === void 0 ? false : _ref$subtitle,\n      textLink = _ref.textLink;\n  return \"\\n    <div class='kam-banner'>\\n    <button class='kam-banner--bclose'>\\n    \".concat(bclose, \"\\n    <\u002fbutton>\\n    <img src=\\\"https://storage.kameleoon.eu/fnac/banner_kobo_android/KoboByFnacv2.png\\\" alt=\\\"kam-banner\\\" class=\\\"kam-banner--img\\\">\\n    <div class=\\\"kam-banner--content\\\">\\n    <h3 class='kam-banner--title'>\").concat(title, \"<\u002fh3>\\n    \").concat(subtitle ? \"<span class='kam-banner--subtitle'> \".concat(subtitle, \" <\u002fspan>\") : '', \"\\n    <p class='kam-banner--description'> \").concat(text, \" <\u002fp>\\n    <\u002fdiv>\\n    <a href='\").concat(link, \"' class='kam-banner--link'>\").concat(textLink, \"<\u002fa>\\n    <\u002fdiv>\\n    \");\n});\n\nvar goals = {\n  'Click on CTA Download': 215178,\n  'Click on cross': 215179\n};\n\nif (window.sessionStorage.getItem('KameleoonDev_banner') !== 'close') {\n  Kameleoon.API.Core.runWhenElementPresent('.f-header', function (header) {\n    header[0].insertAdjacentHTML('afterbegin', createBanner(bannerOptions));\n    header[0].classList.add('kam-banner-visible');\n    Kameleoon.API.Core.runWhenElementPresent('.kam-banner--bclose', function (buttonClose) {\n      buttonClose[0].addEventListener('click', function () {\n        var kamBanner = document.querySelector('.kam-banner');\n\n        if (kamBanner) {\n          kamBanner.style.display = 'none';\n          header[0].classList.remove('kam-banner-visible');\n          Kameleoon.API.Goals.processConversion(goals['Click on cross']);\n          window.sessionStorage.setItem('KameleoonDev_banner', 'close');\n        }\n      });\n    });\n    Kameleoon.API.Core.runWhenElementPresent('.kam-banner--link', function (bannerCTA) {\n      bannerCTA[0].addEventListener('click', function () {\n        Kameleoon.API.Goals.processConversion(goals['Click on CTA Download']);\n      });\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"Banner App","id":424546,"css":"/* START CUSTOM */\n\n.f-header.scrolled-header.kam-banner-visible {\n  -webkit-transform: translateY(-126px);\n  -ms-transform: translateY(-126px);\n  transform: translateY(-126px);\n}\n\n.f-header.kam-banner-visible + nav + div#content {\n  padding-top: 182px;\n}\n.searchbar-open .kam-banner {\n  display: none;\n}\n.f-header.kam-banner-visible + .f-menu {\n  top: 126px;\n}\n\n.kam-banner {\n  position: relative;\n  width: 100%;\n  background: #f2f2f2;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  z-index: 9999;\n  padding: 3px 0;\n}\n\n.kam-banner--bclose {\n  margin: 0 5px;\n}\n\n.kam-banner--bclose svg {\n  width: 15px;\n  height: 15px;\n}\n\n.kam-banner--img {\n  width: 70px;\n}\n\n.kam-banner--content {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  margin: 0 0 0 5px;\n  font-size: 13px;\n}\n\n.kam-banner--title {\n  font-weight: 700;\n  font-size: 15px;\n}\n\n.kam-banner--description {\n  color: #989898;\n}\n\n.kam-banner--link {\n  font-size: 16px;\n  font-weight: 700;\n  margin: 0 5px;\n  color: #2980b9;\n}\n\n@media screen and (max-width: 320px) {\n  .kam-banner--link {\n    font-size: 15px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var bannerOptions = {\n  link: 'https://play.google.com/store/apps/details?id=com.kobobooks.android.fnac&hl=fr&action=click&publisher_id=354848&site_id=128251&agency_id=596&sub_campaign=Bouton_Site_Fnac',\n  title: 'Kobo by Fnac',\n  text: 'Retrouvez tous vos livres numériques dans une seule application mobile',\n  textLink: 'Télécharger'\n};\nvar iOS = {\n  link: '',\n  title: '',\n  text: ''\n} \nvar bclose = \"  \\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 512.001 512.001\\\" style=\\\"enable-background:new 0 0 512.001 512.001;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\\n\\t\\t\\tL34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\\n\\t\\t\\tc-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\\n\\t\\t\\tl221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\\n\\t\\t\\tL284.286,256.002z\\\"/>\\n\\t<\u002fg>\\n<\u002fg>\\n<\u002fsvg>\";\nvar createBanner = (function (_ref) {\n  var link = _ref.link,\n      title = _ref.title,\n      text = _ref.text,\n      _ref$subtitle = _ref.subtitle,\n      subtitle = _ref$subtitle === void 0 ? false : _ref$subtitle,\n      textLink = _ref.textLink;\n  return \"\\n    <div class='kam-banner'>\\n    <button class='kam-banner--bclose'>\\n    \".concat(bclose, \"\\n    <\u002fbutton>\\n    <img src=\\\"https://storage.kameleoon.eu/fnac/banner_kobo_android/KoboByFnacv2.png\\\" alt=\\\"kam-banner\\\" class=\\\"kam-banner--img\\\">\\n    <div class=\\\"kam-banner--content\\\">\\n    <h3 class='kam-banner--title'>\").concat(title, \"<\u002fh3>\\n    \").concat(subtitle ? \"<span class='kam-banner--subtitle'> \".concat(subtitle, \" <\u002fspan>\") : '', \"\\n    <p class='kam-banner--description'> \").concat(text, \" <\u002fp>\\n    <\u002fdiv>\\n    <a href='\").concat(link, \"' class='kam-banner--link'>\").concat(textLink, \"<\u002fa>\\n    <\u002fdiv>\\n    \");\n});\n\nvar goals = {\n  'Click on CTA Download': 215178,\n  'Click on cross': 215179\n};\n\nif (window.sessionStorage.getItem('KameleoonDev_banner') !== 'close') {\n  Kameleoon.API.Core.runWhenElementPresent('.f-header', function (header) {\n    header[0].insertAdjacentHTML('afterbegin', createBanner(bannerOptions));\n    header[0].classList.add('kam-banner-visible');\n    Kameleoon.API.Core.runWhenElementPresent('.kam-banner--bclose', function (buttonClose) {\n      buttonClose[0].addEventListener('click', function () {\n        var kamBanner = document.querySelector('.kam-banner');\n\n        if (kamBanner) {\n          kamBanner.style.display = 'none';\n          header[0].classList.remove('kam-banner-visible');\n          Kameleoon.API.Goals.processConversion(goals['Click on cross']);\n          window.sessionStorage.setItem('KameleoonDev_banner', 'close');\n        }\n      });\n    });\n    Kameleoon.API.Core.runWhenElementPresent('.kam-banner--link', function (bannerCTA) {\n      bannerCTA[0].addEventListener('click', function () {\n        Kameleoon.API.Goals.processConversion(goals['Click on CTA Download']);\n      });\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"Bandeau Samsung","id":427085,"css":"/* START 849876 */\n\n#kameleoonElement849876 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 12 !important;\n}\n\n/* END 849876 */\n\n","elementSets":[{"selector":"#kameleoonElement849876","options":{"replaceHtmlContent":"<img src=\"//ds1h54b9h1.kameleoon.eu/images/85423-49e6ae98-7db2-4b2d-81d9-fc72417cc5a5.jpg\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://www.fnac.com/TV-Samsung-The-Frame/shi522021/w-4","domOperation":"INSERT_BEFORE","domReference":"#content > div:first-child","domReferenceCurrentQuery":"#content > div:first-child","selector":"#kameleoonElement849876"},"currentQuery":null}]},{"name":"15E","id":434973,"css":"/* START CUSTOM */\n\n.Seller-item .Delivery {\n  display: none;\n}\n\n.kam-top-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  background: white;\n  border-left: 4px #f5b027 solid;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.kam-top-block-free-delivery_img {\n  margin: 15px;\n  width: 30px;\n}\n\n.kam-top-block-free-delivery_text {\n  margin-top: 14px;\n  color: black;\n  font-size: 15px;\n}\n\n.kam-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  margin-top: 8px;\n}\n\n.kam-block-free-delivery_img {\n  width: 20px;\n  height: 20px;\n}\n\n.kam-block-free-delivery_text {\n  margin-left: 5px;\n  color: black;\n  font-size: 13px;\n}","elementSets":[],"javaScriptCode":{"code":"if (window.location.href.match('/panier')) {\n  var kamTopBlock = \"\\n                <div class=\\\"kam-top-block-free-delivery\\\">\\n                    <img class=\\\"kam-top-block-free-delivery_img\\\" alt=\\\"box\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Yellow_Mask.svg\\\">\\n                    <p class=\\\"kam-top-block-free-delivery_text\\\">Livraison standard sur les livres \\xE0 0,01 \\u20AC d\\xE8s 15\\u20AC d\\u2019achat - <b>Livraison gratuite<\u002fb> pour les adh\\xE9rents\\n                    <br>\\n                    <b>Retrait gratuit<\u002fb> en magasin<\u002fp>\\n                <\u002fdiv>\";\n  var kamblockInblockWithCost = \"\\n                <div class=\\\"kam-block-free-delivery\\\">\\n                    <img class=\\\"kam-block-free-delivery_img\\\" alt=\\\"store\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Black_Mask.svg\\\">\\n                    <p class=\\\"kam-block-free-delivery_text\\\">Retrait gratuit en magasin<\u002fp>\\n                <\u002fdiv>\";\n  Kameleoon.API.Core.runWhenElementPresent('div[data-testid=\"sellerList\"]', function (contentOnBasketPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.basket-informations__deliveryPriceEstimated .basket-informations__separator', function (blockWithCost) {\n      contentOnBasketPage[0].insertAdjacentHTML('beforebegin', kamTopBlock);\n      blockWithCost[0].insertAdjacentHTML('beforebegin', kamblockInblockWithCost);\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"20E","id":486339,"css":"/* START CUSTOM */\n\n.Seller-item .Delivery {\n  display: none;\n}\n\n.kam-top-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  background: white;\n  border-left: 4px #f5b027 solid;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.kam-top-block-free-delivery_img {\n  margin: 15px;\n  width: 30px;\n}\n\n.kam-top-block-free-delivery_text {\n  margin-top: 14px;\n  color: black;\n  font-size: 15px;\n}\n\n.kam-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  margin-top: 8px;\n}\n\n.kam-block-free-delivery_img {\n  width: 20px;\n  height: 20px;\n}\n\n.kam-block-free-delivery_text {\n  margin-left: 5px;\n  color: black;\n  font-size: 13px;\n}","elementSets":[],"javaScriptCode":{"code":"if (window.location.href.match('/panier')) {\n  var kamTopBlock = \"\\n                <div class=\\\"kam-top-block-free-delivery\\\">\\n                    <img class=\\\"kam-top-block-free-delivery_img\\\" alt=\\\"box\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Yellow_Mask.svg\\\">\\n                    <p class=\\\"kam-top-block-free-delivery_text\\\">Livraison standard sur les livres \\xE0 0,01 \\u20AC d\\xE8s 20\\u20AC d\\u2019achat - <b>Livraison gratuite<\u002fb> pour les adh\\xE9rents\\n                    <br>\\n                    <b>Retrait gratuit<\u002fb> en magasin<\u002fp>\\n                <\u002fdiv>\";\n  var kamblockInblockWithCost = \"\\n                <div class=\\\"kam-block-free-delivery\\\">\\n                    <img class=\\\"kam-block-free-delivery_img\\\" alt=\\\"store\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Black_Mask.svg\\\">\\n                    <p class=\\\"kam-block-free-delivery_text\\\">Retrait gratuit en magasin<\u002fp>\\n                <\u002fdiv>\";\n  Kameleoon.API.Core.runWhenElementPresent('div[data-testid=\"sellerList\"]', function (contentOnBasketPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.basket-informations__deliveryPriceEstimated .basket-informations__separator', function (blockWithCost) {\n      contentOnBasketPage[0].insertAdjacentHTML('beforebegin', kamTopBlock);\n      blockWithCost[0].insertAdjacentHTML('beforebegin', kamblockInblockWithCost);\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"10E","id":488637,"css":"/* START CUSTOM */\n\n.Seller-item .Delivery {\n  display: none;\n}\n\n.kam-top-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  background: white;\n  border-left: 4px #f5b027 solid;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.kam-top-block-free-delivery_img {\n  margin: 15px;\n  width: 30px;\n}\n\n.kam-top-block-free-delivery_text {\n  margin-top: 14px;\n  color: black;\n  font-size: 15px;\n}\n\n.kam-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  margin-top: 8px;\n}\n\n.kam-block-free-delivery_img {\n  width: 20px;\n  height: 20px;\n}\n\n.kam-block-free-delivery_text {\n  margin-left: 5px;\n  color: black;\n  font-size: 13px;\n}","elementSets":[],"javaScriptCode":{"code":"if (window.location.href.match('/panier')) {\n  var kamTopBlock = \"\\n                <div class=\\\"kam-top-block-free-delivery\\\">\\n                    <img class=\\\"kam-top-block-free-delivery_img\\\" alt=\\\"box\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Yellow_Mask.svg\\\">\\n                    <p class=\\\"kam-top-block-free-delivery_text\\\">Livraison standard sur les livres \\xE0 0,01 \\u20AC d\\xE8s 10\\u20AC d\\u2019achat - <b>Livraison gratuite<\u002fb> pour les adh\\xE9rents\\n                    <br>\\n                    <b>Retrait gratuit<\u002fb> en magasin<\u002fp>\\n                <\u002fdiv>\";\n  var kamblockInblockWithCost = \"\\n                <div class=\\\"kam-block-free-delivery\\\">\\n                    <img class=\\\"kam-block-free-delivery_img\\\" alt=\\\"store\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Black_Mask.svg\\\">\\n                    <p class=\\\"kam-block-free-delivery_text\\\">Retrait gratuit en magasin<\u002fp>\\n                <\u002fdiv>\";\n  Kameleoon.API.Core.runWhenElementPresent('div[data-testid=\"sellerList\"]', function (contentOnBasketPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.basket-informations__deliveryPriceEstimated .basket-informations__separator', function (blockWithCost) {\n      contentOnBasketPage[0].insertAdjacentHTML('beforebegin', kamTopBlock);\n      blockWithCost[0].insertAdjacentHTML('beforebegin', kamblockInblockWithCost);\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"7E","id":535040,"css":"/* START CUSTOM */\n\n.Seller-item .Delivery {\n  display: none;\n}\n\n.kam-top-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  background: white;\n  border-left: 4px #f5b027 solid;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.kam-top-block-free-delivery_img {\n  margin: 15px;\n  width: 30px;\n}\n\n.kam-top-block-free-delivery_text {\n  margin-top: 14px;\n  color: black;\n  font-size: 15px;\n}\n\n.kam-block-free-delivery {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  margin-top: 8px;\n}\n\n.kam-block-free-delivery_img {\n  width: 20px;\n  height: 20px;\n}\n\n.kam-block-free-delivery_text {\n  margin-left: 5px;\n  color: black;\n  font-size: 13px;\n}","elementSets":[],"javaScriptCode":{"code":"if (window.location.href.match('/panier')) {\n  var kamTopBlock = \"\\n                <div class=\\\"kam-top-block-free-delivery\\\">\\n                    <img class=\\\"kam-top-block-free-delivery_img\\\" alt=\\\"box\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Yellow_Mask.svg\\\">\\n                    <p class=\\\"kam-top-block-free-delivery_text\\\">Livraison standard sur les livres \\xE0 0,01 \\u20AC d\\xE8s 7\\u20AC d\\u2019achat - <b>Livraison gratuite<\u002fb> pour les adh\\xE9rents\\n                    <br>\\n                    <b>Retrait gratuit<\u002fb> en magasin<\u002fp>\\n                <\u002fdiv>\";\n  var kamblockInblockWithCost = \"\\n                <div class=\\\"kam-block-free-delivery\\\">\\n                    <img class=\\\"kam-block-free-delivery_img\\\" alt=\\\"store\\\" src=\\\"https://storage.kameleoon.eu/fnac/FraisDePort/Black_Mask.svg\\\">\\n                    <p class=\\\"kam-block-free-delivery_text\\\">Retrait gratuit en magasin<\u002fp>\\n                <\u002fdiv>\";\n  Kameleoon.API.Core.runWhenElementPresent('div[data-testid=\"sellerList\"]', function (contentOnBasketPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.basket-informations__deliveryPriceEstimated .basket-informations__separator', function (blockWithCost) {\n      contentOnBasketPage[0].insertAdjacentHTML('beforebegin', kamTopBlock);\n      blockWithCost[0].insertAdjacentHTML('beforebegin', kamblockInblockWithCost);\n    });\n  });\n}\n","afterDOMReady":false}},{"name":"LocalStorage","id":449788,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Data.writeLocalData(\"isDLEMobile\", \"true\", true);","afterDOMReady":false}},{"name":"15E","id":451972,"css":"/* START CUSTOM */\n\n.kam-new-text {\n  font-size: 13px;\n  margin-left: 24px;\n}\n\n.kam-new-text .kam-new-text__red {\n  color: #d21c1c;\n}\n\n.kam-bottom-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  border-top: 1px solid #d8d8d8;\n  padding: 10px;\n}\n\n.kam-bottom-block .kam-bottom-block-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_svg__2 {\n  margin-top: 2px;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n  margin-left: 10px;\n  color: grey;\n}\n\n.kam-bottom-block .kam-bottom-block-info__1 {\n  width: 55%;\n  margin-right: 26px;\n}\n\n@media screen and (max-width: 1480px) {\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 52%;\n    margin-right: 30px;\n  }\n}\n\n@media screen and (max-width: 720px) {\n  .kam-new-text {\n    margin-left: 2px;\n  }\n\n  .kam-bottom-block {\n    background-color: white;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    margin-bottom: 10px;\n    border-top: none;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 96%;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_text {\n    margin-left: -1px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_svg__1 {\n    margin-top: -6px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info {\n    text-align: center;\n    margin: 0 auto;\n    margin-top: 10px;\n    margin-bottom: 8px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n    font-size: 12px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var kamNewText = \"\\n                <p class=\\\"kam-new-text\\\">\\n                    Livraison \\xE0 partir de 1,99\\u20AC (0,01\\u20AC d\\xE8s 15\\u20AC d\\u2019achat)\\n                    <br><b><span class=\\\"kam-new-text__red\\\">Livraison gratuite<\u002fspan><\u002fb> pour les adh\\xE9rents\\n                <\u002fp>\";\nvar kamNewBlock = \"\\n                <div class=\\\"kam-bottom-block\\\">\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__1\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__1\\\"xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" width=\\\"44px\\\" height=\\\"22px\\\" id=\\\"Layer_1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 96 96\\\" style=\\\"enable-background:new 0 0 96 96; fill: grey;\\\" xml:space=\\\"preserve\\\">\\n                        <g id=\\\"XMLID_1_\\\">\\n                            <path id=\\\"XMLID_5_\\\" d=\\\"M24.7,20.5H10.9c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.7c1.3,0,2.3-1,2.3-2.3V22.8   C27,21.5,25.9,20.5,24.7,20.5z M22.4,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_8_\\\" d=\\\"M47.6,20.5H33.8c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.8c1.3,0,2.3-1,2.3-2.3V22.8   C49.9,21.5,48.9,20.5,47.6,20.5z M45.3,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_9_\\\" d=\\\"M63.4,24l-12.3,6.2c-1.1,0.6-1.6,2-1,3.1l20.6,40.9c0.6,1.1,2,1.6,3.1,1l12.3-6.2c1.1-0.6,1.6-2,1-3.1   L66.5,25.1C65.9,23.9,64.5,23.5,63.4,24z\\\"/>\\n                            <circle id=\\\"XMLID_10_\\\" cx=\\\"72.8\\\" cy=\\\"73.2\\\" r=\\\"2.3\\\"/>\\n                        <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Livraison standard sur les livres \\xE0 <b>0,01\\u20AC d\\xE8s 15\\u20AC d\\u2019achat<\u002fb> ou <b> gratuite pour les adh\\xE9rents<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__2\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__2\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"14px\\\" viewBox=\\\"0 0 24 14\\\" version=\\\"1.1\\\">\\n                            <!-- Generator: sketchtool 64 (101010) - https://sketch.com -->\\n                            <title>829BC463-3864-4FE0-A2C0-245737CD932D<\u002ftitle>\\n                            <desc>Created with sketchtool.<\u002fdesc>\\n                            <g id=\\\"Frais-port-livre---Parcours\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                                <g id=\\\"D_Frais-port-livre--Panier\\\" transform=\\\"translate(-971.000000, -379.000000)\\\" fill=\\\"grey\\\">\\n                                    <g id=\\\"Group-2\\\" transform=\\\"translate(971.000000, 374.000000)\\\">\\n                                        <g id=\\\"icon/magasin/bold\\\" transform=\\\"translate(0.000000, 5.000000)\\\">\\n                                            <path d=\\\"M24,13.0839951 L24,13.7573958 L3.55271368e-15,13.7573958 L3.55271368e-15,13.0839951 L24,13.0839951 Z M22.7363824,0.242604188 L22.7363824,13.0795413 L16.6713867,13.0795413 L16.6713867,6.27935681 L12.3152127,6.27935681 L12.3152127,13.0795413 L11.6746962,13.0795413 L11.6746962,6.27935681 L7.31852214,6.27935681 L7.31852214,13.0795413 L1.23361545,13.0795413 L1.23361545,0.242604188 L22.7363824,0.242604188 Z\\\" id=\\\"Mask\\\"/>\\n                                        <\u002fg>\\n                                    <\u002fg>\\n                                <\u002fg>\\n                            <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Retrait <b>gratuit en magasin<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                <\u002fdiv>\";\nvar device = Kameleoon.API.CurrentVisit.device.type;\n\nif (device === 'Desktop') {\n  Kameleoon.API.Core.runWhenElementPresent('div.f-buyBox-shipping', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.f-buyShopBox', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('beforebegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n    });\n  });\n} else if (device === 'Phone') {\n  Kameleoon.API.Core.runWhenElementPresent('.priceDelivery', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.FA-storeAvailability', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('afterbegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n      var svgBook = document.querySelector('.kam-bottom-block-info_svg__1');\n      svgBook.setAttribute('height', '28px');\n    });\n  });\n}","afterDOMReady":false}},{"name":"20E","id":486338,"css":"/* START CUSTOM */\n\n.kam-new-text {\n  font-size: 13px;\n  margin-left: 24px;\n}\n\n.kam-new-text .kam-new-text__red {\n  color: #d21c1c;\n}\n\n.kam-bottom-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  border-top: 1px solid #d8d8d8;\n  padding: 10px;\n}\n\n.kam-bottom-block .kam-bottom-block-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_svg__2 {\n  margin-top: 2px;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n  margin-left: 10px;\n  color: grey;\n}\n\n.kam-bottom-block .kam-bottom-block-info__1 {\n  width: 55%;\n  margin-right: 26px;\n}\n\n@media screen and (max-width: 1480px) {\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 52%;\n    margin-right: 30px;\n  }\n}\n\n@media screen and (max-width: 720px) {\n  .kam-new-text {\n    margin-left: 2px;\n  }\n\n  .kam-bottom-block {\n    background-color: white;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    margin-bottom: 10px;\n    border-top: none;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 96%;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_text {\n    margin-left: -1px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_svg__1 {\n    margin-top: -6px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info {\n    text-align: center;\n    margin: 0 auto;\n    margin-top: 10px;\n    margin-bottom: 8px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n    font-size: 12px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var kamNewText = \"\\n                <p class=\\\"kam-new-text\\\">\\n                    Livraison \\xE0 partir de 1,99\\u20AC (0,01\\u20AC d\\xE8s 20\\u20AC d\\u2019achat)\\n                    <br><b><span class=\\\"kam-new-text__red\\\">Livraison gratuite<\u002fspan><\u002fb> pour les adh\\xE9rents\\n                <\u002fp>\";\nvar kamNewBlock = \"\\n                <div class=\\\"kam-bottom-block\\\">\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__1\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__1\\\"xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" width=\\\"44px\\\" height=\\\"22px\\\" id=\\\"Layer_1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 96 96\\\" style=\\\"enable-background:new 0 0 96 96; fill: grey;\\\" xml:space=\\\"preserve\\\">\\n                        <g id=\\\"XMLID_1_\\\">\\n                            <path id=\\\"XMLID_5_\\\" d=\\\"M24.7,20.5H10.9c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.7c1.3,0,2.3-1,2.3-2.3V22.8   C27,21.5,25.9,20.5,24.7,20.5z M22.4,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_8_\\\" d=\\\"M47.6,20.5H33.8c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.8c1.3,0,2.3-1,2.3-2.3V22.8   C49.9,21.5,48.9,20.5,47.6,20.5z M45.3,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_9_\\\" d=\\\"M63.4,24l-12.3,6.2c-1.1,0.6-1.6,2-1,3.1l20.6,40.9c0.6,1.1,2,1.6,3.1,1l12.3-6.2c1.1-0.6,1.6-2,1-3.1   L66.5,25.1C65.9,23.9,64.5,23.5,63.4,24z\\\"/>\\n                            <circle id=\\\"XMLID_10_\\\" cx=\\\"72.8\\\" cy=\\\"73.2\\\" r=\\\"2.3\\\"/>\\n                        <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Livraison standard sur les livres \\xE0 <b>0,01\\u20AC d\\xE8s 20\\u20AC d\\u2019achat<\u002fb> ou <b> gratuite pour les adh\\xE9rents<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__2\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__2\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"14px\\\" viewBox=\\\"0 0 24 14\\\" version=\\\"1.1\\\">\\n                            <!-- Generator: sketchtool 64 (101010) - https://sketch.com -->\\n                            <title>829BC463-3864-4FE0-A2C0-245737CD932D<\u002ftitle>\\n                            <desc>Created with sketchtool.<\u002fdesc>\\n                            <g id=\\\"Frais-port-livre---Parcours\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                                <g id=\\\"D_Frais-port-livre--Panier\\\" transform=\\\"translate(-971.000000, -379.000000)\\\" fill=\\\"grey\\\">\\n                                    <g id=\\\"Group-2\\\" transform=\\\"translate(971.000000, 374.000000)\\\">\\n                                        <g id=\\\"icon/magasin/bold\\\" transform=\\\"translate(0.000000, 5.000000)\\\">\\n                                            <path d=\\\"M24,13.0839951 L24,13.7573958 L3.55271368e-15,13.7573958 L3.55271368e-15,13.0839951 L24,13.0839951 Z M22.7363824,0.242604188 L22.7363824,13.0795413 L16.6713867,13.0795413 L16.6713867,6.27935681 L12.3152127,6.27935681 L12.3152127,13.0795413 L11.6746962,13.0795413 L11.6746962,6.27935681 L7.31852214,6.27935681 L7.31852214,13.0795413 L1.23361545,13.0795413 L1.23361545,0.242604188 L22.7363824,0.242604188 Z\\\" id=\\\"Mask\\\"/>\\n                                        <\u002fg>\\n                                    <\u002fg>\\n                                <\u002fg>\\n                            <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Retrait <b>gratuit en magasin<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                <\u002fdiv>\";\nvar device = Kameleoon.API.CurrentVisit.device.type;\n\nif (device === 'Desktop') {\n  Kameleoon.API.Core.runWhenElementPresent('div.f-buyBox-shipping', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.f-buyShopBox', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('beforebegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n    });\n  });\n} else if (device === 'Phone') {\n  Kameleoon.API.Core.runWhenElementPresent('.priceDelivery', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.FA-storeAvailability', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('afterbegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n      var svgBook = document.querySelector('.kam-bottom-block-info_svg__1');\n      svgBook.setAttribute('height', '28px');\n    });\n  });\n}","afterDOMReady":false}},{"name":"10E","id":488632,"css":"/* START CUSTOM */\n\n.kam-new-text {\n  font-size: 13px;\n  margin-left: 24px;\n}\n\n.kam-new-text .kam-new-text__red {\n  color: #d21c1c;\n}\n\n.kam-bottom-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  border-top: 1px solid #d8d8d8;\n  padding: 10px;\n}\n\n.kam-bottom-block .kam-bottom-block-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_svg__2 {\n  margin-top: 2px;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n  margin-left: 10px;\n  color: grey;\n}\n\n.kam-bottom-block .kam-bottom-block-info__1 {\n  width: 55%;\n  margin-right: 26px;\n}\n\n@media screen and (max-width: 1480px) {\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 52%;\n    margin-right: 30px;\n  }\n}\n\n@media screen and (max-width: 720px) {\n  .kam-new-text {\n    margin-left: 2px;\n    margin: 10px 10px 10px;\n\n  }\n\n  .kam-bottom-block {\n    background-color: white;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    margin-bottom: 10px;\n    border-top: none;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 96%;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_text {\n    margin-left: -1px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_svg__1 {\n    margin-top: -6px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info {\n    text-align: center;\n    margin: 0 auto;\n    margin-top: 10px;\n    margin-bottom: 8px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n    font-size: 12px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var kamNewText = \"\\n                <p class=\\\"kam-new-text\\\">\\n                    Livraison \\xE0 partir de 1,99\\u20AC (0,01\\u20AC d\\xE8s 10\\u20AC d\\u2019achat)\\n                    <br><b><span class=\\\"kam-new-text__red\\\">Livraison gratuite<\u002fspan><\u002fb> pour les adh\\xE9rents\\n                <\u002fp>\";\nvar kamNewBlock = \"\\n                <div class=\\\"kam-bottom-block\\\">\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__1\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__1\\\"xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" width=\\\"44px\\\" height=\\\"22px\\\" id=\\\"Layer_1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 96 96\\\" style=\\\"enable-background:new 0 0 96 96; fill: grey;\\\" xml:space=\\\"preserve\\\">\\n                        <g id=\\\"XMLID_1_\\\">\\n                            <path id=\\\"XMLID_5_\\\" d=\\\"M24.7,20.5H10.9c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.7c1.3,0,2.3-1,2.3-2.3V22.8   C27,21.5,25.9,20.5,24.7,20.5z M22.4,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_8_\\\" d=\\\"M47.6,20.5H33.8c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.8c1.3,0,2.3-1,2.3-2.3V22.8   C49.9,21.5,48.9,20.5,47.6,20.5z M45.3,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_9_\\\" d=\\\"M63.4,24l-12.3,6.2c-1.1,0.6-1.6,2-1,3.1l20.6,40.9c0.6,1.1,2,1.6,3.1,1l12.3-6.2c1.1-0.6,1.6-2,1-3.1   L66.5,25.1C65.9,23.9,64.5,23.5,63.4,24z\\\"/>\\n                            <circle id=\\\"XMLID_10_\\\" cx=\\\"72.8\\\" cy=\\\"73.2\\\" r=\\\"2.3\\\"/>\\n                        <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Livraison standard sur les livres \\xE0 <b>0,01\\u20AC d\\xE8s 10\\u20AC d\\u2019achat<\u002fb> ou <b> gratuite pour les adh\\xE9rents<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__2\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__2\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"14px\\\" viewBox=\\\"0 0 24 14\\\" version=\\\"1.1\\\">\\n                            <!-- Generator: sketchtool 64 (101010) - https://sketch.com -->\\n                            <title>829BC463-3864-4FE0-A2C0-245737CD932D<\u002ftitle>\\n                            <desc>Created with sketchtool.<\u002fdesc>\\n                            <g id=\\\"Frais-port-livre---Parcours\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                                <g id=\\\"D_Frais-port-livre--Panier\\\" transform=\\\"translate(-971.000000, -379.000000)\\\" fill=\\\"grey\\\">\\n                                    <g id=\\\"Group-2\\\" transform=\\\"translate(971.000000, 374.000000)\\\">\\n                                        <g id=\\\"icon/magasin/bold\\\" transform=\\\"translate(0.000000, 5.000000)\\\">\\n                                            <path d=\\\"M24,13.0839951 L24,13.7573958 L3.55271368e-15,13.7573958 L3.55271368e-15,13.0839951 L24,13.0839951 Z M22.7363824,0.242604188 L22.7363824,13.0795413 L16.6713867,13.0795413 L16.6713867,6.27935681 L12.3152127,6.27935681 L12.3152127,13.0795413 L11.6746962,13.0795413 L11.6746962,6.27935681 L7.31852214,6.27935681 L7.31852214,13.0795413 L1.23361545,13.0795413 L1.23361545,0.242604188 L22.7363824,0.242604188 Z\\\" id=\\\"Mask\\\"/>\\n                                        <\u002fg>\\n                                    <\u002fg>\\n                                <\u002fg>\\n                            <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Retrait <b>gratuit en magasin<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                <\u002fdiv>\";\nvar device = Kameleoon.API.CurrentVisit.device.type;\n\nif (device === 'Desktop') {\n  Kameleoon.API.Core.runWhenElementPresent('div.f-buyBox-shipping', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.f-buyShopBox', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('beforebegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n    });\n  });\n} else if (device === 'Phone') {\n  Kameleoon.API.Core.runWhenElementPresent('.priceDelivery', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.FA-storeAvailability', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('afterbegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n      var svgBook = document.querySelector('.kam-bottom-block-info_svg__1');\n      svgBook.setAttribute('height', '28px');\n    });\n  });\n}","afterDOMReady":false}},{"name":"7E","id":535032,"css":"/* START CUSTOM */\n\n.kam-new-text {\n  font-size: 13px;\n  margin-left: 24px;\n}\n\n.kam-new-text .kam-new-text__red {\n  color: #d21c1c;\n}\n\n.kam-bottom-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  border-top: 1px solid #d8d8d8;\n  padding: 10px;\n}\n\n.kam-bottom-block .kam-bottom-block-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_svg__2 {\n  margin-top: 2px;\n}\n\n.kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n  margin-left: 10px;\n  color: grey;\n}\n\n.kam-bottom-block .kam-bottom-block-info__1 {\n  width: 55%;\n  margin-right: 26px;\n}\n\n@media screen and (max-width: 1480px) {\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 52%;\n    margin-right: 30px;\n  }\n}\n\n@media screen and (max-width: 720px) {\n  .kam-new-text {\n    margin-left: 2px;\n    margin: 10px 10px 10px;\n\n  }\n\n  .kam-bottom-block {\n    background-color: white;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    margin-bottom: 10px;\n    border-top: none;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 {\n    width: 96%;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_text {\n    margin-left: -1px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info__1 .kam-bottom-block-info_svg__1 {\n    margin-top: -6px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info {\n    text-align: center;\n    margin: 0 auto;\n    margin-top: 10px;\n    margin-bottom: 8px;\n  }\n\n  .kam-bottom-block .kam-bottom-block-info .kam-bottom-block-info_text {\n    font-size: 12px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var kamNewText = \"\\n                <p class=\\\"kam-new-text\\\">\\n                    Livraison \\xE0 partir de 1,99\\u20AC (0,01\\u20AC d\\xE8s 7\\u20AC d\\u2019achat)\\n                    <br><b><span class=\\\"kam-new-text__red\\\">Livraison gratuite<\u002fspan><\u002fb> pour les adh\\xE9rents\\n                <\u002fp>\";\nvar kamNewBlock = \"\\n                <div class=\\\"kam-bottom-block\\\">\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__1\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__1\\\"xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" width=\\\"44px\\\" height=\\\"22px\\\" id=\\\"Layer_1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 96 96\\\" style=\\\"enable-background:new 0 0 96 96; fill: grey;\\\" xml:space=\\\"preserve\\\">\\n                        <g id=\\\"XMLID_1_\\\">\\n                            <path id=\\\"XMLID_5_\\\" d=\\\"M24.7,20.5H10.9c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.7c1.3,0,2.3-1,2.3-2.3V22.8   C27,21.5,25.9,20.5,24.7,20.5z M22.4,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_8_\\\" d=\\\"M47.6,20.5H33.8c-1.3,0-2.3,1-2.3,2.3v50.4c0,1.3,1,2.3,2.3,2.3h13.8c1.3,0,2.3-1,2.3-2.3V22.8   C49.9,21.5,48.9,20.5,47.6,20.5z M45.3,34.3h-9.2v-4.6h9.2V34.3z\\\"/>\\n                            <path id=\\\"XMLID_9_\\\" d=\\\"M63.4,24l-12.3,6.2c-1.1,0.6-1.6,2-1,3.1l20.6,40.9c0.6,1.1,2,1.6,3.1,1l12.3-6.2c1.1-0.6,1.6-2,1-3.1   L66.5,25.1C65.9,23.9,64.5,23.5,63.4,24z\\\"/>\\n                            <circle id=\\\"XMLID_10_\\\" cx=\\\"72.8\\\" cy=\\\"73.2\\\" r=\\\"2.3\\\"/>\\n                        <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Livraison standard sur les livres \\xE0 <b>0,01\\u20AC d\\xE8s 7\\u20AC d\\u2019achat<\u002fb> ou <b> gratuite pour les adh\\xE9rents<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                    <div class=\\\"kam-bottom-block-info kam-bottom-block-info__2\\\">\\n                        <svg class=\\\"kam-bottom-block-info_svg__2\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"14px\\\" viewBox=\\\"0 0 24 14\\\" version=\\\"1.1\\\">\\n                            <!-- Generator: sketchtool 64 (101010) - https://sketch.com -->\\n                            <title>829BC463-3864-4FE0-A2C0-245737CD932D<\u002ftitle>\\n                            <desc>Created with sketchtool.<\u002fdesc>\\n                            <g id=\\\"Frais-port-livre---Parcours\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                                <g id=\\\"D_Frais-port-livre--Panier\\\" transform=\\\"translate(-971.000000, -379.000000)\\\" fill=\\\"grey\\\">\\n                                    <g id=\\\"Group-2\\\" transform=\\\"translate(971.000000, 374.000000)\\\">\\n                                        <g id=\\\"icon/magasin/bold\\\" transform=\\\"translate(0.000000, 5.000000)\\\">\\n                                            <path d=\\\"M24,13.0839951 L24,13.7573958 L3.55271368e-15,13.7573958 L3.55271368e-15,13.0839951 L24,13.0839951 Z M22.7363824,0.242604188 L22.7363824,13.0795413 L16.6713867,13.0795413 L16.6713867,6.27935681 L12.3152127,6.27935681 L12.3152127,13.0795413 L11.6746962,13.0795413 L11.6746962,6.27935681 L7.31852214,6.27935681 L7.31852214,13.0795413 L1.23361545,13.0795413 L1.23361545,0.242604188 L22.7363824,0.242604188 Z\\\" id=\\\"Mask\\\"/>\\n                                        <\u002fg>\\n                                    <\u002fg>\\n                                <\u002fg>\\n                            <\u002fg>\\n                        <\u002fsvg>\\n                        <p class=\\\"kam-bottom-block-info_text\\\">Retrait <b>gratuit en magasin<\u002fb><\u002fp>\\n                    <\u002fdiv>\\n                <\u002fdiv>\";\nvar device = Kameleoon.API.CurrentVisit.device.type;\n\nif (device === 'Desktop') {\n  Kameleoon.API.Core.runWhenElementPresent('div.f-buyBox-shipping', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.f-buyShopBox', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('beforebegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n    });\n  });\n} else if (device === 'Phone') {\n  Kameleoon.API.Core.runWhenElementPresent('.priceDelivery', function (textOnPage) {\n    Kameleoon.API.Core.runWhenElementPresent('.FA-storeAvailability', function (blockOnPage) {\n      textOnPage[0].textContent = '';\n      textOnPage[0].insertAdjacentHTML('afterbegin', kamNewText);\n      blockOnPage[0].insertAdjacentHTML('afterend', kamNewBlock);\n      var svgBook = document.querySelector('.kam-bottom-block-info_svg__1');\n      svgBook.setAttribute('height', '28px');\n    });\n  });\n}","afterDOMReady":false}},{"name":"BLOC 9,99€","id":454507,"css":"/* START CUSTOM */\n\n.kam-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  border: 1px solid #d8d8d8;\n  border-left: 0;\n  -webkit-box-shadow: inset 10px 0 0 #66d0e5;\n  box-shadow: inset 10px 0 0 #66d0e5;\n  margin: 10px 0 10px 30px;\n  padding: 0 20px 0 30px;\n  position: relative;\n  height: 80px;\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n}\n\n.kam-block::before {\n  content: \"+\";\n  position: absolute;\n  font-size: 40px;\n  color: #989898;\n  -webkit-transform: translate(-60px, -50%);\n  -ms-transform: translate(-60px, -50%);\n  transform: translate(-60px, -50%);\n  top: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.kam-block .kam-img {\n  -webkit-box-ordinal-group: 2;\n  -ms-flex-order: 1;\n  order: 1;\n  margin-left: 5px;\n  width: 10%;\n}\n\n.kam-block .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n  margin-left: -40px;\n  margin-top: 5px;\n}\n\n.kam-block .kam-text__title {\n  margin-top: -8px;\n  font-size: 14px;\n  padding-top: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n}\n\n.kam-block .kam-text__text {\n  font-size: 14px;\n  max-width: 292px;\n  margin-top: -8px;\n  padding-bottom: 10px;\n}\n\n.kam-block .kam-btn {\n  -webkit-box-ordinal-group: 4;\n  -ms-flex-order: 3;\n  order: 3;\n  margin-top: 20px;\n  height: 38.8px;\n  margin-left: 8px;\n  width: 120.36px;\n  padding: 7px 0 0 0;\n}\n\n.kam-block .kam-btn.other-text {\n  width: 63.7px;\n  margin-left: 72px;\n}\n\n.kam-block .btn-after-click {\n  width: auto;\n  margin-left: 0px;\n  background: #6a9d47 !important;\n  border-radius: 5px;\n  color: #fff;\n  line-height: 25px;\n  padding: 6px 10px;\n  font-size: 13px;\n  text-align: center;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  border: 1px solid transparent !important;\n}\n\n.kam-block .btn-after-click:hover {\n  background: #6a9d47 !important;\n}\n\n.kam-block .btn-after-click:before {\n  content: \"\\f167\";\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 4px;\n  line-height: 1;\n  font-family: icons, sans-serif !important;\n  font-size: 1em;\n  font-weight: 400;\n  font-style: normal;\n  speak: none;\n  text-decoration: none;\n  text-transform: none;\n  text-rendering: optimizeLegibility;\n}\n\n.kam-block.block_change-size {\n  width: 90%;\n  padding-left: 18px;\n  right: 14px;\n  top: 10px;\n  margin-left: auto;\n}\n\n.kam-block.block_change-size::before {\n  margin-left: 10px;\n}\n\n.kam-block.block_change-size .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n}\n\n.kam-block.block_change-size .kam-text__title {\n  font-size: 14px;\n  padding-top: 20px;\n  padding-left: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n  text-align: left;\n}\n\n.kam-block.block_change-size .kam-text__text {\n  font-size: 14px;\n  margin-left: 20px;\n  margin-top: -5px;\n  padding-bottom: 10px;\n}\n\n.BasketPopin-WarrantyBlock--oneItem {\n  -webkit-transform: none !important;\n  -ms-transform: none !important;\n  transform: none !important;\n  margin-bottom: 1%;\n}\n\n.BasketPopin {\n  width: 860px !important;\n}","elementSets":[],"javaScriptCode":{"code":"start();\n\nfunction start() {\n\n    Kameleoon.API.Core.runWhenConditionTrue(() => {\n        return document.querySelector('.BasketPopin--oneProduct');\n    }, () => {\n        addBlock();\n        checkPopin();\n    });\n\n    function checkPopin() {\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return !document.querySelector('.BasketPopin--oneProduct');\n        }, () => {\n            start();\n        });\n    }\n\n    function addBlock() {\n\n        const goals = {\n            'Add Fnac+ card to Cart': 189725\n        };\n\n        const kamBlockWarranty = `\n        <div class=\"kam-block\">\n            <img class=\"kam-img\" src=\"https://storage.kameleoon.eu/fnac/pop-in-add-to-basket/logo-fnac.svg\">\n            <div class=\"kam-text\">\n                <p class=\"kam-text__title\"> Livraison J+1 gratuite et illimitée<\u002fp>\n                <p class=\"kam-text__text\"><b>9€99 la 1ère année<\u002fb>, puis 14€99/an<\u002fp>\n            <\u002fdiv>\n            <a class=\"kam-btn btn transparent2-btn BasketPopin-basketAdd js-ProductBuy-addGuarantee\">Ajouter au panier<\u002fa>\n        <\u002fdiv>`;\n\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return document.querySelector('.thumbnail-reco') &&\n                document.querySelector('a.btn.BasketPopin-actionButton') && document.querySelector('a.BasketPopin-basketAdd');\n        }, () => {\n            const btnWithChangingText = document.querySelector('a.BasketPopin-basketAdd');\n            const blockWar = document.querySelector('.BasketPopin-product+div .BasketPopin-Warranty');\n            const blockNoWar = document.querySelector('.BasketPopin-product.BasketPopin-productSolo h2');\n            if (blockWar) {\n                blockWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n            } else if (blockNoWar) {\n                blockNoWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n                document.querySelector('.kam-block').classList.add('block_change-size');\n            }\n\n            const kamBtn = document.querySelector('.kam-btn');\n            if (btnWithChangingText.textContent === 'Ajouter') {\n                kamBtn.textContent = 'Ajouter';\n                kamBtn.classList.add('other-text');\n            }\n\n\n            kamBtn.addEventListener('click', () => {\n                kamBtn.textContent = 'Dans le panier !';\n                kamBtn.classList.add('btn-after-click');\n                const button = document.querySelector('a.btn.BasketPopin-actionButton');\n                button.href = 'https://secure.fnac.com/basket/add?productId=9667431';\n                button.addEventListener('click', () => {\n                    Kameleoon.API.Goals.processConversion(goals['Add Fnac+ card to Cart']);\n                });\n            });\n        });\n    }\n}\n","afterDOMReady":true}},{"name":"BLOC 7,99€","id":479312,"css":"/* START CUSTOM */\n\n.kam-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  border: 1px solid #d8d8d8;\n  border-left: 0;\n  -webkit-box-shadow: inset 10px 0 0 #66d0e5;\n  box-shadow: inset 10px 0 0 #66d0e5;\n  margin: 10px 0 10px 30px;\n  padding: 0 20px 0 30px;\n  position: relative;\n  height: 80px;\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n}\n\n.kam-block::before {\n  content: \"+\";\n  position: absolute;\n  font-size: 40px;\n  color: #989898;\n  -webkit-transform: translate(-60px, -50%);\n  -ms-transform: translate(-60px, -50%);\n  transform: translate(-60px, -50%);\n  top: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.kam-block .kam-img {\n  -webkit-box-ordinal-group: 2;\n  -ms-flex-order: 1;\n  order: 1;\n  margin-left: 5px;\n  width: 10%;\n}\n\n.kam-block .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n  margin-left: -40px;\n  margin-top: 5px;\n}\n\n.kam-block .kam-text__title {\n  margin-top: -8px;\n  font-size: 14px;\n  padding-top: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n}\n\n.kam-block .kam-text__text {\n  font-size: 14px;\n  max-width: 292px;\n  margin-top: -8px;\n  padding-bottom: 10px;\n}\n\n.kam-block .kam-btn {\n  -webkit-box-ordinal-group: 4;\n  -ms-flex-order: 3;\n  order: 3;\n  margin-top: 20px;\n  height: 38.8px;\n  margin-left: 8px;\n  width: 120.36px;\n  padding: 7px 0 0 0;\n}\n\n.kam-block .kam-btn.other-text {\n  width: 63.7px;\n  margin-left: 72px;\n}\n\n.kam-block .btn-after-click {\n  width: auto;\n  margin-left: 0px;\n  background: #6a9d47 !important;\n  border-radius: 5px;\n  color: #fff;\n  line-height: 25px;\n  padding: 6px 10px;\n  font-size: 13px;\n  text-align: center;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  border: 1px solid transparent !important;\n}\n\n.kam-block .btn-after-click:hover {\n  background: #6a9d47 !important;\n}\n\n.kam-block .btn-after-click:before {\n  content: \"\\f167\";\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 4px;\n  line-height: 1;\n  font-family: icons, sans-serif !important;\n  font-size: 1em;\n  font-weight: 400;\n  font-style: normal;\n  speak: none;\n  text-decoration: none;\n  text-transform: none;\n  text-rendering: optimizeLegibility;\n}\n\n.kam-block.block_change-size {\n  width: 90%;\n  padding-left: 18px;\n  right: 14px;\n  top: 10px;\n  margin-left: auto;\n}\n\n.kam-block.block_change-size::before {\n  margin-left: 10px;\n}\n\n.kam-block.block_change-size .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n}\n\n.kam-block.block_change-size .kam-text__title {\n  font-size: 14px;\n  padding-top: 20px;\n  padding-left: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n  text-align: left;\n}\n\n.kam-block.block_change-size .kam-text__text {\n  font-size: 14px;\n  margin-left: 20px;\n  margin-top: -5px;\n  padding-bottom: 10px;\n}\n\n.BasketPopin-WarrantyBlock--oneItem {\n  -webkit-transform: none !important;\n  -ms-transform: none !important;\n  transform: none !important;\n  margin-bottom: 1%;\n}\n\n.BasketPopin {\n  width: 860px !important;\n}","elementSets":[],"javaScriptCode":{"code":"start();\n\nfunction start() {\n\n    Kameleoon.API.Core.runWhenConditionTrue(() => {\n        return document.querySelector('.BasketPopin--oneProduct');\n    }, () => {\n        addBlock();\n        checkPopin();\n    });\n\n    function checkPopin() {\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return !document.querySelector('.BasketPopin--oneProduct');\n        }, () => {\n            start();\n        });\n    }\n\n    function addBlock() {\n\n        const goals = {\n            'Add Fnac+ card to Cart': 189725\n        };\n\n        const kamBlockWarranty = `\n        <div class=\"kam-block\">\n            <img class=\"kam-img\" src=\"https://storage.kameleoon.eu/fnac/pop-in-add-to-basket/logo-fnac.svg\">\n            <div class=\"kam-text\">\n                <p class=\"kam-text__title\"> Livraison J+1 gratuite et illimitée<\u002fp>\n                <p class=\"kam-text__text\"><b>7€99 la 1ère année<\u002fb>, puis 14€99/an<\u002fp>\n            <\u002fdiv>\n            <a class=\"kam-btn btn transparent2-btn BasketPopin-basketAdd js-ProductBuy-addGuarantee\">Ajouter au panier<\u002fa>\n        <\u002fdiv>`;\n\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return document.querySelector('.thumbnail-reco') &&\n                document.querySelector('a.btn.BasketPopin-actionButton') && document.querySelector('a.BasketPopin-basketAdd');\n        }, () => {\n            const btnWithChangingText = document.querySelector('a.BasketPopin-basketAdd');\n            const blockWar = document.querySelector('.BasketPopin-product+div .BasketPopin-Warranty');\n            const blockNoWar = document.querySelector('.BasketPopin-product.BasketPopin-productSolo h2');\n            if (blockWar) {\n                blockWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n            } else if (blockNoWar) {\n                blockNoWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n                document.querySelector('.kam-block').classList.add('block_change-size');\n            }\n\n            const kamBtn = document.querySelector('.kam-btn');\n            if (btnWithChangingText.textContent === 'Ajouter') {\n                kamBtn.textContent = 'Ajouter';\n                kamBtn.classList.add('other-text');\n            }\n\n\n            kamBtn.addEventListener('click', () => {\n                kamBtn.textContent = 'Dans le panier !';\n                kamBtn.classList.add('btn-after-click');\n                const button = document.querySelector('a.btn.BasketPopin-actionButton');\n                button.href = 'https://secure.fnac.com/basket/add?productId=9667431';\n                button.addEventListener('click', () => {\n                    Kameleoon.API.Goals.processConversion(goals['Add Fnac+ card to Cart']);\n                });\n            });\n        });\n    }\n}\n","afterDOMReady":true}},{"name":"BLOC 4,99€","id":492289,"css":"/* START CUSTOM */\n\n.kam-block {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  border: 1px solid #d8d8d8;\n  border-left: 0;\n  -webkit-box-shadow: inset 10px 0 0 #66d0e5;\n  box-shadow: inset 10px 0 0 #66d0e5;\n  margin: 10px 0 10px 30px;\n  padding: 0 20px 0 30px;\n  position: relative;\n  height: 80px;\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n}\n\n.kam-block::before {\n  content: \"+\";\n  position: absolute;\n  font-size: 40px;\n  color: #989898;\n  -webkit-transform: translate(-60px, -50%);\n  -ms-transform: translate(-60px, -50%);\n  transform: translate(-60px, -50%);\n  top: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.kam-block .kam-img {\n  -webkit-box-ordinal-group: 2;\n  -ms-flex-order: 1;\n  order: 1;\n  margin-left: 5px;\n  width: 10%;\n}\n\n.kam-block .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n  margin-left: -40px;\n  margin-top: -2px;\n}\n\n.kam-block .kam-text__title {\n  margin-top: -8px;\n  font-size: 14px;\n  padding-top: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n}\n\n.kam-block .kam-text__text {\n  font-size: 14px;\n  max-width: 292px;\n  margin-top: -8px;\n  padding-bottom: 10px;\n}\n\n.kam-block .kam-btn {\n  -webkit-box-ordinal-group: 4;\n  -ms-flex-order: 3;\n  order: 3;\n  margin-top: 20px;\n  height: 38.8px;\n  margin-left: 8px;\n  width: 120.36px;\n  padding: 7px 0 0 0;\n}\n\n.kam-block .kam-btn.other-text {\n  width: 63.7px;\n  margin-left: 72px;\n}\n\n.kam-block .btn-after-click {\n  width: auto;\n  margin-left: 0px;\n  background: #6a9d47 !important;\n  border-radius: 5px;\n  color: #fff;\n  line-height: 25px;\n  padding: 6px 10px;\n  font-size: 13px;\n  text-align: center;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  border: 1px solid transparent !important;\n}\n\n.kam-block .btn-after-click:hover {\n  background: #6a9d47 !important;\n}\n\n.kam-block .btn-after-click:before {\n  content: \"\\f167\";\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 4px;\n  line-height: 1;\n  font-family: icons, sans-serif !important;\n  font-size: 1em;\n  font-weight: 400;\n  font-style: normal;\n  speak: none;\n  text-decoration: none;\n  text-transform: none;\n  text-rendering: optimizeLegibility;\n}\n\n.kam-block.block_change-size {\n  width: 90%;\n  padding-left: 18px;\n  right: 14px;\n  top: 10px;\n  margin-left: auto;\n}\n\n.kam-block.block_change-size::before {\n  margin-left: 10px;\n}\n\n.kam-block.block_change-size .kam-text {\n  -webkit-box-ordinal-group: 3;\n  -ms-flex-order: 2;\n  order: 2;\n}\n\n.kam-block.block_change-size .kam-text__title {\n  font-size: 14px;\n  padding-top: 20px;\n  padding-left: 20px;\n  color: #66d0e5;\n  font-weight: bold;\n  text-align: left;\n}\n\n.kam-block.block_change-size .kam-text__text {\n  font-size: 14px;\n  margin-left: 20px;\n  margin-top: -5px;\n  padding-bottom: 10px;\n}\n\n.BasketPopin-WarrantyBlock--oneItem {\n  -webkit-transform: none !important;\n  -ms-transform: none !important;\n  transform: none !important;\n  margin-bottom: 1%;\n}\n\n.BasketPopin {\n  width: 860px !important;\n}","elementSets":[],"javaScriptCode":{"code":"start();\n\nfunction start() {\n\n    Kameleoon.API.Core.runWhenConditionTrue(() => {\n        return document.querySelector('.BasketPopin--oneProduct');\n    }, () => {\n        addBlock();\n        checkPopin();\n    });\n\n    function checkPopin() {\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return !document.querySelector('.BasketPopin--oneProduct');\n        }, () => {\n            start();\n        });\n    }\n\n    function addBlock() {\n\n        const goals = {\n            'Add Fnac+ card to Cart': 189725\n        };\n\n        const kamBlockWarranty = `\n        <div class=\"kam-block\">\n            <img class=\"kam-img\" src=\"https://storage.kameleoon.eu/fnac/pop-in-add-to-basket/logo-fnac.svg\">\n            <div class=\"kam-text\">\n                <p class=\"kam-text__title\"> Livraison J+1 gratuite et illimitée<\u002fp>\n                <p class=\"kam-text__text\">Votre carte Fnac+ : <b>4€99 la 1ère année<\u002fb><br /> (au lieu de 14€99)<\u002fp>\n            <\u002fdiv>\n            <a class=\"kam-btn btn transparent2-btn BasketPopin-basketAdd js-ProductBuy-addGuarantee\">Ajouter au panier<\u002fa>\n        <\u002fdiv>`;\n\n        Kameleoon.API.Core.runWhenConditionTrue(() => {\n            return document.querySelector('.thumbnail-reco') &&\n                document.querySelector('a.btn.BasketPopin-actionButton') && document.querySelector('a.BasketPopin-basketAdd');\n        }, () => {\n            const btnWithChangingText = document.querySelector('a.BasketPopin-basketAdd');\n            const blockWar = document.querySelector('.BasketPopin-product+div .BasketPopin-Warranty');\n            const blockNoWar = document.querySelector('.BasketPopin-product.BasketPopin-productSolo h2');\n            if (blockWar) {\n                blockWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n            } else if (blockNoWar) {\n                blockNoWar.insertAdjacentHTML('afterend', kamBlockWarranty);\n                document.querySelector('.kam-block').classList.add('block_change-size');\n            }\n\n            const kamBtn = document.querySelector('.kam-btn');\n            if (btnWithChangingText.textContent === 'Ajouter') {\n                kamBtn.textContent = 'Ajouter';\n                kamBtn.classList.add('other-text');\n            }\n\n\n            kamBtn.addEventListener('click', () => {\n                kamBtn.textContent = 'Dans le panier !';\n                kamBtn.classList.add('btn-after-click');\n                const button = document.querySelector('a.btn.BasketPopin-actionButton');\n                button.href = 'https://secure.fnac.com/basket/add?productId=9667431';\n                button.addEventListener('click', () => {\n                    Kameleoon.API.Goals.processConversion(goals['Add Fnac+ card to Cart']);\n                });\n            });\n        });\n    }\n}\n","afterDOMReady":true}},{"name":"Lien dans footer","id":456234,"css":"/* START 923375 */\n\n/* END 923375 */\n\n","elementSets":[{"selector":".f-footer__links","options":{"htmlContent":"\n<dl class=\"f-footer__links__list\">\n\t<dt class=\"f-footer__links__title\">A propos<\u002fdt>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/Help/cgv-fnac-marketplace\" rel=\"nofollow\">CGV Marketplace <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/legal/cgv\" rel=\"nofollow\">CGV <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/entreprise/mentions_legales.aspx\" rel=\"nofollow\">Mentions légales <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/Help/donneesPersonnelles\">Données personnelles <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/help/cookies\" rel=\"nofollow\">Cookies <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/Help/utilisation-avis-internautes.aspx\" rel=\"nofollow\">Avis en ligne <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/Help/cgu-pay-go\" rel=\"nofollow\">CGU Fnac Pay&amp;Go <\u002fa><\u002fdd>\n<\u002fdl>\n\n<dl class=\"f-footer__links__list\" style=\"\">\n\t<dt class=\"f-footer__links__title\">Besoin d'aide<\u002fdt>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/help/sav\">SAV &amp; Services <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/help/contact\" rel=\"nofollow\">Nous contacter <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/help/help\" rel=\"nofollow\">Aide <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/phishing\">Sécurité <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://wa.me/33763155658\">WhatsApp <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.acce-o.fr/client/fnac\" rel=\"nofollow\" target=\"_blank\">Accessibilité <svg aria-hidden=\"true\" class=\"f-icon \" focusable=\"false\" height=\"20\" role=\"img\"> <use xlink:href=\"#icon_i_291_hearing\"><\u002fuse><\u002fsvg> <\u002fa><\u002fdd>\n<\u002fdl>\n\n<dl class=\"f-footer__links__list\">\n\t<dt class=\"f-footer__links__title\">A la fnac<\u002fdt>\n\t<dd class=\"f-footer__links__item\"><a href=\"http://www.fnacspectacles.com?utm_medium=hp-footer&amp;utm_content=&amp;utm_source=fnac.com&amp;utm_campaign=site-billetterie\">Fnac Spectacles <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"http://www.kobosetup.fr/\">Kobo <\u002fa> - <a href=\"https://www.fnac.com/french-days\"> Les French Days <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"http://labo.fnac.com/\" rel=\"nofollow\">Labofnac <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/noel/w-4\">Noel <\u002fa> - <a href=\"https://www.fnac.com/soldes/w-4\"> Soldes <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/unidays\" rel=\"nofollow\">Unidays <\u002fa><\u002fdd>\n\t<dd class=\"f-footer__links__item\"><a href=\"https://www.fnac.com/black-friday\">Black Friday 2019 <\u002fa><\u002fdd>\n<\u002fdl>\n","selector":".f-footer__links"},"currentQuery":null}]},{"name":"CTA JAUNE","id":462415,"css":"/* START CUSTOM */\n\n.btn.transparent2-btn {\n\tborder: 1px solid #f5b027 !important;\n\tborder-radius: 5px;\n    background: #f5b027 !important;\n    color: #fff !important;\n    line-height: 25px;\n    padding: 6px 10px;\n    font-size: 13px;\n    text-align: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.btn.transparent2-btn:hover {\n\tbackground: #ffba33 !important;\n}\n.kam-block .btn-after-click {\n    background: #6a9d47 important!;\n}","elementSets":[]},{"name":"Without Mega Menu ","id":470903,"css":"/* START CUSTOM */\n\n@media (min-width: 769px) {\n  .Header__logo {\n    width: 138px !important;\n    position: absolute !important;\n    right: 0 !important;\n  }\n\n  .Header__logo-img {\n    width: 120px !important;\n  }\n\n  .Header__burger {\n    display: block !important;\n  }\n\n  .Sidebar--home {\n    display: none !important;\n  }\n\n  .Sidebar--home .kam-open {\n    display: block;\n  }\n\n  .kam-full-main {\n    padding-left: 0 !important;\n  }\n\n  .kam-full-nav {\n    left: 0 !important;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"var goals = {\n  'Clic burger menu': 207121,\n  'Clic cross menu': 207123\n};\nvar selectors = [\".Main\", \".Main-marketingHeader\", \".Header__burger-link\"];\nKameleoon.API.Core.runWhenConditionTrue(function () {\n  return selectors.every(function (element) {\n    return document.querySelector(element);\n  });\n}, function () {\n  var main = document.querySelector(\".Main\");\n  var nav = document.querySelector(\".Main-marketingHeader\");\n  var burger = document.querySelector(\".Header__burger-link\");\n  main.classList.add(\"kam-full-main\");\n  nav.classList.add(\"kam-full-nav\");\n  burger.addEventListener(\"click\", function (evt) {\n    if (evt.currentTarget.classList.contains(\"isActive\")) {\n      Kameleoon.API.Goals.processConversion(goals['Clic cross menu']);\n    } else {\n      Kameleoon.API.Goals.processConversion(goals['Clic burger menu']);\n    }\n  });\n});\n","afterDOMReady":false}},{"name":"Fnac Seconde Vie","id":472941,"css":"/* START CUSTOM */\n\n.kam-second-vie__img:hover {\n  cursor: pointer;\n}\n\n.page__content--basket .kam-second-vie__img,\n.sellers__list .kam-second-vie__img,\n.FA-seller-details__name .kam-second-vie__img {\n  vertical-align: middle;\n}\n\n.kam-seconde-vie__changed .seller-header__added-guarantee-icon:before,\n.kam-seconde-vie__changed .icon-i_044_check_02:before {\n  content: '';\n}\n\n.kam-seconde-vie__none {\n  display: none;\n}\n\n@media (min-width: 769px) {\n  .kam-second-vie__img {\n    margin-bottom: 4px;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"const goals = {\n    'Click on picto  Fnac-Darty Occasion':223352\n};\nconsole.log('done');\nconst selectors = {\n    //list page selectors\n    venduIcon: '.f-icon.Mp-icon',\n    venduLink:'.tooltipMp__linkContainer>a[href*=\"-2nde-vie\"]:not(.kam-seconde-vie__changed)',\n    occasionLink:'.tooltipMp__linkContainer>a[href*=\"Darty-Occasion\"]:not(.kam-seconde-vie__changed)',\n    venduListpage: '.Mp-seller',\n    listContainer:'#dontTouchThisDiv',\n    mobileListContainer:'.mobileProductList',\n    mobileListLinks:'.f-searchResult__sellItem__detail .f-searchResult__sellItem:not(.kam-seconde-vie__none)',\n    sellerPartner:'.Dispo-mpSeller',\n\n    //pdp selectors\n    pdpProductInfoContainer:'.f-productOffers-content',\n    pdp2ndeLink: 'a[href*=\"Fnac-2nde-vie\"].f-shopBox-MPInfoSellerTitle:not(kam__changed)',\n    pdpOccasionLink: 'a[href*=\"Darty-Occasion\"].f-shopBox-MPInfoSellerTitle:not(kam__changed)',\n    pdpStars:'.f-productOffers-content .f-shopBox-MPInfoSellerGrade',\n    pdpNumOfSellers:'.f-shopBox-MPInfoSellerNumberSales',\n    pdpInfoTitle:'.f-shopBox-MPProductInfo',\n    pdpSecondSpan:'.f-otherOffers-sellerName',\n    pdpSecondStars:'.f-otherOffers-itemCol>.f-othersPrice-sellerRate',\n    pdpAvaliability: '.f-buyBox-availabilityStatus-available>p',\n    mobilePDPContainer:'.FA-pricer',\n    mobileTextContainer:'.FA-pricer .mpArticleInfo',\n    mobileSellerDetails:'.FA-seller-details__name',\n    mobileSellerLightDetails:'.FA-seller-details__line--light',\n    mobileRatingDetails:'.FA-seller-details__rating',\n    mobileExpeditionDetails:'.FA-seller-details__line:last-of-type',\n    mobileSellerPartner: '.FA-buybox-disponibility__mpseller',\n\n    //cart selectors\n    cartPage:'.page__content--basket',\n    cartSellerLabel:'.seller-name__label',\n    cartStars:'.seller__item .stars',\n    cartIcon1:'.icon-i_044_check_02',\n    cartMobilepage:'.sellers__list',\n\n    //second vie\n    elementForWait:'.strate .playerContent .article-title',\n    productList1:'.strate.tabbed',\n    productList2:'.strate.product-list',\n\n    //history bock\n    historyWaitForLoad:'.js-lastSeenItemsPlaceholder',\n    historyContainer:'.strateHistory.js-NavigationHistory',\n    historyItem:'.Carousel-item.js-Carousel-item',\n\n\n\n    sellerName:'.thumbnail-seller-name'\n\n};\n\nconst smallGreenLabel = `\n<img class='kam-second-vie__img' src='https://storage.kameleoon.eu/fnac/seconde_vie/second_vie_small.png'/>\n`;\n\nconst greenlabel = `\n<img class='kam-second-vie__img' src='https://storage.kameleoon.eu/fnac/seconde_vie/second_vie.png'/>\n`;\n\nconst smallOccasionLabel = `\n<img class='kam-second-vie__img' src='https://storage.kameleoon.eu/fnac/seconde_vie/occasion-small.png'/>\n`;\n\nconst occasionLabel = `\n<img class='kam-second-vie__img' src='https://storage.kameleoon.eu/fnac/seconde_vie/occasion.png'/>\n`;\n\nconst redirectionLink = 'https://www.fnac.com/Fnac-Seconde-Vie/shi377368/w-4'; \n\nchangeImagesOnListPage();\nchangeImagesOnPDP();\nchangeImagesInCart();\nchangeImagesInHistoryBlock();\nif (/Fnac-Seconde-Vie/.test(window.location.href) && /shi/.test(window.location.href)){\n    changeImagesOnSecondeVie();\n}\n\nfunction changeImagesOnListPage() {\n\n    listenAllRequests(/filter/);\n\n    const createMutationObserver = (container, callback) => {\n        const observer = new MutationObserver(callback);\n\n        observer.observe(container,  {\n            childList: true, \n            subtree: true, \n            characterDataOldValue: false \n        });\n    };\n\n\n    if (Kameleoon.API.CurrentVisit.device.type !== 'Desktop' && Kameleoon.API.CurrentVisit.device.type !== 'Tablet') {\n        Kameleoon.API.Core.runWhenElementPresent(selectors.mobileListContainer, ([container]) => {\n            const elementWhereAppersNewList = document.querySelector('#content');\n            createMutationObserver(elementWhereAppersNewList, () => {\n                setMobileLabels(selectors.mobileListLinks, /Fnac 2nde vie/,  smallGreenLabel);\n                setMobileLabels(selectors.mobileListLinks, /Darty Occasion/,  smallOccasionLabel);\n            });\n            setMobileLabels(selectors.mobileListLinks, /Fnac 2nde vie/,  smallGreenLabel);\n            setMobileLabels(selectors.mobileListLinks, /Darty Occasion/,  smallOccasionLabel);\n        });\n    } else {\n        Kameleoon.API.Core.runWhenElementPresent(selectors.listContainer, ([container]) => {\n            createMutationObserver(container,  () => {\n                setLabels(selectors.venduLink,  smallGreenLabel);\n                setLabels(selectors.occasionLink, smallOccasionLabel);\n            });\n\n            setLabels(selectors.venduLink,  smallGreenLabel);\n            setLabels(selectors.occasionLink, smallOccasionLabel); \n        });\n    }\n\n    function setLabels(selector,img) {\n        Kameleoon.API.Core.runWhenElementPresent(selector, (links) => {\n            links.forEach(link => {\n                const oldIcon = link.closest(selectors.venduListpage).querySelector(selectors.venduIcon);\n                const parentContainer = link.closest(selectors.venduListpage);\n                const cardContainerInfo = parentContainer.closest('.sellerInfos');\n                const sellerPartner = cardContainerInfo ? cardContainerInfo.querySelector(selectors.sellerPartner) : false;\n                const sellerPartnerText = sellerPartner ? sellerPartner.textContent.trim() : false;\n\n                if (sellerPartnerText === 'vendeur partenaire') sellerPartner.remove();\n                \n                oldIcon.remove();\n                parentContainer.childNodes[1].textContent =  '';\n    \n                parentContainer.insertAdjacentHTML('afterbegin', img);\n                link.classList.add('kam-seconde-vie__changed');\n                link.innerHTML = '';\n                setRedirectionOnImg(parentContainer);\n            });\n        }); \n\n        Kameleoon.API.Core.runWhenElementPresent(selectors.sellerName, (names) =>{\n            names.forEach(name => {\n                const text = name.textContent;\n                const container = name.parentNode;\n                if (/Fnac 2nde vie/.test(text)) {\n                    name.parentNode.innerHTML = smallGreenLabel;\n                    setRedirectionOnImg(container);\n                } else if (/Darty Occasion/.test(text)) {\n                    name.parentNode.innerHTML = smallOccasionLabel;\n                    setRedirectionOnImg(container);\n                }\n            });\n        });\n    }\n\n    function setMobileLabels(secletor, wording, img) {   \n        Kameleoon.API.Core.runWhenElementPresent(secletor, (links) => {\n            links.forEach(link => {\n                const container = link.closest('.f-searchResult__sellItem__detail');\n                const price = container.querySelector('.price');\n                const seller = container.querySelector('.seller');\n                const sellerText = seller && seller.textContent.trim();\n                console.log();\n                if (sellerText && wording.test(sellerText) && price && !container.querySelector('.kam-second-vie__img')) {\n                    link.classList.add('kam-seconde-vie__none');\n                    price.insertAdjacentHTML('beforebegin', `${img} <br>`);\n                    setRedirectionOnImg(container);\n                }\n            });\n        });  \n    }\n}\n\nfunction changeImagesOnPDP() {\n    if (Kameleoon.API.CurrentVisit.device.type === 'Phone') {\n        Kameleoon.API.Core.runWhenElementPresent(selectors.mobilePDPContainer, () => {\n            pdpChangesMobile(selectors.mobileTextContainer);\n        });\n    } else {\n        Kameleoon.API.Core.runWhenElementPresent(selectors.pdpProductInfoContainer, () => {\n            pdpChanges(selectors.pdp2ndeLink, greenlabel);\n            pdpChanges(selectors.pdpOccasionLink, occasionLabel);\n\n            const createMutationObserver = (container) => {\n                const observer = new MutationObserver(() => {\n                    pdpChanges(selectors.pdp2ndeLink, greenlabel);\n                    pdpChanges(selectors.pdpOccasionLink, occasionLabel);\n                });\n        \n                observer.observe(container,  {\n                    childList: true, \n                    subtree: false, \n                    characterDataOldValue: false \n                });\n            };\n            createMutationObserver(document.querySelector('.f-productOffers-mpContent'));\n            \n        });\n    }\n\n    function pdpChanges(selector, img) {\n\n        Kameleoon.API.Core.runWhenElementPresent(selector, ([link]) => {\n\n            const parentContainer = link.parentElement;\n            if (parentContainer.querySelector('.kam-second-vie__img')) return;\n    \n            parentContainer.insertAdjacentHTML('afterbegin', img);\n            link.classList.add('kam__changed');\n            link.textContent = '';\n            if (document.querySelector(selectors.pdpStars)) {\n                document.querySelector(selectors.pdpStars).remove();\n                document.querySelector(selectors.pdpNumOfSellers).remove();\n            }\n\n            Kameleoon.API.Core.runWhenElementPresent(selectors.pdpInfoTitle, ([info]) => {\n                removeTitlesFromPDP(info,'dt','Pays d\\'expédition');\n                removeTitlesFromPDP(info,'dd','France métropolitaine');\n            });\n            \n            setRedirectionOnImg(parentContainer);\n\n            Kameleoon.API.Core.runWhenElementPresent(selectors.pdpSecondSpan, (span) =>{\n                span.forEach(span => {\n                    if (span.textContent.trim() === 'Fnac 2nde vie' || span.textContent.trim().includes('Darty Occasion')) {\n                        span.innerHTML = img;\n                        span.parentElement.querySelector(selectors.pdpSecondStars).remove();\n                        setRedirectionOnImg(span.parentElement);\n                    } \n                });\n            });\n\n            Kameleoon.API.Core.runWhenElementPresent(selectors.pdpAvaliability, ([avalibility]) => {\n                const text = avalibility.textContent.trim();\n                const wording = /vendeur partenaire/;\n\n                if (wording.test(text)) {\n                    avalibility.textContent = avalibility.textContent.replace(wording, '  ');\n                }\n            });\n\n        });\n    }\n\n\n    function pdpChangesMobile(selector) {\n        Kameleoon.API.Core.runWhenElementPresent(selector, ([text])=> {\n            const textContent = text.childNodes[1] ? text.childNodes[1].textContent.trim() : false;\n            if ( textContent && (textContent.match(/Vendu par Fnac 2nde vie/) || textContent.match(/Vendu par Darty Occasion/))) {\n                text.querySelector('.mpSellerInfo__icon').remove();\n                if (textContent.match(/Vendu par Fnac 2nde vie/)) { \n                    setContent(/Vendu par Fnac 2nde vie/, greenlabel);\n                } else {\n                    setContent(/Vendu par Darty Occasion/, occasionLabel);\n                }\n\n                Kameleoon.API.Core.runWhenElementPresent(selectors.mobileSellerDetails, ([text]) => {\n                    const textOfDetails = text.textContent.trim();\n                    if (textOfDetails.match(/Fnac 2nde vie/)) { \n                        setAdjustmendContent(text, greenlabel);\n                    } else if (textContent.match(/Darty Occasion/)) {\n                        setAdjustmendContent(text, occasionLabel);\n                    }\n                });\n\n                Kameleoon.API.Core.runWhenElementPresent(selectors.mobileSellerPartner, ([partner]) => {\n                    const text = partner.textContent.trim();\n                    const wording = /vendeur partenaire/;\n\n                    if (wording.test(text)) partner.remove();\n                });\n\n                setRedirectionOnImg(text);\n            }\n\n            function setContent(regExp, label) {\n                text.textContent = textContent.replace(regExp, '');\n                text.insertAdjacentHTML('afterbegin', '<br>');\n                text.insertAdjacentHTML('afterbegin', label);\n            }\n\n            function setAdjustmendContent(element, label) {\n                element.innerHTML = label;\n                setRedirectionOnImg(element.parentElement);\n                document.querySelector(selectors.mobileSellerLightDetails).remove();\n                document.querySelector(selectors.mobileRatingDetails).remove();\n                const expedition = document.querySelector(selectors.mobileExpeditionDetails);\n                if (expedition && expedition.textContent.trim().match(/Pays d'expédition/g)) {\n                    expedition.remove();\n                }\n            }\n        });\n    }\n\n    function removeTitlesFromPDP(container, selector, wording) {\n        container.querySelectorAll(selector).forEach(item => {\n            if (item.textContent.trim() === wording) {\n                item.remove();\n            }\n        });\n    }\n   \n}\n\nfunction changeImagesInCart() {\n\n    if (Kameleoon.API.CurrentVisit.device.type === 'Phone') {\n        changeImages(selectors.cartMobilepage);\n    } else {\n        changeImages(selectors.cartPage);\n    }\n\n    function changeImages(selector) {\n        Kameleoon.API.Core.runWhenElementPresent(selector, ([cartPage]) => {\n            cartPage.classList.add('kam-seconde-vie__changed');\n            Kameleoon.API.Core.runWhenElementPresent(selectors.cartSellerLabel, (sellerLabel) => {\n                sellerLabel.forEach(sellerLabel => {\n    \n                    const textOfLabel = sellerLabel.childNodes[0].textContent.trim();\n                    if (/Darty Occasion/.test(textOfLabel) || /Fnac 2nde vie/.test(textOfLabel)) {\n                        const stars = document.querySelector(selectors.cartStars);\n                        const icon1 = document.querySelector(selectors.cartIcon1);\n                        const img = /Fnac 2nde vie/.test(textOfLabel) ? greenlabel : occasionLabel;\n                        \n                        if (stars) stars.remove();\n                        if (icon1) icon1.remove();\n                        sellerLabel.childNodes[0].textContent = ''; \n                        sellerLabel.insertAdjacentHTML('afterbegin', img);\n                        setRedirectionOnImg(sellerLabel);\n                    } \n                });\n                \n            });\n        });\n    }\n}\n\nfunction changeImagesOnSecondeVie() {\n    const changeCarouselstItems = () => {\n        Kameleoon.API.Core.runWhenElementPresent('.Carousel-item:not(.kam-changed)', (carouselItem) => {\n            carouselItem.forEach((carousel) => {\n                carousel.classList.add('kam-changed');\n                const textItem = carousel.querySelector(selectors.sellerName);\n                const text = textItem ? textItem.textContent.trim() : '';\n                if (/Fnac 2nde vie/.test(text)) {\n                    setContent(smallGreenLabel, textItem, carousel);\n                } else if (/Darty Occasion/.test(text)) {\n                    setContent(smallOccasionLabel, textItem, carousel);\n                }\n                \n            });\n            changeCarouselstItems();\n\n            function setContent(label, textItem, carousel) {\n                textItem.innerHTML = label;\n                setRedirectionOnImg(textItem.parentNode);\n                carousel.querySelector(selectors.sellerName).href = '';\n            }\n        });\n    };\n\n    Kameleoon.API.Core.runWhenElementPresent(selectors.elementForWait, () => {\n        changeCarouselstItems();\n    });\n}\n\nfunction changeImagesInHistoryBlock() {\n    Kameleoon.API.Core.runWhenElementPresent(selectors.historyContainer, ([container]) => {\n        container.querySelectorAll(selectors.sellerName).forEach(name => {\n            const text = name.textContent.trim();\n            const parentContainer = name.parentNode.parentNode;\n            if (/Fnac 2nde vie/.test(text)) {\n                name.parentNode.innerHTML = smallGreenLabel;\n                setRedirectionOnImg(parentContainer);\n            } else if (/Darty Occasion/.test(text)) {\n                name.parentNode.innerHTML = smallOccasionLabel;\n                setRedirectionOnImg(parentContainer);\n            }\n        });\n    });\n}\n\nfunction setRedirectionOnImg(container) {\n    const newLabel = container.querySelector('.kam-second-vie__img');\n    Kameleoon.API.Utils.addUniversalClickListener(newLabel, \n        () => {\n            Kameleoon.API.Core.processRedirect(redirectionLink);\n            Kameleoon.API.Goals.processConversion(goals['Click on picto  Fnac-Darty Occasion']);\n        }\n    );\n}\n\nfunction listenAllRequests(url) {\n    const send = XMLHttpRequest.prototype.send;\n    XMLHttpRequest.prototype.send = function () {\n        this.addEventListener('load', function () {\n            if (this.responseURL.match(url)) {\n                changeImagesOnListPage();\n            }\n        });\n        return send.apply(this, arguments);\n    };\n}\n\n\n","afterDOMReady":false}},{"name":"Hide Toggle","id":490473,"css":"/* START CUSTOM */\n\n.beta-wrapper.js-betaWrapper {\n    display: none !important;\n}","elementSets":[]},{"name":"Variation 1","id":493479,"css":"","elementSets":[]},{"name":"Hide offres","id":496784,"css":"/* START CUSTOM */\n\nsection.FA-mp-offers.containerWithMargin {\n    display: none !important;\n}","elementSets":[]},{"name":"Variation 1","id":499277,"css":"","elementSets":[]},{"name":"Txt modifié","id":502177,"css":"/* START 918100 */\n\n/* END 918100 */\n\n","elementSets":[{"selector":".ma-Strate-mentions","options":{"htmlContent":"\n<p class=\"ma-Strate-mentions-title\">Vous pourrez à tout moment modifier vos préférences et vous désabonner de nos newsletters.<\u002fp>\n\n<p>Vous pouvez à tout moment modifier vos préférences et vous désabonner de nos newsletters ici. Ces informations sont traitées par FNAC DARTY PARTICIPATIONS ET SERVICES et FNAC DIRECT en tant que responsables de traitement à des fins de prospection commerciale y compris profilage. Si vous rencontrez des difficultés pour vos désinscrire, faites-nous parvenir une copie du dernier message reçu à l’adresse <a href=\"mailto:dpo@fnacdarty.com\">dpo@fnacdarty.com<\u002fa>.<\u002fp>\n\n<p>Vous pouvez exercer vos droits (accès, rectification, suppression, opposition, limitation, et portabilité le cas échéant) et définir le sort de vos données personnelles « post mortem » en vous laissant guider par l’agent conversationnel de la page <a href=\"https://www.fnac.com/Help/donneesPersonnelles\">https://www.fnac.com/Help/donneesPersonnelles<\u002fa> ou par courrier : FNAC DARTY service consommateur, le Flavia – 9 rue des Bateaux Lavoirs, 94768 Ivry-sur-Seine. Vous pouvez contacter le Délégué à la Protection des Données FNAC DARTY par email : <a href=\"mailto:dpo@fnacdarty.com\">dpo@fnacdarty.com<\u002fa>.<br>\nVous disposez enfin du droit d’introduire une réclamation auprès de la Commission Nationale de l’Informatique et des Libertés (CNIL) sur son site internet <a href=\"https://www.cnil.fr\" target=\"_blank\">www.cnil.fr<\u002fa>.<\u002fp>\n.\n\n<p>&nbsp;<\u002fp>\n","selector":".ma-Strate-mentions"},"currentQuery":null}]},{"name":"Avec bandeau","id":516506,"css":"/* START 929061 */\n\n#kameleoonElement929061 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #000000 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 1 !important;\n}\n\n/* END 929061 */\n\n/* START 929059 */\n\n/* END 929059 */\n\n","elementSets":[{"selector":"#kameleoonElement755244","options":{"idSelector":true,"selector":"#kameleoonElement755244"},"currentQuery":null},{"selector":"#kameleoonElement929061","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH98889-7f695461-3c59-4e69-b16a-bd42d1667765.jpg\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://www.fnac.com/Boutique-JBL/shi526102/w-4","domOperation":"INSERT_BEFORE","domReference":".f-searchBoxfilter","domReferenceCurrentQuery":"#content > div:first-child","selector":"#kameleoonElement929061"},"currentQuery":null}]},{"name":"NEW PICTO","id":520910,"css":"/* START 933613 */\n\n#kameleoonElement933607 {\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tborder-left: solid 1px #989898 !important;\n\tcolor: #989898 !important;\n\tfont-size: 13px !important;\n\tline-height: 1.43em !important;\n\tpadding-top: 0px !important;\n\tpadding-bottom: 0px !important;\n\tpadding-left: 10px !important;\n\tpadding-right: 10px !important;\n\tmargin: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: auto !important;\n\tz-index: auto !important;\n}\n\n/* END 933613 */\n\n/* START 933614 */\n\n#kameleoonId933614 {\n\tmargin-bottom: calc(0px - 0px) !important;\n\tmargin-right: calc(5px - 0px) !important;\n}\n\n/* END 933614 */\n\n","elementSets":[{"selector":"#kameleoonElement933607","options":{"replaceHtmlContent":"<li class=\"f-productReassurance-item js-articleShippingAndPaymentPopin\" style=\"\"><span class=\"f-productReassurance-label\"><img src=\"//ds1h54b9h1.kameleoon.eu/images/99849-8d5c11f7-e90a-4bf0-9462-4dfd36f65312.png\">&nbsp;Livraison dès le <b>lendemain<\u002fb><\u002fspan><\u002fli>","idSelector":true,"href":"https://www.fnac.com/livraison","domOperation":"INSERT_AFTER","domReference":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(2) > ul:first-child > li:nth-of-type(4)","domReferenceCurrentQuery":"body > div:nth-of-type(2) > div:first-child > div:first-child > section:nth-of-type(2) > ul:first-child > li:nth-of-type(4)","selector":"#kameleoonElement933607"},"currentQuery":null},{"selector":"#kameleoonElement933607 > span:first-child > img:first-child","options":{"kameleoonId":933614,"autoGeneratedSelector":true,"selector":"#kameleoonId933614"},"currentQuery":"#kameleoonElement933607 > span:first-child > img:first-child"}]},{"name":"HIDE & NEW BANNER 08/02","id":522211,"css":"/* START 934916 */\n\n.membership {\n\tdisplay: none !important;\n}\n\n/* END 934916 */\n\n/* START 934914 */\n\n/* END 934914 */\n\n/* START 934918 */\n\n/* END 934918 */\n\n/* START 934961 */\n\n#kameleoonElement934961 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\tcolor: #232323 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin-top: calc(20px + 0px) !important;\n\tmargin-bottom: calc(0px + 0px) !important;\n\tmargin-left: calc(0px + 0px) !important;\n\tmargin-right: calc(0px + 0px) !important;\n\theight: auto !important;\n\twidth: 100% !important;\n\tz-index: 11 !important;\n}\n\n/* END 934961 */\n\n/* START 934913 */\n\n#kameleoonElement896831 {\n\tborder: none !important;\n\tletter-spacing: normal !important;\n\topacity: 1.0 !important;\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n\tfilter: alpha(opacity=100);\n\tbackground-color: transparent !important;\n\tbackground-image: none !important;\n\twidth: 890px !important;\n\theight: 110px;\n\tcolor: #232323 !important;\n\tfont-size: 16px !important;\n\tline-height: 1.5em !important;\n\tpadding: 0px !important;\n\tmargin: calc(0px + 0px) !important;\n\tz-index: 51 !important;\n}\n\n/* END 934913 */\n\n/* START 934915 */\n\n/* END 934915 */\n\n/* START 934917 */\n\n/* END 934917 */\n\n","elementSets":[{"selector":"#kameleoonElement896831","options":{"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"//ds1h54b9h1.kameleoon.eu/images/100061-fba17971-339c-4180-8a1d-4b9276b93fee.jpg\" />","idSelector":true,"href":"https://secure.fnac.com/basket/add?productId=14876194","domOperation":"INSERT_BEFORE","domReference":"#root > div:first-child > section:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:nth-of-type(4)","domReferenceCurrentQuery":"#root > div:first-child > section:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:nth-of-type(4)","selector":"#kameleoonElement896831"},"currentQuery":null},{"selector":"#kameleoonElement119670","options":{"idSelector":true,"selector":"#kameleoonElement119670"},"currentQuery":null},{"selector":"#kameleoonElement896837","options":{"idSelector":true,"selector":"#kameleoonElement896837"},"currentQuery":null},{"selector":".membership","options":{"selector":".membership"},"currentQuery":null},{"selector":"#kameleoonElement896832","options":{"idSelector":true,"selector":"#kameleoonElement896832"},"currentQuery":null},{"selector":"#kameleoonElement911638","options":{"idSelector":true,"selector":"#kameleoonElement911638"},"currentQuery":null},{"selector":"#kameleoonElement934961","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH100063-e3e7bdd7-7c09-4a8c-90bd-a6eb528c70a0.png\" height=\"150px\" width=\"480px\" />","idSelector":true,"href":"https://secure.fnac.com/basket/add?productId=14876194","domOperation":"INSERT_BEFORE","domReference":"#root > div:first-child > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(4)","domReferenceCurrentQuery":"#root > div:first-child > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(4)","selector":"#kameleoonElement934961"},"currentQuery":null}]},{"name":"Variation 1","id":351385,"css":"/* START CUSTOM */\n\n#kHeaderCountry{\n\tposition: fixed;\n    width: 100%;\n    height: 90px;\n    z-index: 1350;\n    top: 0;\n    background: #5F5F5F;\n    min-width: 100%;\n    left: 0;\n    color : white;\n}\n#kHeaderCountry #kCloseH{\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    font-style: normal;\n    font-size: 20px;\n    background: white;\n    width: 27px;\n    height: 27px;\n    color: #5F5F5F;\n    text-align: center;\n    border-radius: 50%;\n    cursor: pointer;\n}\n#kHeaderCountry .kWrapper{\n\tmax-width: 600px;\n\tmargin : 0 auto;\n    padding : 33px 0 32px 0;\n    font-size: 18px;\n}\n#kHeaderCountry .kWrapper > a,\n#kHeaderCountry .kWrapper > span {\n    color : white;\n    font-weight: bold;\n}\n#kHeaderCountry img{\n    position: absolute;\n    top: 0;\n    left: 70px;\n}\n#kHeaderCountry #kLinkSite{\n    width: 178px;\n    height: 40px;\n    border: 1px solid #f2f2f2;\n    position: absolute;\n    top: 25px;\n    right: 110px;\n    border-radius: 5px;\n    padding: 10px;\n    text-align: center;\n    color: white;\n    cursor: pointer;\n    font-size: 13px;\n}\n@media screen and (max-width: 1140px) {\n    #kHeaderCountry img{\n        left: 0;\n    }\n    #kHeaderCountry .kWrapper{\n        margin-left: 182px;\n    }\n}\n@media screen and (max-width: 920px) {\n    #kHeaderCountry .kWrapper{\n        font-size: 14px\n    }\n    #kHeaderCountry #kLinkSite{\n        font-size: 11px;\n        width: 120px;\n        height: 30px;\n        padding: 7px;\n        top: 30px;\n        right : 80px;\n    }\n    #kHeaderCountry #kCloseH{\n        top: 30px;\n    }\n}\n/****************************/\n\n.Header,\n.home-page .Main-marketingHeader,\n.Main-marketingHeader,\n.Sidebar,\n.Main,\n.CategoryNav-panel,\n.Shutter-wrapper,\n.SlideNav-toggler,\nbody.search .Sidebar {\n    -webkit-transition: all .2s ease-in-out;\n    -moz-transition: all .2s ease-in-out;\n    -o-transition: all .2s ease-in-out;\n    transition: all .2s ease-in-out;\n}\n\n.Header--new{\n\ttop : 90px !important;\n}\n.home-page .Main-marketingHeader,\n.Main-marketingHeader{\n\ttop : 150px;\n}\n.Sidebar{\n\ttop : 150px;\n}\n.Main{\n\tpadding-top: 192px;\n}\n.CategoryNav-panel{\n\ttop: 150px;\n}\n.Shutter-wrapper{\n\ttop : 150px;\n}\n@media (min-width: 769px){\n  .SlideNav {\n        top: 152px;\n    }\n}\n.SlideNav-toggler{\n    top : 150px;\n}\n\nbody.search .Sidebar{\n    top : 150px;\n}\n\n.Header__burger-link{\n    top : 90px;\n}\nbody.home .Sidebar{\n    top : 150px;\n}\n/****************************/\nbody.home.kSlideup .Sidebar{\n    top: 62px;\n}\nbody.kSlideup .Header__burger-link{\n    top : 0px;\n}\nbody.kSlideup .Header--new{\n\ttop : 0 !important;\n}\nbody.kSlideup .Sidebar{\n\ttop : 75px;\n}\nbody.kSlideup.home-page .Main-marketingHeader,\nbody.kSlideup .Main-marketingHeader{\n\ttop : 75px;\n}\nbody.kSlideup .Main{\n\tpadding-top: 115px;\n}\nbody.kSlideup .CategoryNav-panel{\n\ttop: 75px;\n}\nbody.kSlideup .Shutter-wrapper{\n\ttop : 75px;\n}\n@media (min-width: 769px){\n  body.kSlideup .SlideNav{\n        top: 116px;\n    }\n}\nbody.kSlideup .SlideNav-toggler{\n    top : 75px;\n}\nbody.search.kSlideup .Sidebar{\n    top : 75px;\n}\nbody.kSlideup #kHeaderCountry{\n    display: none;\n}\n\nbody.Header__burger-link{\n  top : 90px;\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof jQuery != \"undefined\" && jQuery(\"header.Header--new\").length > 0;\n}, function () {\n\n    country_user = Kameleoon.API.CurrentVisit.geolocation.country;\n    bool_affichage = false;\n\n    // Belgique FR\n    if (country_user == \"Belgium\") {\n        bool_affichage = true;\n        new_country = \"Êtes-vous en <span>Belgique<\u002fspan> ?\";\n        new_site_cta = \"Visitez notre site belge\";\n        new_url = \"fnac.be\";\n        new_link = \"https://www.fr.fnac.be/\";\n\n        cta_site = \"Voir le site\";\n\n        svg_country = \"belgique flag.svg\";\n    }\n\n    // Belgique FL\n    if (country_user == \"Belgium\" && (Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-BE\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"fr-NL\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-nl\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-be\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-nl\")) {\n        bool_affichage = true;\n        new_country = \"Woon je in <span>België<\u002fspan> ?\";\n        new_site_cta = \"Kom een kijkje nemen op\";\n        new_url = \"fnac.be\";\n        new_link = \"https://www.nl.fnac.be/\";\n\n        cta_site = \"Naar de website\";\n\n        svg_country = \"belgique flag.svg\";\n    }\n\n    // Suisse\n    if (country_user == \"Switzerland\") {\n        bool_affichage = true;\n        new_country = \"Êtes-vous en <span>Suisse<\u002fspan> ?\";\n        new_site_cta = \"Visitez notre site suisse\";\n        new_url = \"fnac.ch\";\n        new_link = \"https://www.fr.fnac.ch/\";\n\n        cta_site = \"Voir le site\";\n\n        svg_country = \"suisse flag.svg\";\n    }\n\n    // Espagne\n    if (country_user == \"Spain\") {\n        bool_affichage = true;\n        new_country = \"¿Navegas desde <span>España<span>?\";\n        new_site_cta = \"Visita nuestra web española\";\n        new_url = \"fnac.es\";\n        new_link = \"https://www.fnac.es/\";\n\n        cta_site = \"Véase el sitio\";\n\n        svg_country = \"spain flag.svg\";\n    }\n\n    // Portugal\n    if (country_user == \"Portugal\") {\n        bool_affichage = true;\n        new_country = \"Em <span>Portugal<span>?\";\n        new_site_cta = \"Ir para <a href='http://www.fnac.pt/'>www.fnac.pt<\u002fa> para navegar em português\";\n        new_url = \"\";\n        new_link = \"https://www.fnac.pt/\";\n\n        cta_site = \"Ir para fnac.pt\";\n\n        svg_country = \"portugal flag.svg\";\n    }\n\n    if (bool_affichage) {\n        new_header = \"<header id='kHeaderCountry' style='display:none;'><img src='//storage.kameleoon.com/fnac/country/\" + svg_country + \" '/><div class='kWrapper'>\" + new_country + \" \" + new_site_cta + \" <a href='\" + new_link + \"'>\" + new_url + \"<\u002fa><\u002fdiv><a id='kLinkSite' href='\" + new_link + \"'>\" + cta_site + \"<\u002fa><i id='kCloseH'>X<\u002fi><\u002fheader>\";\n        position_header = jQuery(\"header.Header--new\");\n        jQuery(new_header).insertBefore(position_header);\n        jQuery(\"#kHeaderCountry\").slideDown();\n    }\n\n\n    jQuery(\"#kCloseH\").on(\"click\", function (e) {\n        document.cookie = \"kBandeauCountry=true;path=/;domain=.fnac.com;expires=10000;\";\n        jQuery(\"#kHeaderCountry\").slideUp();\n        jQuery(\"body\").addClass(\"kSlideup\");\n    });\n\n\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":351403,"css":"/* START CUSTOM */\n\n#kHeaderCountry{\n    position: fixed;\n    width: 100%;\n    height: 90px;\n    z-index: 1350;\n    top: 0;\n    background: #5F5F5F;\n    min-width: 100%;\n    left: 0;\n    color : white;\n    font-family: \"Roboto\", Helvetica, Arial, sans-serif;\n}\n#kHeaderCountry #kCloseH{\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    font-style: normal;\n    font-size: 20px;\n    background: white;\n    width: 27px;\n    height: 27px;\n    color: #5F5F5F;\n    text-align: center;\n    border-radius: 50%;\n    cursor: pointer;\n}\n#kHeaderCountry .kWrapper{\n    max-width: 600px;\n    margin-left : 55px;\n    padding : 5px 0;\n    font-size: 14px;\n}\n#kHeaderCountry .kWrapper > a,\n#kHeaderCountry .kWrapper > span {\n    color : white;\n    font-weight: bold;\n}\n#kHeaderCountry img{\n    position: absolute;\n    top: 0;\n    left : 0;\n}\n\n#kHeaderCountry #kLinkSite{\n    width: 118px;\n    height: 30px;\n    border: 1px solid #f2f2f2;\n    position: absolute;\n    bottom: 8px;\n    left: 55px;\n    border-radius: 5px;\n    padding: 5px;\n    text-align: center;\n    color: white;\n    cursor: pointer;\n    font-size: 13px;\n}\n#kHeaderCountry .kWrapper span{\n    font-weight: bold;\n}\n#kHeaderCountry .kWrapper a{\n    color: white;\n    font-weight: bold;\n}\n/****************************/\n\n/* HEADER POSITION TOP */\n\n\nheader.f-header.js-header,\n.Home #content,\n#sideNav.f-sideNav-conntainer{\n    -webkit-transition: all .2s ease-in-out;\n    -moz-transition: all .2s ease-in-out;\n    -o-transition: all .2s ease-in-out;\n    transition: all .2s ease-in-out;\n}\n\nheader.f-header.js-header{\n    top : 90px;\n}\n.Home #content{\n    margin-top: 100px;\n}\n#sideNav.f-sideNav-conntainer{\n    top : 142px;\n}\n.Search #content, .SousHome #content{\n    margin-top: 90px;\n}\n.FA #content{\n    margin-top : 90px;\n}\n#content{\n    margin-top: 95px;\n}\n/****************************/\nbody.kSlideup header.f-header.js-header{\n    top : 0;\n}\n\nbody.kSlideup .Home #content{\n    margin-top: 0;\n}\nbody.kSlideup #sideNav.f-sideNav-conntainer{\n    top : 52px;\n}\nbody.kSlideup .Search #content, body.kSlideup.SousHome #content{\n    margin-top: 0;\n}\nbody.kSlideup .FA #content{\n    margin-top : 0px;\n}\nbody.kSlideup #content{\n    margin-top: 0;\n}","elementSets":[],"javaScriptCode":{"code":"//MOBILE\n\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof jQuery != \"undefined\" && jQuery(\".f-header.js-header\").length > 0;\n}, function () {\n\n    country_user = Kameleoon.API.CurrentVisit.customData[\"Country\"];\n    bool_affichage = false;\n\n    // Belgique FR\n    if (country_user == \"Belgium\") {\n        bool_affichage = true;\n        new_country = \"Êtes-vous en <span>Belgique<\u002fspan> ?\";\n        new_site_cta = \"Visitez notre site belge\";\n        new_url = \"fnac.be\";\n        new_link = \"https://www.fr.fnac.be/\";\n\n        cta_site = \"Voir le site\";\n\n        svg_country = \"M belgique flag.svg\";\n    }\n\n    // Belgique FL\n    if (country_user == \"Belgium\" && (Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"fr\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"fr-NL\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-nl\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-be\" || Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] == \"nl-nl\")) {\n        bool_affichage = true;\n        new_country = \"Woon je in <span>België<\u002fspan> ?\";\n        new_site_cta = \"Kom een kijkje nemen op\";\n        new_url = \"fnac.be\";\n        new_link = \"https://www.nl.fnac.be/\";\n        cta_site = \"Naar de website\";\n        svg_country = \"M belgique flag.svg\";\n    }\n\n\n    // Suisse\n    if (country_user == \"Switzerland\") {\n        bool_affichage = true;\n        new_country = \"Êtes-vous en <span>Suisse<\u002fspan> ?\";\n        new_site_cta = \"Visitez notre site suisse\";\n        new_url = \"fnac.ch\";\n        new_link = \"https://www.fr.fnac.ch/\";\n\n        cta_site = \"Voir le site\";\n\n        svg_country = \"M suisse flag.svg\";\n    }\n\n    // Espagne\n    if (country_user == \"Spain\") {\n        bool_affichage = true;\n        new_country = \"¿Navegas desde <span>España<span>?\";\n        new_site_cta = \"Visita nuestra web española\";\n        new_url = \"fnac.es\";\n        new_link = \"https://www.fnac.es/\";\n\n        cta_site = \"Véase el sitio\";\n\n        svg_country = \"M spain flag.svg\";\n    }\n\n    // Portugal\n    if (country_user == \"Portugal\") {\n        bool_affichage = true;\n        new_country = \"Em <span>Portugal<span>?\";\n        new_site_cta = \"Ir para <a href='http://www.fnac.pt/'>www.fnac.pt<\u002fa> para navegar em português\";\n        new_url = \"\";\n        new_link = \"https://www.fnac.pt/\";\n\n        cta_site = \"Ir para fnac.pt\";\n\n        svg_country = \"M portugal flag.svg\";\n    }\n\n    if (bool_affichage) {\n        new_header = \"<div id='kHeaderCountry'><img src='//storage.kameleoon.com/fnac/country/\" + svg_country + \"'/><div class='kWrapper'><div>\" + new_country + \"<\u002fdiv><div>\" + new_site_cta + \"<a href='\" + new_link + \"'> \" + new_url + \"<\u002fa><\u002fdiv><\u002fdiv><a id='kLinkSite' href='\" + new_link + \"'>\" + cta_site + \"<\u002fa><i id='kCloseH'>X<\u002fi><\u002fdiv>\";\n        position_header = jQuery(\".f-header.js-header\");\n        jQuery(new_header).insertBefore(position_header);\n    }\n\n\n    jQuery(\"#kCloseH\").on(\"click\", function (e) {\n        document.cookie = \"kBandeauCountryM=true;path=/;domain=.fnac.com;expires=10000;\";\n        jQuery(\"#kHeaderCountry\").slideUp();\n        Kameleoon.API.Goals.processConversion(137982);\n        jQuery(\"body\").addClass(\"kSlideup\");\n    });\n\n    jQuery(\"#kLinkSite\").on(\"click\", function (e) {\n        Kameleoon.API.Goals.processConversion(137983);\n    });\n\n\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":493813,"css":"","elementSets":[],"javaScriptCode":{"code":"var _frf=document.createElement('script');_frf.async=!0;_frf.setAttribute(\"type\",\"text/javascript\");_frf.setAttribute(\"src\", \"https://inj.luckycycle.com/znJefQ4eRMYCAA.js\");document.getElementsByTagName(\"head\")[0].appendChild(_frf);","afterDOMReady":false}},{"name":"Variation 1","id":476816,"css":"/* START CUSTOM */\n\n.valider-link-mobile {\n    display: inline-block;\n    width: 128px;\n    padding: 12px 0 14px;  \n    margin: 20px 0;\n    border-radius: 3px;\t\n    background-color: #f5af33;\t\n    box-shadow: inset 0 -3px 0 0 #f5af33;\n    text-decoration: none;\t\n    color: #FFFFFF;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 10px;\t\n    font-weight: bold;\t\n    letter-spacing: 0.1px;\t\n    line-height: 1.7;\n    text-align: center;\n    float: right;\n}\n\n.k_popup-mobile {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 80px;\t\t\n    background-color: #FFFFFF;\t\n    box-shadow: 0 -3px 4px 0 rgba(69,69,69,0.1);\n    display: block;\n    padding: 0 20px 0 15px;\n    z-index: 9999;\n}\n\n.k_popup-mobile span {\n    color: #232323;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 15px;\t\n    line-height: 20px;\t\n    text-align: center;\n    float: left;\n\tdisplay: inline-block;\n    padding: 30px 0;\n}\n\n@media (max-width: 340px) {\n\t.valider-link-mobile {\n        width: 100px;\n\t}    \n}\n\n.k_popup-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(35,35,35,0.7);\n    z-index: 9999;\n}\n.popup {\n    box-sizing: border-box;\t\n    background-color: #ffffff;\n    text-align: center;\n    padding: 15px 20px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\t\n    width: 100%;\t\n    border-radius: 5px 5px 0 0;\t\n    overflow: auto;\n}\n\n.popup img {\n    width: 140px;\n}\n\n.popup__answer {\n    color: #232323;\t\n    font-family: 'Open Sans Bold', Arial, sans-serif;\t\n    font-size: 15px;\t\n    font-weight: bold;\t\n    line-height: 19px;\n    text-align: center;\n    margin-top: 15px;\n    margin-bottom: 10px;\n}\n\n.popup__note {\n    color: #989898;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 13px;\t\n    line-height: 17px;\n    text-align: center;\n    margin: 10px auto;\n  \tmax-width: 500px;\n}\n\n.valider-link {\n    display: block;\n    margin: 10px auto; \n    text-decoration: none;\n    color: #fff;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 13px;\t\n    font-weight: bold;\t\n    letter-spacing: 0.1px;\t\n    line-height: 15px;\t\n    text-align: center;\n    padding: 14px 0;\n    width: 100%;\n    border-bottom: 3px solid #aaa;\n    border-radius: 5px;\n    background: #ddd;\n  \tmax-width: 500px;\n}\n.unvalaideLink {\n\tbackground: #f5af33;\n \tborder-bottom: 3px solid #f5af33;\n}\n\n.valider-link:hover {\n\tborder-color: #232323;\n\ttext-decoration: none;\n\tcolor: #232323;\n}\n\n.popup__grade-scale {\n    position: relative;\n    \n    display: block;\n}\n\n.grade {\n    box-sizing: border-box;\n    height: 24px;\t\n    width: 100%;\n    background-color: #F8444F;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 16px;\n    line-height: 1.35;\n    cursor: pointer;\n    transition: border .2 linear;\n}\n\n.grade:hover {\n\tborder: 2px solid #232323;\n}\n\n.grade_0-3 {\n    background-color: #F8444F;\n    border: 2px solid #F8444F;\n}\n\n.grade_4-6 {\n\tbackground-color: #FE9844;\n\tborder: 2px solid #FE9844;\n}\n\n.grade_7-8 {\n    background-color: #FEB902;\n    border: 2px solid #FEB902;\n}\n\n.grade_9-10 {\n    background-color: #86BF5E;\n    border: 2px solid #86BF5E;\n}\n\n.popup__close {\n    height: 28px;\t\n    width: 28px;\t\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n}\n\n.line1 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #aaa;\n    transform: rotate(45deg);\n}\n\n.line2 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #aaa;\n    transform: rotate(-45deg);\n}\n\n.radio-btn {\n    display: none;\n}\n\n.radio-btn:checked + .grade {\n    border: 2px solid #232323;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label {\n    width: 100%;\n    display: block;\n    line-height: 1.35;\n    font-weight: normal;\n  \tmargin: auto;\n    margin-bottom: 5px;\n    text-align: left;\n    text-indent: 17px;\n  \tmax-width: 500px;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label::before, input[type=radio]+label::after {\n\tdisplay: none;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=checkbox]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=checkbox]:not(:checked)+label:hover:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:not(:checked)+label:hover:after {\n\tdisplay: none;\n}\n#grade-10 ~ .grade.grade_9-10 {\n  text-indent: 12px !important;\n}\n.popup_p_err {\n\tcolor: #d3382d;\n  \tfont: 11px \"Arial\";\n    margin-top: 10px;\n}","elementSets":[],"javaScriptCode":{"code":"var newsLetter = document.createElement('div');\nnewsLetter.innerHTML = '' +\n    '<div class=\"k_popup-mobile\">' +\n    '<span>Donnez-nous votre avis<\u002fspan>' +\n    '<a href=\"#\" class=\"valider-link-mobile\" target=\"_blank\">Je participe<\u002fa>' +\n    '<\u002fdiv>';\n\nvar windHei = window.screen.height > 568 ? window.screen.height : 568;\nvar positionTop = windHei - 736;\nvar heightLabel = 24,\n    fontSize = 16,\n    lineHeight = 135;\nvar delHw = 168,\n    // delta of min and max window height\n    delF = 4,\n    // delta of min and max font-size\n    delHb = 16,\n    // delta of min and max block height\n    delLh = 70; // delta of min and max line-height (x100)\n\nif (windHei < 736) {\n    positionTop = 0;\n}\n\nvar calculateVariable = function calculateVariable(value, delta, maxValue) {\n    var multi = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    value = Math.round((736 - windHei) * multi / (delHw * multi / delta));\n\n    if (value <= 0) {\n        value = maxValue;\n    } else {\n        value = maxValue - value;\n    }\n\n    return value / multi;\n};\n\nheightLabel = calculateVariable(heightLabel, delHb, 40);\nfontSize = calculateVariable(fontSize, delF, 20);\nlineHeight = calculateVariable(lineHeight, delLh, 175, 100);\nlineHeight = lineHeight > 1.35 ? lineHeight : 1.35;\nvar paddingTopBottom = positionTop / 6;\npositionTop -= paddingTopBottom * 2;\n\nvar ratingLetter = document.createElement('div');\nratingLetter.innerHTML = '' +\n    '<div class=\"k_popup-container\">' +\n    '<div class=\"popup\" style=\"padding: ' + (15 + paddingTopBottom) + 'px 20px; top: ' + positionTop + 'px\">' +\n    '<p class=\"popup__answer\">Suite &agrave votre exp&#233;rience sur le site Fnac.com, recommanderiez-vous Fnac.com &agrave; votre entourage ?<\u002fp>' +\n    '<p class=\"popup__note\">0 signifiant que vous ne recommanderiez absolument pas Fnac et 10 que vous le recommanderiez totalement. <\u002fp>' +\n    '<div class=\"popup__grade-scale\">' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-0\" class=\"radio-btn\" value=\"11012\">' +\n    '<label for=\"grade-0\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">0<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-1\" class=\"radio-btn\" value=\"11013\">' +\n    '<label for=\"grade-1\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">1<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-2\" class=\"radio-btn\" value=\"11014\">' +\n    '<label for=\"grade-2\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">2<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-3\" class=\"radio-btn\" value=\"11015\">' +\n    '<label for=\"grade-3\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">3<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-4\" class=\"radio-btn\" value=\"11016\">' +\n    '<label for=\"grade-4\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">4<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-5\" class=\"radio-btn\" value=\"11017\">' +\n    '<label for=\"grade-5\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">5<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-6\" class=\"radio-btn\" value=\"11018\">' +\n    '<label for=\"grade-6\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">6<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-7\" class=\"radio-btn\" value=\"11019\">' +\n    '<label for=\"grade-7\" class=\"grade grade_7-8\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">7<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-8\" class=\"radio-btn\" value=\"11020\">' +\n    '<label for=\"grade-8\" class=\"grade grade_7-8\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">8<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-9\" class=\"radio-btn\" value=\"11021\">' +\n    '<label for=\"grade-9\" class=\"grade grade_9-10\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">9<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-10\" class=\"radio-btn\" value=\"11022\">' +\n    '<label for=\"grade-10\" class=\"grade grade_9-10\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">10<\u002flabel>' +\n    '<\u002fdiv>' +\n    '<a href=\"#\" class=\"valider-link\" target=\"_blank\">Continuer<\u002fa>' +\n    '<div class=\"popup__close\">' +\n    '<div class=\"line1\"><\u002fdiv>' +\n    '<div class=\"line2\"><\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>';\n\ndocument.body.insertAdjacentElement('afterBegin', newsLetter);\nnewsLetter.querySelector('.valider-link-mobile').addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n    e.preventDefault();\n    if (!Kameleoon.API.Utils.touchMoveEvent) {\n        document.body.removeChild(newsLetter);\n        document.body.insertAdjacentElement('afterBegin', ratingLetter);\n        var validerLink = ratingLetter.querySelector('.valider-link');\n        var pop_err = false;\n        var radioBtn = document.querySelectorAll('.radio-btn');\n        [].slice.call(radioBtn).forEach(function (e) {\n            e.addEventListener('click', function () {\n                validerLink.classList.add('unvalaideLink');\n                var errorMessage = document.querySelector('.popup_p_err');\n                if (errorMessage) {\n                    document.querySelector('.popup').removeChild(errorMessage);\n                }\n            });\n        });\n        var closePopup = ratingLetter.querySelector('.popup__close');\n        closePopup.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n            if (!Kameleoon.API.Utils.touchMoveEvent) {\n                Kameleoon.API.Goals.processConversion(143280);\n                setTimeout(function () {\n                    document.body.removeChild(ratingLetter);\n                }, 0);\n            }\n        });\n        validerLink.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n            e.preventDefault();\n            if (!Kameleoon.API.Utils.touchMoveEvent) {\n                for (var i = 0; i < radioBtn.length; i++) {\n                    if (radioBtn[i].checked) {\n                        var grade_type = radioBtn[i].value;\n                    }\n                }\n                if (grade_type !== undefined) {\n                    var userId = typeof tc_vars !== 'undefined' && tc_vars['user_id'] ? tc_vars['user_id'] : '';\n\n                    var timestamp = Math.round(new Date().getTime() / 1000);\n\n                    var data = JSON.stringify({\n                        \"source\": \"Fnac.com\",\n                        \"str_fnac_darty\": \"Fnac.com\",\n                        \"fnac_darty_id\": userId,\n                        \"type_adh\": \"\",\n                        \"type_parcours\": \"\",\n                        \"type_achat\": \"\",\n                        \"nps\": grade_type,\n                        \"timestamp\": timestamp\n                    });\n                    var xhr = new XMLHttpRequest();\n                    xhr.open(\"POST\", 'https://customers.kameleoon.com/fnac/colorado/', true);\n                    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                    xhr.onreadystatechange = function () {\n                        if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n                            console.log(this.responseText);\n                            const xhrResponse = JSON.parse(this.responseText);\n                            if (xhrResponse.status === 'success') {\n                                // validerLink.href = `https://cawi.consumer-live.com/questionnaire/98/fr/?encodedData=${xhrResponse.message}`;\n\n                                const redirect = 'https://cawi.consumer-live.com/questionnaire/98/encoded/' + xhrResponse.message + '/fr'\n                                window.open(redirect, '_blank');\n                            }\n                        }\n                    };\n                    xhr.send(data);\n                    //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/98?source=Fnac.com&str_fnac_darty=Fnac.com&fnac_darty_id=' + userId + '&nps=' + grade_type + '&language=fr';\n                    Kameleoon.API.Goals.processConversion(143279);\n                    //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/98?source=Fnac.com&str_fnac_darty=Fnac.com&nps=' + grade_type + '&language=fr';\n                    setTimeout(function () {\n                        document.body.removeChild(ratingLetter);\n                    }, 0);\n                } else if (grade_type === undefined) {\n                    e.preventDefault();\n                    if (!pop_err) {\n                        validerLink.insertAdjacentHTML('afterEnd', '<p class=\"popup_p_err\">*Merci de renseigner une note<\u002fp>');\n                    }\n                    pop_err = true;\n                }\n            }\n        });\n    }\n});\n\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_NPS_Mobile_Visiteur');\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":476811,"css":"/* START CUSTOM */\n\n.k_popup-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(255,255,255,0.3);\n    z-index: 99999;\n}\n.popup  {\n    box-sizing: border-box;\n    height: 588px;\n    width: 630px;\n    background-color: #ffffff;\n    text-align: center;\n    border-radius: 10px;\n    padding: 50px;\n    position: absolute;\n    box-shadow: 0 0 15px #ccc;\n    left: 50%;\n    top: 50%;\n\ttransform: translate(-50%, -50%);\n\tfont-size: 16px;\n}\n\n.popup__strong {\n\tcolor: #989898 !important;\n}\n\n.popup img {\n    width: 140px;\n\tmargin: 20px auto;\n}\n\n.popup__answer {\n    color: #232323;\n    font-family: 'Open Sans Bold', Arial, sans-serif;\n    font-size: 18px;\n    font-weight: bold;\n    line-height: 21px;\n    text-align: center;\n    margin: 23px auto 18px;\n\n}\n\n.popup__note {\n    color: #989898;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 15px;\n    line-height: 18px;\n    text-align: center;\n    margin: 23px auto 25px;\n}\n\n.valider-link {\n    display: block;\n    width: 350px;\n    margin: 24px auto;\n    padding: 12px 0 14px;\n    border-radius: 5px;\n    background-color: #ccc;\n    border-bottom: 3px solid #999;\n    text-decoration: none;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 0.1px;\n    line-height: 14px;\n    text-align: center;\n}\n.valider-link {\n\ttext-decoration: none !important;\n\tcolor: #fff !important;\n}\n.valide__err {\n  background-color: #f5af33;\n  border-bottom: 3px solid #f5af33;\n  box-shadow: inset 0 -3px 0 0 #f5af33;\n}\n\n\n.popup__grade-scale {\n    position: relative;\n    padding-bottom: 46px;\n    display: block;\n\tpadding-top: 30px;\n}\n\n.grade {\n    box-sizing: border-box;\n    margin-right: 1px;\n    display: inline-block;\n    height: 40px;\n    width: 40px;\n    background-color: #F8444F;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Roboto, sans-serif;\n    font-size: 20px;\n    line-height: 1.7;\n    text-align: center;\n    cursor: pointer;\n    transition: border .2 linear;\n}\n\n.grade:hover {\n\tborder: 2px solid #232323;\n}\n\n.grade_0-3 {\n    background-color: #F8444F;\n    border: 2px solid #F8444F;\n}\n\n.grade_4-6 {\n\tbackground-color: #FE9844;\n\tborder: 2px solid #FE9844;\n}\n\n.grade_7-8 {\n    background-color: #FEB902;\n    border: 2px solid #FEB902;\n}\n\n.grade_9-10 {\n    background-color: #86BF5E;\n    border: 2px solid #86BF5E;\n}\n\n.popup__grade-scale::before, .popup__grade-scale::after {\n    color: #989898;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 13px;\n    line-height: 15px;\n    height: 40px;\n    width: 75px;\n    padding-top: 30px;\n}\n\n.popup__grade-scale::before {\n    content: 'Pas du tout';\n    position: absolute;\n    top: 72px;\n    left: -8px;\n    background: url(https://storage.kameleoon.eu/darty/flash.png) no-repeat;\n    background-position: bottom 13px center;\n}\n\n.popup__grade-scale::after {\n    content: 'Tout \\E0  fait';\n    position: absolute;\n    top: 72px;\n    right: -7px;\n    background: url(https://storage.kameleoon.eu/darty/heart.png) no-repeat;\n    background-position: bottom 13px center;\n}\n\n.popup__close {\n    border: 2px solid #666;\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    cursor: pointer;\n}\n\n.line1 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #232323;\n    transform: rotate(45deg);\n}\n\n.line2 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #232323;\n    transform: rotate(-45deg);\n}\n\n.radio-btn {\n    display: none;\n}\n\n.radio-btn:checked + .grade {\n    border: 2px solid #232323;\n}\n\n.popup_p_err {\n  color: #d3382d;\n  font: 11px \"Arial\";\n  margin-top: -15px;\n}\n.k_popup-container input[type=radio]+label {\n  margin-left: 0 !important;\n  line-height: 1.7 !important;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label::before, input[type=radio]+label::after {\n\tdisplay: none;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=checkbox]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=checkbox]:not(:checked)+label:hover:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:not(:checked)+label:hover:after {\n\tdisplay: none;\n}","elementSets":[],"javaScriptCode":{"code":"var newsletter = '' +\n    '<div class=\"k_popup-container\">' +\n    '<div class=\"popup\">' +\n    '<img src=\"https://storage.kameleoon.eu/fnac/fnac.png\" alt=\"darty_logo\">' +\n    '<p class=\"popup__answer\">Vous avez réalis&#233; un achat sur le site Fnac.com.<br>Suite &agrave cette expérience, recommanderiez-vous Fnac.com &agrave; votre entourage ?<\u002fp>' +\n    '<p class=\"popup__note\"><div class=\"popup__strong\">Veuillez indiquer une note entre 0 et 10, 0 signifiant que vous ne recommanderiez absolument pas<br> Fnac et 10 que vous le recommanderiez totalement. <br>Les notes interm&#233;diaires vous permettent de nuancer votre jugement.<\u002fp><\u002fdiv>' +\n    '<div class=\"popup__grade-scale\">' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-0\" class=\"radio-btn\" value=\"11179\">' +\n    '<label for=\"grade-0\" class=\"grade grade_0-3\">0<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-1\" class=\"radio-btn\" value=\"11180\">' +\n    '<label for=\"grade-1\" class=\"grade grade_0-3\">1<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-2\" class=\"radio-btn\" value=\"11181\">' +\n    '<label for=\"grade-2\" class=\"grade grade_0-3\">2<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-3\" class=\"radio-btn\" value=\"11182\">' +\n    '<label for=\"grade-3\" class=\"grade grade_0-3\">3<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-4\" class=\"radio-btn\" value=\"11183\">' +\n    '<label for=\"grade-4\" class=\"grade grade_4-6\">4<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-5\" class=\"radio-btn\" value=\"11184\">' +\n    '<label for=\"grade-5\" class=\"grade grade_4-6\">5<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-6\" class=\"radio-btn\" value=\"11185\">' +\n    '<label for=\"grade-6\" class=\"grade grade_4-6\">6<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-7\" class=\"radio-btn\" value=\"11186\">' +\n    '<label for=\"grade-7\" class=\"grade grade_7-8\">7<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-8\" class=\"radio-btn\" value=\"11187\">' +\n    '<label for=\"grade-8\" class=\"grade grade_7-8\">8<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-9\" class=\"radio-btn\" value=\"11188\">' +\n    '<label for=\"grade-9\" class=\"grade grade_9-10\">9<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-10\" class=\"radio-btn\" value=\"11189\">' +\n    '<label for=\"grade-10\" class=\"grade grade_9-10\">10<\u002flabel>' +\n    '<\u002fdiv>' +\n    '<a href=\"#\" class=\"valider-link\">Continuer<\u002fa>' +\n    '<div class=\"popup__close\">' +\n    '<div class=\"line1\"><\u002fdiv>' +\n    '<div class=\"line2\"><\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>';\nKameleoon.API.Core.runWhenElementPresent('body', function () {\n    Kameleoon.API.Core.runWhenConditionTrue(function () {\n        if (window.tc_vars !== undefined) {\n            return true;\n        }\n    }, function () {\n        if (Kameleoon.Utils.readLocalData('buttonClickBuyers', 'COOKIE') != 1 && window.tc_vars['user_auth'] == 1 && sessionStorage.getItem('hasCloses') != 1) {\n            document.querySelector('body').insertAdjacentHTML('beforeend', newsletter);\n            var validerLink = document.querySelector('.valider-link');\n            var pop_err = false;\n            var radioBtn = document.querySelectorAll('.radio-btn');\n            [].slice.call(radioBtn).forEach(function (e) {\n                e.addEventListener('click', function () {\n                    validerLink.classList.add('valide__err');\n                    var errorMessage = document.querySelector('.popup_p_err');\n                    if (errorMessage) {\n                        document.querySelector('.popup').removeChild(errorMessage);\n                    }\n                });\n            });\n            validerLink.addEventListener('click', function (e) {\n                e.preventDefault();\n                for (var i = 0; i < radioBtn.length; i++) {\n                    if (radioBtn[i].checked) {\n                        var grade_clicked = radioBtn[i].value;\n                    }\n                }\n                //\tif (tc_vars['user_auth'] == 1 && grade_clicked !== undefined){\n                //Kameleoon.Utils.createLocalData('buttonClickBuyers', 1, 1, '', 'COOKIE');\n                //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99?source=Fnac.com&str_fnac_darty=Fnac.com&nps=' + grade_clicked + '&language=fr';\n                // }\n\n                if (grade_clicked !== undefined) {\n                    var userId = typeof window.tc_vars !== 'undefined' && window.tc_vars['user_id'] ? window.tc_vars['user_id'] : '';\n                    var timestamp = Math.round(new Date().getTime() / 1000);\n\n                    var data = JSON.stringify({\n                        \"source\": \"Fnac.com\",\n                        \"str_fnac_darty\": \"Fnac.com\",\n                        \"fnac_darty_id\": userId,\n                        \"type_adh\": \"\",\n                        \"type_parcours\": \"\",\n                        \"type_achat\": \"\",\n                        \"nps\": grade_clicked,\n                        \"timestamp\": timestamp\n                    });\n                    var xhr = new XMLHttpRequest();\n                    xhr.open(\"POST\", 'https://customers.kameleoon.com/fnac/colorado/', true);\n                    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                    xhr.onreadystatechange = function () {\n                        if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n\n                            const xhrResponse = JSON.parse(this.responseText);\n                            if (xhrResponse.status === 'success') {\n                                // validerLink.href =\n                                // `https://cawi.consumer-live.com/questionnaire/99/fr/?encodedData=${xhrResponse.message}`;\n                                const redirect = 'https://cawi.consumer-live.com/questionnaire/99/encoded/' + xhrResponse.message + '/fr'\n                                window.open(redirect, '_blank');\n\n                                //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99/encoded/' + xhrResponse.message + '/fr';\n\n                                //validerLink.click();\n                            }\n                        }\n                    };\n                    xhr.send(data);\n\n                    // validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99?source=Fnac.com&str_fnac_darty=Fnac.com&fnac_darty_id=' + userId + '&nps=' + grade_clicked + '&language=fr';\n                    Kameleoon.Utils.createLocalData('buttonClickBuyers', 1, 1, '', 'COOKIE');\n                }\n\n\n                if (grade_clicked === undefined) {\n                    if (!pop_err) {\n                        document.querySelector('.popup').insertAdjacentHTML('beforeEnd', '<p class=\"popup_p_err\">Merci de renseigner une note<\u002fp>');\n                    }\n                    pop_err = true;\n                    e.preventDefault();\n                } else {\n                    Kameleoon.API.Goals.processConversion(143278);\n                    document.querySelector('.k_popup-container').style.display = 'none';\n                    localStorage.setItem('k_popup_click', 'true');\n                }\n            });\n            document.querySelector('.k_popup-container').addEventListener('click', function (e) {\n                if (e.target.classList.contains('k_popup-container') || e.target.classList.contains('popup__close')) {\n                    Kameleoon.Utils.createLocalData('buttonClickBuyers', 1, 1, '', 'COOKIE');\n                    document.querySelector('.k_popup-container').style.display = 'none';\n                    Kameleoon.API.Goals.processConversion(143280);\n                    sessionStorage.setItem('hasCloses', 1);\n                }\n            });\n            var labels = [].slice.call(document.querySelectorAll('.k_popup-container label'));\n            labels.forEach(function (elem) {\n                elem.addEventListener('click', function () {\n                    document.querySelector('.k_popup-container .valider-link').style.pointerEvents = 'auto';\n                })\n            })\n        }\n    })\n})\n\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_NPS_Desktop_Acheteur');\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":476809,"css":"/* START CUSTOM */\n\n.valider-link-mobile {\n    display: inline-block;\n    width: 128px;\n    padding: 12px 0 14px;  \n    margin: 20px 0;\n    border-radius: 5px;\t\n    background-color: #f5af33;\t\n    box-shadow: inset 0 -3px 0 0 #f5af33;\n    text-decoration: none;\t\n    color: #FFFFFF;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 10px;\t\n    font-weight: normal;\t\n    letter-spacing: 0.1px;\t\n    line-height: 1.7;\n    text-align: center;\n    float: right;\n}\n\n.k_popup-mobile {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 80px;\t\t\n    background-color: #FFFFFF;\t\n    box-shadow: 0 -3px 4px 0 rgba(69,69,69,0.1);\n    display: block;\n    padding: 0 20px 0 15px;\n    z-index: 9999;\n}\n\n.k_popup-mobile span {\n    color: #232323;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 15px;\t\n    line-height: 20px;\t\n    text-align: center;\n    float: left;\n\tdisplay: inline-block;\n    padding: 30px 0;\n}\n\n@media (max-width: 340px) {\n\t.valider-link-mobile {\n        width: 100px;\n\t}    \n}\n\n.k_popup-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(35,35,35,0.7);\n    z-index: 9999;\n}\n.popup {\n    box-sizing: border-box;\t\n    background-color: #ffffff;\n    text-align: center;\n    padding: 15px 20px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\t\n    width: 100%;\t\n    border-radius: 5px 5px 0 0;\t\n    overflow: auto;\n}\n\n.popup img {\n    width: 140px;\n}\n\n.popup__answer {\n    color: #232323;\t\n    font-family: 'Open Sans Bold', Arial, sans-serif;\t\n    font-size: 15px;\t\n    font-weight: bold;\t\n    line-height: 19px;\n    text-align: center;\n    margin-top: 15px;\n    margin-bottom: 10px;\n}\n\n.popup__note {\n    color: #989898;\t\n    font-family: 'Open Sans', Arial, sans-serif;\t\n    font-size: 13px;\t\n    line-height: 17px;\n    text-align: center;\n    margin: 10px auto;\n  \tmax-width: 500px;\n}\n\n.valider-link {\n    display: block;\n    margin: 10px auto; \n    text-decoration: none;\n    color: #fff;\t\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 13px;\t\n    font-weight: bold;\t\n    letter-spacing: 0.1px;\t\n    line-height: 15px;\t\n    text-align: center;\n    padding: 14px 0;\n    width: 100%;\n    border-bottom: 3px solid #aaa;\n    border-radius: 5px;\n    background: #ddd;\n  \tmax-width: 500px;\n}\n.unvalaideLink {\n\tbackground: #f5af33;\n \tborder-bottom: 3px solid #f5af33;\n    box-shadow: inset 0 -3px 0 0 #f5af33;\n}\n\n.valider-link:hover {\n\tborder-color: #232323;\n\ttext-decoration: none;\n\tcolor: #232323;\n}\n\n.popup__grade-scale {\n    position: relative;\n  \n    display: block;\n}\n\n.grade {\n    box-sizing: border-box;\n    height: 24px;\t\n    width: 100%;\n    background-color: #F8444F;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Roboto, sans-serif;\n    font-size: 16px;\n    line-height: 1.35;\n    cursor: pointer;\n    transition: border .2 linear;\n}\n\n.grade:hover {\n\tborder: 2px solid #232323;\n}\n\n.grade_0-3 {\n    background-color: #F8444F;\n    border: 2px solid #F8444F;\n}\n\n.grade_4-6 {\n\tbackground-color: #FE9844;\n\tborder: 2px solid #FE9844;\n}\n\n.grade_7-8 {\n    background-color: #FEB902;\n    border: 2px solid #FEB902;\n}\n\n.grade_9-10 {\n    background-color: #86BF5E;\n    border: 2px solid #86BF5E;\n}\n\n.popup__close {\n    height: 28px;\t\n    width: 28px;\t\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n}\n\n.line1 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #aaa;\n    transform: rotate(45deg);\n}\n\n.line2 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #aaa;\n    transform: rotate(-45deg);\n}\n\n.radio-btn {\n    display: none;\n}\n\n.radio-btn:checked + .grade {\n    border: 2px solid #232323;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label {\n    width: 100%;\n    display: block;\n    line-height: 1.35;\n    font-weight: normal;\n  \tmargin: auto;\n    margin-bottom: 5px;\n    text-align: left;\n    text-indent: 17px;\n  \tmax-width: 500px;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label::before, input[type=radio]+label::after {\n\tdisplay: none;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=checkbox]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=checkbox]:not(:checked)+label:hover:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:not(:checked)+label:hover:after {\n\tdisplay: none;\n}\n#grade-10 ~ .grade.grade_9-10 {\n  text-indent: 12px !important;\n}\n.popup_p_err {\n\tcolor: #d3382d;\n  \tfont: 11px \"Arial\";\n    margin-top: 10px;\n}","elementSets":[],"javaScriptCode":{"code":"var newsLetter = document.createElement('div');\nnewsLetter.innerHTML = '' +\n    '<div class=\"k_popup-mobile\">' +\n    '<span>Donnez-nous votre avis<\u002fspan>' +\n    '<a href=\"#\" class=\"valider-link-mobile\" target=\"_blank\">Je participe<\u002fa>' +\n    '<\u002fdiv>';\n\nvar windHei = window.screen.height > 568 ? window.screen.height : 568;\nvar positionTop = windHei - 736;\nvar heightLabel = 24,\n    fontSize = 16,\n    lineHeight = 135;\nvar delHw = 168,\n    // delta of min and max window height\n    delF = 4,\n    // delta of min and max font-size\n    delHb = 16,\n    // delta of min and max block height\n    delLh = 70; // delta of min and max line-height (x100)\n\nif (windHei < 736) {\n    positionTop = 0;\n}\n\nvar calculateVariable = function calculateVariable(value, delta, maxValue) {\n    var multi = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    value = Math.round((736 - windHei) * multi / (delHw * multi / delta));\n\n    if (value <= 0) {\n        value = maxValue;\n    } else {\n        value = maxValue - value;\n    }\n\n    return value / multi;\n};\n\nheightLabel = calculateVariable(heightLabel, delHb, 40);\nfontSize = calculateVariable(fontSize, delF, 20);\nlineHeight = calculateVariable(lineHeight, delLh, 175, 100);\nlineHeight = lineHeight > 1.35 ? lineHeight : 1.35;\nvar paddingTopBottom = positionTop / 6;\npositionTop -= paddingTopBottom * 2;\n\nvar ratingLetter = document.createElement('div');\nratingLetter.innerHTML = '' +\n    '<div class=\"k_popup-container\">' +\n    '<div class=\"popup\" style=\"padding: ' + (15 + paddingTopBottom) + 'px 20px; top: ' + positionTop + 'px\">' +\n    '<p class=\"popup__answer\">Vous avez r&#233;alis&#233; un achat sur le site Fnac.com.<br>Suite &agrave; cette exp&#233;rience, recommanderiez-vous Fnac.com &agrave; votre entourage ?<\u002fp>' +\n    '<p class=\"popup__note\">0 signifiant que vous ne recommanderiez absolument pas Fnac et 10 que vous le recommanderiez totalement.<\u002fp>' +\n    '<div class=\"popup__grade-scale\">' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-0\" class=\"radio-btn\" value=\"11179\">' +\n    '<label for=\"grade-0\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">0<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-1\" class=\"radio-btn\" value=\"11180\">' +\n    '<label for=\"grade-1\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">1<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-2\" class=\"radio-btn\" value=\"11181\">' +\n    '<label for=\"grade-2\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">2<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-3\" class=\"radio-btn\" value=\"11182\">' +\n    '<label for=\"grade-3\" class=\"grade grade_0-3\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">3<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-4\" class=\"radio-btn\" value=\"11183\">' +\n    '<label for=\"grade-4\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">4<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-5\" class=\"radio-btn\" value=\"11184\">' +\n    '<label for=\"grade-5\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">5<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-6\" class=\"radio-btn\" value=\"11185\">' +\n    '<label for=\"grade-6\" class=\"grade grade_4-6\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">6<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-7\" class=\"radio-btn\" value=\"11186\">' +\n    '<label for=\"grade-7\" class=\"grade grade_7-8\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">7<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-8\" class=\"radio-btn\" value=\"11187\">' +\n    '<label for=\"grade-8\" class=\"grade grade_7-8\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">8<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-9\" class=\"radio-btn\" value=\"11188\">' +\n    '<label for=\"grade-9\" class=\"grade grade_9-10\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">9<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-10\" class=\"radio-btn\" value=\"11189\">' +\n    '<label for=\"grade-10\" class=\"grade grade_9-10\" style=\"height: ' + heightLabel + 'px; font-size: ' + fontSize + 'px; line-height: ' + lineHeight + ';\">10<\u002flabel>' +\n    '<\u002fdiv>' +\n    '<a href=\"#\" class=\"valider-link\">Continuer<\u002fa>' +\n    '<div class=\"popup__close\">' +\n    '<div class=\"line1\"><\u002fdiv>' +\n    '<div class=\"line2\"><\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>';\n\ndocument.body.insertAdjacentElement('afterBegin', newsLetter);\nnewsLetter.querySelector('.valider-link-mobile').addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n    e.preventDefault();\n    if (!Kameleoon.API.Utils.touchMoveEvent) {\n        document.body.removeChild(newsLetter);\n        document.body.insertAdjacentElement('afterBegin', ratingLetter);\n        var validerLink = ratingLetter.querySelector('.valider-link');\n        var pop_err = false;\n        var radioBtn = document.querySelectorAll('.radio-btn');\n        [].slice.call(radioBtn).forEach(function (e) {\n            e.addEventListener('click', function () {\n                validerLink.classList.add('unvalaideLink');\n                var errorMessage = document.querySelector('.popup_p_err');\n                if (errorMessage) {\n                    document.querySelector('.popup').removeChild(errorMessage);\n                }\n            });\n        });\n        var closePopup = ratingLetter.querySelector('.popup__close');\n        closePopup.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n            if (!Kameleoon.API.Utils.touchMoveEvent) {\n                Kameleoon.API.Goals.processConversion(143280);\n                setTimeout(function () {\n                    document.body.removeChild(ratingLetter);\n                }, 0);\n            }\n        });\n        validerLink.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n            e.preventDefault();\n            if (!Kameleoon.API.Utils.touchMoveEvent) {\n                for (var i = 0; i < radioBtn.length; i++) {\n                    if (radioBtn[i].checked) {\n                        var grade_type = radioBtn[i].value;\n                    }\n                }\n                if (grade_type !== undefined) {\n                    var userId = typeof tc_vars !== 'undefined' && tc_vars['user_id'] ? tc_vars['user_id'] : '';\n                    var timestamp = Math.round(new Date().getTime() / 1000);\n                    var data = JSON.stringify({\n                        \"source\": \"Fnac.com\",\n                        \"str_fnac_darty\": \"Fnac.com\",\n                        \"fnac_darty_id\": userId,\n                        \"type_adh\": \"\",\n                        \"type_parcours\": \"\",\n                        \"type_achat\": \"\",\n                        \"nps\": grade_type,\n                        \"timestamp\": timestamp\n                    });\n                    var xhr = new XMLHttpRequest();\n                    xhr.open(\"POST\", 'https://customers.kameleoon.com/fnac/colorado/', true);\n                    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                    xhr.onreadystatechange = function () {\n                        if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n                            console.log(this.responseText);\n                            const xhrResponse = JSON.parse(this.responseText);\n                            if (xhrResponse.status === 'success') {\n\n                                const redirect = 'https://cawi.consumer-live.com/questionnaire/99/encoded/' + xhrResponse.message + '/fr'\n                                window.open(redirect, '_blank');\n\n                                // validerLink.href = `https://cawi.consumer-live.com/questionnaire/98/fr/?encodedData=${xhrResponse.message}`;\n                                //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99/encoded/' + xhrResponse.message + '/fr';\n                                //validerLink.click();\n                            }\n                        }\n                    };\n                    xhr.send(data);\n\n                    // validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99?source=Fnac.com&str_fnac_darty=Fnac.com&fnac_darty_id=' + userId + '&nps=' + grade_type + '&language=fr';\n                    Kameleoon.API.Goals.processConversion(143279);\n                    //validerLink.href = 'https://cawi.consumer-live.com/questionnaire/99?source=Fnac.com&str_fnac_darty=Fnac.com&nps=' + grade_type + '&language=fr';\n                    setTimeout(function () {\n                        document.body.removeChild(ratingLetter);\n                    }, 0);\n                } else if (tc_vars['user_auth'] == 1 && grade_type === undefined) {\n                    e.preventDefault();\n                    if (!pop_err) {\n                        validerLink.insertAdjacentHTML('afterEnd', '<p class=\"popup_p_err\">*Merci de renseigner une note<\u002fp>');\n                    }\n                    pop_err = true;\n                }\n            }\n        });\n    }\n});\n\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_NPS_Mobile_Acheteur');\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":485624,"css":"/* START CUSTOM */\n\n\n#kameleoonOverlay30084{\n\tdisplay: block;\n}/* NAME Popin for personalization ENDNAME */\n.kameleoonOverlay{\n\t\t z-index: 99999998;\n\t\t\t\t background: rgba(0, 0, 0, 0.7);\n\t\t position: fixed;\n\t\t top: 0px;\n\t\t left: 0px;\n\t\t right: 0px;\n\t\t bottom: 0px;\n\t\t display: none;\n}\n#kameleoonScenarioLayerBase30084{\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 99999999;\n}\n#kameleoonScenarioLayerBase30084 *\n{\n\tbox-sizing: border-box;\n\tline-height: 1em;\n}\n#kameleoonScenarioLayerBase30084 .KameleoonScenarioLayerClose{\n\tposition: absolute;\n\ttop: -5px;\n\tright: -7px;\n\tz-index: 1;\n}\n#kameleoonScenarioLayerBase30084 .container{\n\tborder: 1px solid black;\n}\n#kameleoonScenarioPopIn{\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #ffffff;\n}\nspan.textContent{\n\tpadding: 0 15px;\n\tcolor: #000000;\n\tfont-size: 14px;\n}\n#KameleoonAnimationContainer30084{z-index: 99999999;display: block}#kameleoonOverlay30084.simpleShow, #KameleoonAnimationContainer30084.simpleShow{display:block;z-index: 99999999;}#KameleoonAnimationContainer30084.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}#kameleoonOverlay30084.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}","elementSets":[],"javaScriptCode":{"code":"(function() {if (! document.getElementById(\"kameleoonScenarioLayerBase30084\")){if (! document.getElementById(\"kameleoonOverlay30084\")){var overlayDiv = document.createElement(\"div\"); overlayDiv.id = \"kameleoonOverlay30084\"; overlayDiv.className = \"kameleoonOverlay \"; document.body.appendChild(overlayDiv);}  var layerDiv8329 = document.createElement(\"div\");layerDiv8329.id = \"kameleoonScenarioLayerBase30084\";layerDiv8329.className=\"KameleoonJavaScriptAdded KameleoonJavaScriptAddedTemp\";document.body.appendChild(layerDiv8329);  layerDiv8329.innerHTML = '<div id=\"KameleoonAnimationContainer30084\" class=\"\"><a href=\"#\" class=\"KameleoonScenarioLayerClose\" id=\"KameleoonScenarioLayerCloseButton30084\" title=\"Close\" ><img src=\"//static.kameleoon.eu/images/common/personalizations/circle-close.png\" /> <\u002fa><div id=\"kameleoonScenarioLayerContainer30084\">\\u003cstyle\\u003e\\n\\t.kml-popin \\u007b\\n\\t\\twidth:400px\\u003b\\n\\t\\u007d\\n\\t.kml-popin-title \\u007b\\n\\t\\tbackground-color:#f2f2f2\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:18px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\tposition:relative\\u003b\\n\\t\\tline-height: 32px !important\\u003b\\n\\t\\u007d\\n\\t.kml-popin-txt \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:16px\\u003b\\n\\t\\tfont-weight:300\\u003b\\n\\t\\ttext-align:left\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\tmax-height:400px\\u003b\\n\\t\\toverflow-y:auto\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close \\u007b\\n\\t\\tposition: absolute\\u003b\\n\\t\\tright: 5px\\u003b\\n\\t\\ttop: 0\\u003b\\n\\t\\ttext-decoration: none\\u003b\\n\\t\\tcolor: #232323\\u003b\\n\\t\\tfont-size: 28px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#232323\\u003b\\n\\t\\u007d\\n\\t.kml-popin-link \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button \\u007b\\n\\t\\tcolor:#ffffff\\u003b\\n        padding:10px 50px\\u003b\\n        background-color:#f5b027\\u003b\\n        margin:0\\u003b\\n        font-size: 16px\\u003b\\n\\t\\tdisplay:inline-block\\u003b\\n\\t\\twhite-space:nowrap\\u003b\\n\\t\\toverflow:hidden\\u003b\\n\\t\\ttext-overflow:ellipsis\\u003b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tborder-radius:4px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#ffffff\\u003b\\n\\t\\u007d\\n\\t.KameleoonScenarioLayerClose \\u007b\\n\\t\\tdisplay:none\\u003b\\n\\t\\u007d\\n\\t\\u0040media \\u0028max-width: 480px\\u0029 \\u007b\\n\\t\\t.kml-popin \\u007b\\n\\t\\t\\twidth:300px\\u003b\\n\\t\\t\\u007d\\n\\t\\u007d\\n\\u003c\\u002fstyle\\u003e\\n\\n\\u003cdiv class=\\u0022kml-popin\\u0022\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-title\\u0022\\u003e\\n\\t\\tIMPORTANT\\n\\t\\t\\u003ca href=\\u0022#\\u0022 class=\\u0022kml-popin-close\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002830084\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase30084\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay30084\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003e\\n\\t\\t\\tx\\n\\t\\t\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-txt\\u0022\\u003e\\n\\u003cb\\u003eLe Razr nécessite une eSIM pour fonctionner\\u003c\\u002fb\\u003e\\n      \\t\\t\\u003cbr\\u003e\\u003cbr\\u003e\\nL\\u0027eSIM est une carte SIM dématérialisée intégrée nativement à votre smartphone. Grâce à cette nouvelle technologie de pointe\\u002c le Razr vous permet de passer des appels et d\\u0027utiliser les connexions au réseau mobile sans avoir besoin de votre carte SIM physique traditionnelle\\u002c qui ne pourra pas être insérée ni être utilisée avec le Razr. Il faudra donc contacter votre opérateur pour remplacer votre carte SIM physique par une SIM dématérialisée \\u0028eSIM\\u0029 pour pouvoir utiliser votre smartphone Razr. \\n\\t\\t\\u003cbr\\u003e\\u003cbr\\u003e\\n\\u003cb\\u003eAttention\\u002c certains forfaits ne sont pas encore compatibles.\\u003c\\u002fb\\u003e \\n\\t\\t\\u003cbr\\u003e\\u003cbr\\u003e\\nMerci de bien vérifier auprès de vos opérateurs avant d’acheter le Razr.\\n\\t\\u003c\\u002fdiv\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-link\\u0022\\u003e\\n\\t\\t\\u003ca class=\\u0022kml-popin-button\\u0022 href=\\u0022#\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002830084\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase30084\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay30084\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003eJ\\u0027ai compris\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\u003c\\u002fdiv\\u003e<\u002fdiv><\u002fdiv>';}var closeKameleoonScenarioLayer = [];closeKameleoonScenarioLayer[30084] = function(){Kameleoon.API.Personalizations && Kameleoon.API.Personalizations.disable(30084);document.getElementById(\"kameleoonScenarioLayerBase30084\").style.display = \"none\";document.getElementById(\"kameleoonOverlay30084\").style.display = \"none\";};var kameleoonOverlay30084 = document.getElementById(\"kameleoonOverlay30084\");if(kameleoonOverlay30084){kameleoonOverlay30084.onclick = closeKameleoonScenarioLayer[30084];}var kameleoonScenarioLayerCloseButton = document.getElementById(\"KameleoonScenarioLayerCloseButton30084\");if(kameleoonScenarioLayerCloseButton) {kameleoonScenarioLayerCloseButton.onclick = function() {closeKameleoonScenarioLayer[30084](); return false;}}var kameleoonScenarioLayerContent30084 = document.getElementById(\"kameleoonScenarioLayerContent30084\");if(kameleoonScenarioLayerContent30084) {var viewPortWidth = document.documentElement.clientWidth;var contentWidth = kameleoonScenarioLayerContent30084.style.maxWidth || kameleoonScenarioLayerContent30084.style.width;if(contentWidth && contentWidth.length > 2) {var contentWidthInt = parseInt(contentWidth.substring(0, contentWidth.length - 1));if(contentWidthInt > viewPortWidth) {kameleoonScenarioLayerContent30084.style.maxWidth = viewPortWidth + \"px\";}}}})();","afterDOMReady":true}},{"name":"Variation 1","id":508005,"css":"/* START CUSTOM */\n\n\n#kameleoonOverlay30439{\n\tdisplay: block;\n}/* NAME Popin for personalization ENDNAME */\n.kameleoonOverlay{\n\t\t z-index: 99999998;\n\t\t\t\t background: rgba(0, 0, 0, 0.7);\n\t\t position: fixed;\n\t\t top: 0px;\n\t\t left: 0px;\n\t\t right: 0px;\n\t\t bottom: 0px;\n\t\t display: none;\n}\n#kameleoonScenarioLayerBase30439{\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 99999999;\n}\n#kameleoonScenarioLayerBase30439 *\n{\n\tbox-sizing: border-box;\n\tline-height: 1em;\n}\n#kameleoonScenarioLayerBase30439 .KameleoonScenarioLayerClose{\n\tposition: absolute;\n\ttop: -5px;\n\tright: -7px;\n\tz-index: 1;\n}\n#kameleoonScenarioLayerBase30439 .container{\n\tborder: 1px solid black;\n}\n#kameleoonScenarioPopIn{\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #ffffff;\n}\nspan.textContent{\n\tpadding: 0 15px;\n\tcolor: #000000;\n\tfont-size: 14px;\n}\n#KameleoonAnimationContainer30439{z-index: 99999999;display: block}#kameleoonOverlay30439.simpleShow, #KameleoonAnimationContainer30439.simpleShow{display:block;z-index: 99999999;}#KameleoonAnimationContainer30439.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}#kameleoonOverlay30439.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}","elementSets":[],"javaScriptCode":{"code":"(function() {if (! document.getElementById(\"kameleoonScenarioLayerBase30439\")){if (! document.getElementById(\"kameleoonOverlay30439\")){var overlayDiv = document.createElement(\"div\"); overlayDiv.id = \"kameleoonOverlay30439\"; overlayDiv.className = \"kameleoonOverlay \"; document.body.appendChild(overlayDiv);}  var layerDiv8500 = document.createElement(\"div\");layerDiv8500.id = \"kameleoonScenarioLayerBase30439\";layerDiv8500.className=\"KameleoonJavaScriptAdded KameleoonJavaScriptAddedTemp\";document.body.appendChild(layerDiv8500);  layerDiv8500.innerHTML = '<div id=\"KameleoonAnimationContainer30439\" class=\"\"><a href=\"#\" class=\"KameleoonScenarioLayerClose\" id=\"KameleoonScenarioLayerCloseButton30439\" title=\"Close\" ><img src=\"//static.kameleoon.eu/images/common/personalizations/circle-close.png\" /> <\u002fa><div id=\"kameleoonScenarioLayerContainer30439\">\\u003cstyle\\u003e\\n  .kml-popin \\u007b\\n\\t\\twidth:400px\\u003b\\n\\t\\u007d\\n\\t.kml-popin-title \\u007b\\n\\t\\tbackground-color:#f2f2f2\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:15px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\tposition:relative\\u003b\\n\\t\\tline-height: 32px !important\\u003b\\n\\t\\u007d\\n\\t.kml-popin-txt \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:14px\\u003b\\n\\t\\tfont-weight:300\\u003b\\n\\t\\ttext-align:left\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\tmax-height:400px\\u003b\\n\\t\\toverflow-y:auto\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close \\u007b\\n\\t\\tposition: absolute\\u003b\\n\\t\\tright: 5px\\u003b\\n\\t\\ttop: 0\\u003b\\n\\t\\ttext-decoration: none\\u003b\\n\\t\\tcolor: #232323\\u003b\\n\\t\\tfont-size: 28px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#232323\\u003b\\n\\t\\u007d\\n\\t.kml-popin-link \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button \\u007b\\n\\t\\tcolor:#ffffff\\u003b\\n        padding:10px 50px\\u003b\\n        background-color:#f5b027\\u003b\\n        margin:0\\u003b\\n        font-size: 16px\\u003b\\n\\t\\tdisplay:inline-block\\u003b\\n\\t\\twhite-space:nowrap\\u003b\\n\\t\\toverflow:hidden\\u003b\\n\\t\\ttext-overflow:ellipsis\\u003b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tborder-radius:4px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#ffffff\\u003b\\n\\t\\u007d\\n\\t.KameleoonScenarioLayerClose \\u007b\\n\\t\\tdisplay:none\\u003b\\n\\t\\u007d\\n\\t\\u0040media \\u0028max-width: 480px\\u0029 \\u007b\\n\\t\\t.kml-popin \\u007b\\n\\t\\t\\twidth:300px\\u003b\\n\\t\\t\\u007d\\n\\t\\u007d\\n\\u003c\\u002fstyle\\u003e\\n\\n\\u003cdiv class=\\u0022kml-popin\\u0022\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-title\\u0022\\u003e\\n\\t\\tAvant d\\u0027acheter cet appareil HUAWEI\\n\\t\\t\\u003ca href=\\u0022#\\u0022 class=\\u0022kml-popin-close\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002830439\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase30439\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay30439\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003e\\n\\t\\t\\tx\\n\\t\\t\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\u003cdiv class=\\u0022kml-popin-txt\\u0022\\u003e\\n\\u003cb\\u003eDot\\u0026eacute\\u003b du système d\\u0027exploitation Android\\u002c cet appareil HUAWEI utilise l’AppGallery avec toujours l\\u0027interface EMUI.\\u003c\\u002fb\\u003e\\u003cbr\\u003e\\n\\u003cu\\u003eCela signifie que les services et applications Google ne sont pas int\\u0026eacute\\u003bgr\\u0026eacute\\u003bs \\u0026agrave\\u003b cet appareil\\u003c\\u002fu\\u003e\\u002c mais dispose en revanche d\\u0027un acc\\u0026egrave\\u003bs \\u0026agrave\\u003b un catalogue d\\u0027applications via la boutique d\\u0027applications HUAWEI AppGallery.\\u003cbr\\u003e\\nUne tr\\u0026egrave\\u003bs large partie des services et applications sont disponibles en t\\u0026eacute\\u003bl\\u0026eacute\\u003bchargement par la boutique HUAWEI AppGallery\\u002c \\u0026agrave\\u003b noter que des applications tierces ne sont pas encore disponibles : Plus d\\u0027informations sur \\u003ca href=\\u0022https:\\u002f\\u002fconsumer.huawei.com\\u002ffr\\u002fcampaign\\u002fall-in-one\\u002f\\u0022 target=\\u0022_blank\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ehttps:\\u002f\\u002fconsumer.huawei.com\\u002ffr\\u002fcampaign\\u002fall-in-one\\u003c\\u002fa\\u003e\\n\\u003cbr\\u003e\\u003cbr\\u003e\\n\\u003cb\\u003eTESTEZ-LE\\u002c en achetant cet appareil HUAWEI vendu et exp\\u0026eacute\\u003bdi\\u0026eacute\\u003b par FNAC \\u0028hors marketplace\\u0029\\u002c vous b\\u0026eacute\\u003bn\\u0026eacute\\u003bficiez d\\u0027un d\\u0026eacute\\u003blai de 15 jours pour changer d\\u0027avis suivant votre achat en magasin ou sur notre site internet \\u003ca href=\\u0022https:\\u002f\\u002fwww.fnac.com\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ewww.fnac.com\\u003c\\u002fa\\u003e.\\u003c\\u002fb\\u003e\\u003cbr\\u003e\\nEn achetant cet appareil sur le site \\u003ca href=\\u0022https:\\u002f\\u002fwww.fnac.com\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ewww.fnac.com\\u003c\\u002fa\\u003e\\u002c vous b\\u0026eacute\\u003bn\\u0026eacute\\u003bficiez \\u0026eacute\\u003bgalement du droit de r\\u0026eacute\\u003btractation \\u0026agrave\\u003b exercer dans un d\\u0026eacute\\u003blai de 15 jours suivant la date de d\\u0026eacute\\u003blivrance de votre produit. Pour plus d\\u0027information sur votre droit de r\\u0026eacute\\u003btractation vous pouvez consulter les CGV. \\n\\u003cbr\\u003e\\u003cbr\\u003e\\nN\\u0027h\\u0026eacute\\u003bsitez pas \\u0026agrave\\u003b contacter notre service client au 0.960.36.03.36\\u003cbr\\u003e\\n\\u003cb\\u003eEn cliquant sur « J\\u0027ai compris » ci-dessous\\u002c vous reconnaissez comprendre que ce produit utilise les Huawei Mobile Services \\u0028\\u003ca href=\\u0022https:\\u002f\\u002fconsumer.huawei.com\\u002ffr\\u002fcampaign\\u002fmate30-pro-answer\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022 target=\\u0022_blank\\u0022\\u003eAppGallery exclusivement\\u003c\\u002fa\\u003e\\u0029 en lieu et place des Google Mobile Services \\u0028\\u003ca href=\\u0022https:\\u002f\\u002fconsumer.huawei.com\\u002ffr\\u002fcampaign\\u002fmate30-pro-answer\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022 target=\\u0022_blank\\u0022\\u003ePlaystore\\u003c\\u002fa\\u003e\\u0029.\\u003c\\u002fb\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-link\\u0022\\u003e\\n\\t\\t\\u003ca class=\\u0022kml-popin-button\\u0022 href=\\u0022#\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002830439\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase30439\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay30439\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003eJ\\u0027ai compris\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\u003c\\u002fdiv\\u003e<\u002fdiv><\u002fdiv>';}var closeKameleoonScenarioLayer = [];closeKameleoonScenarioLayer[30439] = function(){Kameleoon.API.Personalizations && Kameleoon.API.Personalizations.disable(30439);document.getElementById(\"kameleoonScenarioLayerBase30439\").style.display = \"none\";document.getElementById(\"kameleoonOverlay30439\").style.display = \"none\";};var kameleoonOverlay30439 = document.getElementById(\"kameleoonOverlay30439\");if(kameleoonOverlay30439){kameleoonOverlay30439.onclick = closeKameleoonScenarioLayer[30439];}var kameleoonScenarioLayerCloseButton = document.getElementById(\"KameleoonScenarioLayerCloseButton30439\");if(kameleoonScenarioLayerCloseButton) {kameleoonScenarioLayerCloseButton.onclick = function() {closeKameleoonScenarioLayer[30439](); return false;}}var kameleoonScenarioLayerContent30439 = document.getElementById(\"kameleoonScenarioLayerContent30439\");if(kameleoonScenarioLayerContent30439) {var viewPortWidth = document.documentElement.clientWidth;var contentWidth = kameleoonScenarioLayerContent30439.style.maxWidth || kameleoonScenarioLayerContent30439.style.width;if(contentWidth && contentWidth.length > 2) {var contentWidthInt = parseInt(contentWidth.substring(0, contentWidth.length - 1));if(contentWidthInt > viewPortWidth) {kameleoonScenarioLayerContent30439.style.maxWidth = viewPortWidth + \"px\";}}}})();","afterDOMReady":true}},{"name":"Variation 1","id":476813,"css":"/* START CUSTOM */\n\n.k_popup-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: rgba(35,35,35,0.9);\n    z-index: 1499;\n}\n.popup  {\n    box-sizing: border-box;\n    height: 588px;\n    width: 630px;\n    background-color: #ffffff;\n    text-align: center;\n    border-radius: 10px;\n    padding: 50px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n\ttransform: translate(-50%, -50%);\n\tbox-shadow: 0 0 15px #ccc;\n}\n\n.popup img {\n    width: 140px;\n}\n\n.popup__answer {\n    color: #232323;\n    font-family: 'Open Sans Bold', Arial, sans-serif;\n    font-size: 15px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    margin: 23px auto 18px;\n\n}\n\n.popup__note {\n    color: #989898 !important;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 15px;\n    line-height: 18px;\n    text-align: center;\n    margin: 23px auto 25px;\n}\n\n.popup__strong {\n\tcolor: #989898 !important;\n}\n\n.valider-link {\n    display: block;\n    width: 200px;\n    margin: 24px auto;\n    padding: 12px 0 14px;\n    border-radius: 5px;\n    background-color: #D91627;\n    box-shadow: inset 0 -3px 0 0 #B91321;\n    text-decoration: none;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.1px;\n    line-height: 14px;\n    text-align: center;\n    text-transform: uppercase;\n    pointer-events: none;\n}\n.valider-link:hover,\n.valider-link:focus {\n\ttext-decoration: none;\n}\n\n.popup__grade-scale {\n    position: relative;\n    padding-bottom: 35px;\n    display: block;\n}\n\n.grade {\n    box-sizing: border-box;\n    margin-right: 1px;\n    display: inline-block;\n    height: 40px;\n    width: 40px;\n    background-color: #F8444F;\n    color: #FFFFFF;\n    font-family: 'Open Sans', Roboto, sans-serif;\n    font-size: 20px;\n    line-height: 1.7;\n    text-align: center;\n    cursor: pointer;\n    transition: border .2 linear;\n}\n\n.grade:hover {\n\tborder: 2px solid #232323;\n}\n\n.grade_0-3 {\n    background-color: #F8444F;\n    border: 2px solid #F8444F;\n}\n\n.grade_4-6 {\n\tbackground-color: #FE9844;\n\tborder: 2px solid #FE9844;\n}\n\n.grade_7-8 {\n    background-color: #FEB902;\n    border: 2px solid #FEB902;\n}\n\n.grade_9-10 {\n    background-color: #86BF5E;\n    border: 2px solid #86BF5E;\n}\n\n.popup__grade-scale::before, .popup__grade-scale::after {\n    color: #989898;\n    font-family: 'Open Sans', Arial, sans-serif;\n    font-size: 13px;\n    line-height: 15px;\n    height: 40px;\n    width: 75px;\n    padding-top: 35px;\n}\n\n.popup__grade-scale::before {\n    content: 'Pas du tout';\n    position: absolute;\n    top: 45px;\n    left: -8px;\n    background: url(https://storage.kameleoon.eu/darty/flash.png) no-repeat;\n    background-position: bottom 46px center;\n}\n\n.popup__grade-scale::after {\n    content: 'Tout \\E0  fait';\n    position: absolute;\n    top: 45px;\n    right: -7px;\n    background: url(https://storage.kameleoon.eu/darty/heart.png) no-repeat;\n    background-position: bottom 46px center;\n}\n\n.popup__close {\n    border: 2px solid #232323;\n    border-radius: 50%;\n    height: 28px;\n    width: 28px;\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    cursor: pointer;\n}\n\n.line1 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #232323;\n    transform: rotate(45deg);\n}\n\n.line2 {\n    width: 21px;\n    height: 2px;\n    position: absolute;\n    top: 13px;\n    left: 4px;\n    background-color: #232323;\n    transform: rotate(-45deg);\n}\n\n.radio-btn {\n    display: none;\n}\n\n.radio-btn:checked + .grade {\n    border: 2px solid #232323;\n}\n\n.k_popup-container {\n  width: 500px;\n  height: 343px;\n  background: none;\n  top: 100%;\n  margin-top: -343px;\n  left: 100%;\n  margin-left: -500px;\n}\n.popup__answer {\n  margin-top: 10px;\n}\n.popup {\n  width: inherit;\n  height: inherit;\n  padding: 6px;\n  color: #989898;\n  font-size: 15px;\n}\n.popup__grade-scale::before {\n  left: 15px;\n  background-position: left 10px;\n}\n.popup__grade-scale::after {\n  right: -10px;\n}\n.popup__grade-scale::before,\n.popup__grade-scale::after {\n  height: 20px;\n  background-position: left 0px center;\n  height: 25px;\n  width: 120px;\n  top: 45px;\n  padding-top: 5px;\n}\n.valider-link {\n  margin: 0 auto;\n  width: 450px;\n  background: #ccc;\n  border-bottom: 3px solid #aaa;\n  padding: 12px;\n  box-shadow: none;\n  font-size: 12px !important;\n\ttext-transform: none !important;\n\tcolor: #fff !important;\n\tpointer-events: unset;\n}\n.popup__close {\n  border: none;\n}\n.popup__close > * {\n  background: #aaa;\n}\n.popup__strong {\n  font-weight: bold;\n}\n.popup__note {\n  margin: 0px !important;\n}\n.popup__grade-scale {\n  margin-top: 20px;\n}\n.valide__err {\n  background: #f5af33;\n  border-bottom: 3px solid #f5af33;\n  box-shadow: inset 0 -3px 0 0 #f5af33;\n}\n.popup_p_err {\n  color: #d3382d;\n  font: 11px \"Arial\";\n  margin-top: 5px;\n}\n.k_popup-container input[type=radio]+label {\n  margin-left: 0 !important;\n  line-height: 1.7 !important;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=radio]+label::before, input[type=radio]+label::after {\n\tdisplay: none;\n}\n\n.k_popup-container .popup .popup__grade-scale input[type=checkbox]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=checkbox]:not(:checked)+label:hover:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:checked+label:after, .k_popup-container .popup .popup__grade-scale input[type=radio]:not(:checked)+label:hover:after {\n\tdisplay: none;\n}","elementSets":[],"javaScriptCode":{"code":"console.log('V1 BUTTON');\nvar newsletter =\n    '' +\n    '<div class=\"k_popup-container\">' +\n    '<div class=\"popup\">' +\n    '<p class=\"popup__answer\">Suite &agrave votre exp&#233;rience sur le site Fnac.com,<br>recommanderiez-vous Fnac.com &agrave; votre entourage ?<\u002fp>' +\n    '<p class=\"popup__note\"><div class=\"popup__strong\">Veuillez indiquer une note entre 0 et 10,<\u002fdiv>0 signifiant que vous ne recommanderiez absolument pas<br> Fnac et 10 que vous le recommanderiez totalement. Les notes<br> interm&#233;diaires vous permettent de nuancer votre jugement.<\u002fp>' +\n    '<div class=\"popup__grade-scale\">' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-0\" class=\"radio-btn\" value=\"11012\">' +\n    '<label for=\"grade-0\" class=\"grade grade_0-3\">0<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-1\" class=\"radio-btn\" value=\"11013\">' +\n    '<label for=\"grade-1\" class=\"grade grade_0-3\">1<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-2\" class=\"radio-btn\" value=\"11014\">' +\n    '<label for=\"grade-2\" class=\"grade grade_0-3\">2<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-3\" class=\"radio-btn\" value=\"11015\">' +\n    '<label for=\"grade-3\" class=\"grade grade_0-3\">3<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-4\" class=\"radio-btn\" value=\"11016\">' +\n    '<label for=\"grade-4\" class=\"grade grade_4-6\">4<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-5\" class=\"radio-btn\" value=\"11017\">' +\n    '<label for=\"grade-5\" class=\"grade grade_4-6\">5<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-6\" class=\"radio-btn\" value=\"11018\">' +\n    '<label for=\"grade-6\" class=\"grade grade_4-6\">6<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-7\" class=\"radio-btn\" value=\"11019\">' +\n    '<label for=\"grade-7\" class=\"grade grade_7-8\">7<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-8\" class=\"radio-btn\" value=\"11020\">' +\n    '<label for=\"grade-8\" class=\"grade grade_7-8\">8<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-9\" class=\"radio-btn\" value=\"11021\">' +\n    '<label for=\"grade-9\" class=\"grade grade_9-10\">9<\u002flabel>' +\n    '<input type=\"radio\" name=\"grade\" id=\"grade-10\" class=\"radio-btn\" value=\"11022\">' +\n    '<label for=\"grade-10\" class=\"grade grade_9-10\">10<\u002flabel>' +\n    '<\u002fdiv>' +\n    '<button style=\"border:0;\" class=\"valider-link\">CONTINUER<\u002fbutton>' +\n    '<a style=\"display: none;\" href=\"#\" class=\"valider-link\" target=\"_blank\">CONTINUER<\u002fa>' +\n    '<div class=\"popup__close\">' +\n    '<div class=\"line1\"><\u002fdiv>' +\n    '<div class=\"line2\"><\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>' +\n    '<\u002fdiv>';\nif (Kameleoon.Utils.readLocalData('buttonClickVisitor', 'COOKIE') != 1) {\n    Kameleoon.API.Core.runWhenElementPresent('body', function () {\n        document.querySelector('body').insertAdjacentHTML('beforeend', newsletter);\n        var radioBtn = document.querySelectorAll('.radio-btn');\n        var validerLinkBtn = document.querySelector('button.valider-link');\n        var validerLink = document.querySelector('a.valider-link');\n        var pop_err = false;\n        [].slice.call(radioBtn).forEach(function (e) {\n            e.addEventListener('click', function () {\n                validerLinkBtn.classList.add('valide__err');\n                validerLink.classList.add('valide__err');\n                var errorMessage = document.querySelector('.popup_p_err');\n                if (errorMessage) {\n                    document.querySelector('.popup').removeChild(errorMessage);\n                }\n            });\n        });\n        // validerLink.addEventListener('click', function (e) {\n        validerLinkBtn.addEventListener(Kameleoon.API.Utils.mouseDownEvent, function (e) {\n            for (var i = 0; i < radioBtn.length; i++) {\n                if (radioBtn[i].checked) {\n                    var grade_clicked = radioBtn[i].value;\n                }\n            }\n            /*if (tc_vars['user_logged'] == 0 && grade_clicked !== undefined){\n                Kameleoon.Utils.createLocalData('buttonClickVisitor', 1, 30, '', 'COOKIE');\n                validerLink.href = 'https://cawi.consumer-live.com/questionnaire/98?source=Darty.com&str_fnac_darty=Darty.com&nps=' + grade_clicked + '&language=fr';\n            }*/\n\n            if (grade_clicked !== undefined) {\n                var userId = typeof tc_vars !== 'undefined' && tc_vars['user_id'] ? tc_vars['user_id'] : '';\n                var timestamp = Math.round(new Date().getTime() / 1000);\n\n                Kameleoon.Utils.createLocalData('buttonClickVisitor', 1, 30, '', 'COOKIE');\n                var data = JSON.stringify({\n                    \"source\": \"Fnac.com\",\n                    \"str_fnac_darty\": \"Fnac.com\",\n                    \"fnac_darty_id\": userId,\n                    \"type_adh\": \"\",\n                    \"type_parcours\": \"\",\n                    \"type_achat\": \"\",\n                    \"nps\": grade_clicked,\n                    \"timestamp\": timestamp\n                });\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", 'https://customers.kameleoon.com/fnac/colorado/', true);\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n                        console.log(this.responseText);\n                        const xhrResponse = JSON.parse(this.responseText);\n                        if (xhrResponse.status === 'success') {\n                            // validerLink.href = `https://cawi.consumer-live.com/questionnaire/98/fr/?encodedData=${xhrResponse.message}`;\n                            validerLink.href = 'https://cawi.consumer-live.com/questionnaire/98/encoded/' + xhrResponse.message + '/fr';\n                            validerLink.click();\n                        }\n                    }\n                };\n                xhr.send(data);\n\n\n            }\n\n            if (grade_clicked === undefined) {\n                if (!pop_err) {\n                    document.querySelector('.popup').insertAdjacentHTML('beforeEnd', '<p class=\"popup_p_err\">Merci de renseigner une note<\u002fp>');\n                }\n                pop_err = true;\n                e.preventDefault();\n            } else {\n                Kameleoon.API.Goals.processConversion(142400);\n                document.querySelector('.k_popup-container').style.display = 'none';\n                localStorage.setItem('k_popup_click', 'true');\n            }\n        });\n        document.querySelector('.k_popup-container').addEventListener('click', function (e) {\n            if (e.target.classList.contains('k_popup-container') || e.target.classList.contains('popup__close')) {\n                document.querySelector('.k_popup-container').style.display = 'none';\n                sessionStorage.setItem('k_popup_close', 'true');\n                Kameleoon.API.Goals.processConversion(142410);\n                Kameleoon.Utils.createLocalData('buttonClickVisitor', 1, 30, '', 'COOKIE');\n            }\n        });\n        document.querySelector('.k_popup-container .valider-link').style.pointerEvents = 'auto';\n    });\n}\n\nKameleoon.API.Core.runWhenConditionTrue(function () {\n    return typeof hj != \"undefined\";\n}, function () {\n    hj('trigger', 'FNAC_NPS_Desktop_Visiteur');\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":485899,"css":"/* START CUSTOM */\n\n\n#kameleoonOverlay33279{\n\tdisplay: block;\n}/* NAME Popin for personalization ENDNAME */\n.kameleoonOverlay{\n\t\t z-index: 99999998;\n\t\t\t\t background: rgba(0, 0, 0, 0.7);\n\t\t position: fixed;\n\t\t top: 0px;\n\t\t left: 0px;\n\t\t right: 0px;\n\t\t bottom: 0px;\n\t\t display: none;\n}\n#kameleoonScenarioLayerBase33279{\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 99999999;\n}\n#kameleoonScenarioLayerBase33279 *\n{\n\tbox-sizing: border-box;\n\tline-height: 1em;\n}\n#kameleoonScenarioLayerBase33279 .KameleoonScenarioLayerClose{\n\tposition: absolute;\n\ttop: -5px;\n\tright: -7px;\n\tz-index: 1;\n}\n#kameleoonScenarioLayerBase33279 .container{\n\tborder: 1px solid black;\n}\n#kameleoonScenarioPopIn{\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #ffffff;\n}\nspan.textContent{\n\tpadding: 0 15px;\n\tcolor: #000000;\n\tfont-size: 12px;\n}\n#KameleoonAnimationContainer33279{z-index: 99999999;display: block}#kameleoonOverlay33279.simpleShow, #KameleoonAnimationContainer33279.simpleShow{display:block;z-index: 99999999;}#KameleoonAnimationContainer33279.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}#kameleoonOverlay33279.simpleShow.offAnim{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}","elementSets":[],"javaScriptCode":{"code":"(function() {if (! document.getElementById(\"kameleoonScenarioLayerBase33279\")){if (! document.getElementById(\"kameleoonOverlay33279\")){var overlayDiv = document.createElement(\"div\"); overlayDiv.id = \"kameleoonOverlay33279\"; overlayDiv.className = \"kameleoonOverlay \"; document.body.appendChild(overlayDiv);}  var layerDiv9389 = document.createElement(\"div\");layerDiv9389.id = \"kameleoonScenarioLayerBase33279\";layerDiv9389.className=\"KameleoonJavaScriptAdded KameleoonJavaScriptAddedTemp\";document.body.appendChild(layerDiv9389);  layerDiv9389.innerHTML = '<div id=\"KameleoonAnimationContainer33279\" class=\"\"><a href=\"#\" class=\"KameleoonScenarioLayerClose\" id=\"KameleoonScenarioLayerCloseButton33279\" title=\"Close\" ><img src=\"//static.kameleoon.eu/images/common/personalizations/circle-close.png\" /> <\u002fa><div id=\"kameleoonScenarioLayerContainer33279\">\\u003cstyle\\u003e\\n  .kml-popin \\u007b\\n\\t\\twidth:400px\\u003b\\n\\t\\u007d\\n\\t.kml-popin-title \\u007b\\n\\t\\tbackground-color:#f2f2f2\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:15px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\tposition:relative\\u003b\\n\\t\\tline-height: 32px !important\\u003b\\n\\t\\u007d\\n\\t.kml-popin-txt \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tcolor:#000\\u003b\\n\\t\\tfont-size:14px\\u003b\\n\\t\\tfont-weight:300\\u003b\\n\\t\\ttext-align:left\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\tmax-height:400px\\u003b\\n\\t\\toverflow-y:auto\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close \\u007b\\n\\t\\tposition: absolute\\u003b\\n\\t\\tright: 5px\\u003b\\n\\t\\ttop: 0\\u003b\\n\\t\\ttext-decoration: none\\u003b\\n\\t\\tcolor: #232323\\u003b\\n\\t\\tfont-size: 28px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-close:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#232323\\u003b\\n\\t\\u007d\\n\\t.kml-popin-link \\u007b\\n\\t\\tbackground-color:#ffffff\\u003b\\n\\t\\tpadding:10px\\u003b\\n\\t\\ttext-align:center\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button \\u007b\\n\\t\\tcolor:#ffffff\\u003b\\n        padding:10px 50px\\u003b\\n        background-color:#f5b027\\u003b\\n        margin:0\\u003b\\n        font-size: 16px\\u003b\\n\\t\\tdisplay:inline-block\\u003b\\n\\t\\twhite-space:nowrap\\u003b\\n\\t\\toverflow:hidden\\u003b\\n\\t\\ttext-overflow:ellipsis\\u003b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tborder-radius:4px\\u003b\\n\\t\\tfont-weight:900\\u003b\\n\\t\\u007d\\n\\t.kml-popin-button:hover \\u007b\\n\\t\\ttext-decoration:none\\u003b\\n\\t\\tcolor:#ffffff\\u003b\\n\\t\\u007d\\n\\t.KameleoonScenarioLayerClose \\u007b\\n\\t\\tdisplay:none\\u003b\\n\\t\\u007d\\n\\t\\u0040media \\u0028max-width: 480px\\u0029 \\u007b\\n\\t\\t.kml-popin \\u007b\\n\\t\\t\\twidth:300px\\u003b\\n\\t\\t\\u007d\\n\\t\\u007d\\n\\u003c\\u002fstyle\\u003e\\n\\n\\u003cdiv class=\\u0022kml-popin\\u0022\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-title\\u0022\\u003e\\n\\t\\tAvant d\\u0027acheter cet appareil HONOR\\n\\t\\t\\u003ca href=\\u0022#\\u0022 class=\\u0022kml-popin-close\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002833279\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase33279\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay33279\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003e\\n\\t\\t\\tx\\n\\t\\t\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\u003cdiv class=\\u0022kml-popin-txt\\u0022\\u003e\\n\\u003cb\\u003eDot\\u0026eacute\\u003b du système d\\u0027exploitation Android\\u002c cet appareil HONOR utilise l’AppGallery avec toujours l\\u0027interface EMUI.\\u003c\\u002fb\\u003e\\u003cbr\\u003e\\n\\u003cu\\u003eCela signifie que les services et applications Google ne sont pas int\\u0026eacute\\u003bgr\\u0026eacute\\u003bs \\u0026agrave\\u003b cet appareil\\u003c\\u002fu\\u003e\\u002c mais dispose en revanche d\\u0027un acc\\u0026egrave\\u003bs \\u0026agrave\\u003b un catalogue d\\u0027applications via la boutique d\\u0027applications HONOR AppGallery.\\u003cbr\\u003e\\nUne tr\\u0026egrave\\u003bs large partie des services et applications sont disponibles en t\\u0026eacute\\u003bl\\u0026eacute\\u003bchargement par la boutique HONOR AppGallery\\u002c \\u0026agrave\\u003b noter que des applications tierces ne sont pas encore disponibles : Plus d\\u0027informations sur \\u003ca href=\\u0022https:\\u002f\\u002fwww.hihonor.com\\u002ffrance\\u002fcms\\u002fhonor-hms\\u0022 target=\\u0022_blank\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ehttps:\\u002f\\u002fwww.hihonor.com\\u002ffrance\\u002fcms\\u002fhonor-hms\\u003c\\u002fa\\u003e\\n\\u003cbr\\u003e\\u003cbr\\u003e\\n\\u003cb\\u003eTESTEZ-LE\\u002c en achetant cet appareil HONOR vendu et exp\\u0026eacute\\u003bdi\\u0026eacute\\u003b par FNAC \\u0028hors marketplace\\u0029\\u002c vous b\\u0026eacute\\u003bn\\u0026eacute\\u003bficiez d\\u0027un d\\u0026eacute\\u003blai de 15 jours pour changer d\\u0027avis suivant votre achat en magasin ou sur notre site internet \\u003ca href=\\u0022https:\\u002f\\u002fwww.fnac.com\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ewww.fnac.com\\u003c\\u002fa\\u003e.\\u003c\\u002fb\\u003e\\u003cbr\\u003e\\nEn achetant cet appareil sur le site \\u003ca href=\\u0022https:\\u002f\\u002fwww.fnac.com\\u002f\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022\\u003ewww.fnac.com\\u003c\\u002fa\\u003e\\u002c vous b\\u0026eacute\\u003bn\\u0026eacute\\u003bficiez \\u0026eacute\\u003bgalement du droit de r\\u0026eacute\\u003btractation \\u0026agrave\\u003b exercer dans un d\\u0026eacute\\u003blai de 15 jours suivant la date de d\\u0026eacute\\u003blivrance de votre produit. Pour plus d\\u0027information sur votre droit de r\\u0026eacute\\u003btractation vous pouvez consulter les CGV. \\n\\u003cbr\\u003e\\u003cbr\\u003e\\nN\\u0027h\\u0026eacute\\u003bsitez pas \\u0026agrave\\u003b contacter notre service client au 0.960.36.03.36\\u003cbr\\u003e\\n\\u003cb\\u003eEn cliquant sur « J\\u0027ai compris » ci-dessous\\u002c vous reconnaissez comprendre que ce produit utilise les Huawei Mobile Services \\u0028\\u003ca href=\\u0022https:\\u002f\\u002fwww.hihonor.com\\u002ffrance\\u002fcms\\u002fhonor-hms\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022 target=\\u0022_blank\\u0022\\u003eAppGallery exclusivement\\u003c\\u002fa\\u003e\\u0029 en lieu et place des Google Mobile Services \\u0028\\u003ca href=\\u0022https:\\u002f\\u002fwww.hihonor.com\\u002ffrance\\u002fcms\\u002fhonor-hms\\u0022 style=\\u0022color: #f5b027\\u003b\\u0022 target=\\u0022_blank\\u0022\\u003ePlaystore\\u003c\\u002fa\\u003e\\u0029.\\u003c\\u002fb\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\t\\u003cdiv class=\\u0022kml-popin-link\\u0022\\u003e\\n\\t\\t\\u003ca class=\\u0022kml-popin-button\\u0022 href=\\u0022#\\u0022 onclick=\\u0022Kameleoon.API.Personalizations.disable\\u002833279\\u0029\\u003bdocument.getElementById\\u0028\\u0027kameleoonScenarioLayerBase33279\\u0027\\u0029.style.display=\\u0027none\\u0027\\u003bdocument.getElementById\\u0028\\u0027kameleoonOverlay33279\\u0027\\u0029.style.display=\\u0027none\\u0027\\u0022\\u003eJ\\u0027ai compris\\u003c\\u002fa\\u003e\\n\\t\\u003c\\u002fdiv\\u003e\\n\\u003c\\u002fdiv\\u003e<\u002fdiv><\u002fdiv>';}var closeKameleoonScenarioLayer = [];closeKameleoonScenarioLayer[33279] = function(){Kameleoon.API.Personalizations && Kameleoon.API.Personalizations.disable(33279);document.getElementById(\"kameleoonScenarioLayerBase33279\").style.display = \"none\";document.getElementById(\"kameleoonOverlay33279\").style.display = \"none\";};var kameleoonOverlay33279 = document.getElementById(\"kameleoonOverlay33279\");if(kameleoonOverlay33279){kameleoonOverlay33279.onclick = closeKameleoonScenarioLayer[33279];}var kameleoonScenarioLayerCloseButton = document.getElementById(\"KameleoonScenarioLayerCloseButton33279\");if(kameleoonScenarioLayerCloseButton) {kameleoonScenarioLayerCloseButton.onclick = function() {closeKameleoonScenarioLayer[33279](); return false;}}var kameleoonScenarioLayerContent33279 = document.getElementById(\"kameleoonScenarioLayerContent33279\");if(kameleoonScenarioLayerContent33279) {var viewPortWidth = document.documentElement.clientWidth;var contentWidth = kameleoonScenarioLayerContent33279.style.maxWidth || kameleoonScenarioLayerContent33279.style.width;if(contentWidth && contentWidth.length > 2) {var contentWidthInt = parseInt(contentWidth.substring(0, contentWidth.length - 1));if(contentWidthInt > viewPortWidth) {kameleoonScenarioLayerContent33279.style.maxWidth = viewPortWidth + \"px\";}}}})();","afterDOMReady":true}},{"name":"Variation 1","id":517075,"css":"/* START CUSTOM */\n\n.kam-maCup{background-size:25%;background-color:#fff;background-image:url(\"https://storage.kameleoon.eu/fnac/cardWithPowerOfBreakingTables/blackCardRotated.png\") !important;background-repeat:no-repeat;background-position-x:60px;background-position-y:center}@media screen and (max-width:1100px){.kam-maCup{background-size:50% !important;background-position-x:center !important;background-position-y:50px !important}}@media screen and (max-width:800px){.kam-maCup{background-size:75% !important}}.kam-maCup__img-content{margin:-50px 0 30px 50px;width:100%}@media screen and (max-width:1260px){.kam-maCup__img-content{transform:scale(1.1);margin-left:10px;margin-top:10px}}@media screen and (max-width:1190px){.kam-maCup__img-content{margin-top:10px}}@media scren and (max-width:1150px){.kam-maCup__img-content{transform:scale(1.331);margin-top:50px}}@media screen and (max-width:1100px){.kam-maCup__img-content{transform:scale(1);width:100%;margin-left:25px}}.kam-ma-myCard{position:relative;padding-bottom:0}.kam-maStrate-bigImageClass{margin-top:0 !important;transform:scale(1.15)}@media screen and (max-width:768px){.kam-maStrate-bigImageClass{transform:scale(1.35)}}@media screen and (max-width:500px){.kam-maStrate-bigImageClass{transform:scale(1.25)}}@media screen and (max-width:400px){.kam-maStrate-bigImageClass{transform:scale(1.15)}}@media screen and (max-width:350px){.kam-maStrate-bigImageClass{transform:scale(1)}}.kam-maStrate-smallImageClass{margin-left:50%;transform:translateX(-50%);width:120%}@media screen and (max-width:922px){.kam-maStrate-smallImageClass{width:75%}}@media screen and (max-width:768px){.kam-maStrate-smallImageClass{width:80%}}@media screen and (max-width:500px){.kam-maStrate-smallImageClass{width:100%}}@media screen and (max-width:450px){.kam-maStrate-smallImageClass{width:110%}}@media screen and (max-width:400px){.kam-maStrate-smallImageClass{width:120%}}@media screen and (max-width:350px){.kam-maStrate-smallImageClass{width:125%}}@media screen and (max-width:340px){.kam-maStrate-smallImageClass{width:135%}}.kam-ma-newBlueImage{margin-bottom:15px;max-width:100% !important}.kam-ma-cardPushPlusTitle{font-weight:bold !important;font-size:.9em}.kam-ma-cardPushPlusTitle .kam-ma-highlightedText{color:#f5b027}.kam-dark-highlight{color:#55c8d2 !important}.kam-ma-hightlightedButton{background:#f5b027;color:black}.kam-lilImgToReplace{max-width:100% !important;padding:30px 0 50px}.kam-dark-highlighted-CTA{border:0 !important;color:white !important;background:#55c8d2 !important}.kam-ma-CardPopinBtn{color:white !important;background:#55c8d2 !important}@media screen and (max-width:992px){.kam-myCardWithEmptyMobile .ma-CardPushPlusTitle,.kam-myCardWithEmptyMobile .ma-CardPushPlusIcon{display:none}.kam-myCardWithEmptyMobile .ma-MyCard{padding-bottom:20px}.kam-myCardWithEmptyMobile .ma-CardPushPlus{padding-top:0;padding-bottom:0;border-top:none !important}.kam-myCardWithEmptyMobile .ma-CardPushPlus::before{display:none !important}}.kam-statuc-textElement{position:absolute;left:50%;transform:translateX(-50%);font-size:80%}.kam-ma-CardPushPlusIcon{display:flex;justify-content:center;margin-top:0;max-width:100% !important;margin:30px 0 60px}.kam-ma-CardPushPlusIcon .kam-smallImgForCase3{max-width:100% !important;max-height:250px !important}.kam-maCardPushPlusText{margin-top:-40px;color:#a1a0a4}.kam-ie-smallImgForCase3{max-width:450px !important}.kam-ie-smallImgForCase3 .kam-ie-ma-cardPushPlusIcon{margin-left:-130px !important;max-width:750px !important}.ma-MyCard{width:20%}@media screen and (max-width:992px){.ma-MyCard{width:100% !important;min-width:100% !important}}.f-Membership-content.js-Membership-content>div:nth-of-type(1){display:flex;justify-content:center;align-items:center;margin-top:15px;margin-bottom:15px}.f-Membership-content.js-Membership-content>div:nth-of-type(1)>div{width:28%}.f-Membership-content.js-Membership-content>div:nth-of-type(1)>div>img{width:100%}@media screen and (max-width:450px){.f-Membership-content.js-Membership-content>div:nth-of-type(1)>div>img{transform:scale(1.3)}}.kameleoon-textBelowPictos{font-size:16px;color:#53c4f8}.kameleoon-CTAwithUpdatedTextBelowPictos{border-radius:3px}.kameleoon-svg-inside-the-top-text{vertical-align:text-top}.kameleoon-smallFontIn5UseCase{margin-top:15px}.kameleoon-smallFontIn5UseCase__text{font-size:14px;color:#c6c6c6}.kameleoon-contentStrate,.kameleoon-orderStrate{min-height:350px !important}@media screen and (max-width:992px){.kam-f-Membership-title{padding-bottom:10px}}.kameleoon-membershipContentWrapper{min-height:318.453px !important}.kameleoon-cardPushPlusBlock{display:flex !important;flex-direction:column;align-items:center;width:66.666% !important}.kameleoon-maMyCardContainer{display:flex;justify-content:center}.kameleoon-maMyCard{display:block !important;width:33.333% !important}.kam-ma-curdPushPlusIcon{width:100%;padding:30px 0 60px}.kam-ma-curdPushPlusIcon .kam-ma-curdPushPlusIconImg{width:85%}.kameleoon-maMyCard{width:50%}.kameleoon-maMyCard-halfSized{width:50% !important}.kam-orangeCTA{background-color:#58c7df;color:white;border-color:none}","elementSets":[],"javaScriptCode":{"code":"function invokePolyfills() {\n    ReplaceWithPolyfill();\n    forEachPolyfill();\n}\n\nfunction ReplaceWithPolyfill() {\n    function polyfillCode() {\n        'use-strict'; // For safari, and IE > 10\n        var parent = this.parentNode, i = arguments.length, currentNode;\n        if (!parent) return;\n        if (!i) // if there are no arguments\n          parent.removeChild(this);\n        while (i--) { // i-- decrements i and returns the value of i before the decrement\n          currentNode = arguments[i];\n          if (typeof currentNode !== 'object'){\n            currentNode = this.ownerDocument.createTextNode(currentNode);\n          } else if (currentNode.parentNode){\n            currentNode.parentNode.removeChild(currentNode);\n          }\n          // the value of \"i\" below is after the decrement\n          if (!i) // if currentNode is the first argument (currentNode === arguments[0])\n            parent.replaceChild(currentNode, this);\n          else // if currentNode isn't the first\n            parent.insertBefore(currentNode, this.previousSibling);\n        }\n    }\n    if (!Element.prototype.replaceWith)\n        Element.prototype.replaceWith = polyfillCode;\n    if (!CharacterData.prototype.replaceWith)\n        CharacterData.prototype.replaceWith = polyfillCode;\n    if (!DocumentType.prototype.replaceWith) \n        DocumentType.prototype.replaceWith = polyfillCode;\n}\n\nfunction forEachPolyfill() {\n  if (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n}\n\nfunction ifFnacOneMember() {\n    return window.tc_vars['user_segment'] == \"Adherent\" && window.tc_vars['express_plus'] == \"Non\";\n}\n\nfunction ifExpressPlusMember() {\n    return window.tc_vars['user_segment'] == \"Adherent\" && window.tc_vars['express_plus'] == \"Oui\";\n}\n\nfunction firstCaseTc_vars() {\n    return ifFnacOneMember() && !ifExpressPlusMember();\n}\n\nfunction secondCaseTc_vars() {\n    return ifExpressPlusMember();\n}\n\nfunction sixthCaseTc_vars() {\n    return window.tc_vars['user_segment'] == \"Adherent\" \n            && window.tc_vars['express_plus'] == \"Non\"\n            && window.tc_vars['eligibility_express_plus_trial'] == \"Non\";\n}\n\nfunction seventhCaseTc_vars() {\n    return window.tc_vars['user_segment'] == \"Non-Adherent\"\n            && window.tc_vars['express_plus'] == \"Non\"\n            && window.tc_vars['eligibility_express_plus_trial'] == \"Non\";\n}\n\nfunction commonCaseTc_vars() {\n    return firstCaseTc_vars() || secondCaseTc_vars();\n}\n\nfunction checkForCase1() {\n    const hrefForCase1 = 'https://secure.fnac.com/myaccount/membership/membershiphistory';\n    return location.href.toLowerCase().match(hrefForCase1) && firstCaseTc_vars();\n}\n\nfunction checkForCase1$1() {\n    const hrefForCase1 = 'https://secure.fnac.com/myaccount/membership/membershiphistory';\n    return location.href.toLowerCase().match(hrefForCase1) && secondCaseTc_vars();\n}\n\nfunction checkForCase6() {\n    return sixthCaseTc_vars();\n}\n\nfunction checkForCase7() {\n    return seventhCaseTc_vars();\n}\n\nfunction checkForCommonCase() {\n    return location.href.match('https://secure.fnac.com/account/dashboard') && commonCaseTc_vars();\n}\n\nfunction tc_varsExists() {\n    return typeof window.tc_vars !== \"undefined\";\n}\n\nfunction getUDID() {\n    var user_id = (typeof window.tc_vars[\"user_id\"] === \"string\") ? (window.tc_vars[\"user_id\"]).toUpperCase() : null;\n    return user_id;\n}\n\nfunction browserIsIE() {\n    return Kameleoon.Internals.runtime.browserName === \"Internet Explorer\";\n}\n\nfunction browserIsEdge() {\n    return Kameleoon.Internals.runtime.browserName === \"Microsoft Edge\";\n}\n\nfunction browserIsFirefox() {\n    return Kameleoon.Internals.runtime.browserName === \"Firefox\";\n}\n\nfunction isPageWithoutTcVars() {\n    const pagesWithoutTcVars = ['https://secure.fnac.com/Account/Incident/Historic','https://secure.fnac.com/Account/Alerting/MyAlerting.aspx'];\n    return pagesWithoutTcVars.some(item => location.href.toLowerCase().match(item.toLowerCase()));\n}\n\nfunction isUserNotFnacOneMember() {\n    var UDID = getUDID();\n    var usersMembership = String(sessionStorage.getItem('KameleoonDev__usersFnacOneMembershipIsChecked_' + UDID));\n    if (usersMembership === \"null\" || usersMembership === \"false\") return true;\n    else return false;\n}\n\nfunction checkForCommonCaseOnOutsidePages() {\n    const urls = ['https://secure.fnac.com/account/personal-information',\n                    'https://secure.fnac.com/account/address-book',\n                    'https://secure.fnac.com/account/payment-methods',\n                    'https://secure.fnac.com/account/update-password',\n                    'https://secure.fnac.com/MyAccount/Order',\n                    'https://secure.fnac.com/account/wishList',\n                    'https://secure.fnac.com/account/alerting',\n                    'https://secure.fnac.com/account/synchro-deezer',\n                    'https://secure.fnac.com/MyAccount/EbookHistory',\n                    'https://secure.fnac.com/Account/OrderCCV/CCVAccount.aspx',\n                    'https://secure.fnac.com/Account/Incident/Historic',\n                    'https://secure.fnac.com/Account/Alerting/MyAlerting.aspx'];\n\n    return urls.some(item => location.href.toLowerCase().match(item.toLowerCase()));\n}\n\nconst goals = {\n    'Click on CTA “Voir mes avantages”': 167865,\n    'Click on banner Fnac One Member': 168363,\n    'Click on CTA “Voir tous les avantages”': 172655,\n    'Click on CTA “J’en profite”': 172656,\n    'Click on CTA “ Je renouvelle”': 172666\n};\n\nfunction showDashboardUpdate() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link.ma-AccountNav-link--member', maCarteElements => {\n        const maCarteElement = maCarteElements[0];\n        maCarteElement.textContent = 'MON ADHÉSION';\n    });\n    \n    Kameleoon.API.Core.runWhenElementPresent('.f-Membership-cardImg', membershipCardImages => {\n        const membershipCardImage = membershipCardImages[0];\n        membershipCardImage.setAttribute('src', 'http://storage.kameleoon.eu/fnac/CARTE_FNAC_ONE_2018_+_clair-v.png');\n    \n        const statucTextElement = document.createElement('p');\n        statucTextElement.innerHTML = '<b>Statut Fnac One<\u002fb>';\n        statucTextElement.classList.add('kam-statuc-textElement');\n        membershipCardImage.insertAdjacentElement('afterend', statucTextElement);\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.f-Nav-Mobile-icon--one', navMobileIcons => {\n        const navMobileIcon = navMobileIcons[0];\n        const navMobileText = navMobileIcon.nextSibling;\n        navMobileText.textContent = 'MON ADHÉSION';\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.f-Nav-Mobile-icon--plus', navMobileIconsPlus => {\n        const navMobileIcon = navMobileIconsPlus[0];\n        const navMobileText = navMobileIcon.nextSibling;\n        navMobileText.textContent = 'MON ADHÉSION';\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.f-Membership-btn--carteFnac', membershipBtnCarteFnacs => {\n        const membershipBtnCarteFnac = membershipBtnCarteFnacs[0];\n        membershipBtnCarteFnac.setAttribute('href', 'https://www.fnac.com/choisir-carte');\n        membershipBtnCarteFnac.addEventListener('click', () => {\n            Kameleoon.API.Goals.processConversion(goals['Click on CTA “Voir tous les avantages”']);\n        });\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.blue-btn.f-Membership-btn', membershipBtns => {\n        const membershipBtn = membershipBtns[0];\n        membershipBtn.setAttribute('href', 'https://www.fnac.com/choisir-carte');\n        membershipBtn.addEventListener('click', () => {\n            Kameleoon.API.Goals.processConversion(goals['Click on CTA “Voir tous les avantages”']);\n        });\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.js-Membership-content', membershipContentWrappers => {\n        const membershipContent = membershipContentWrappers[0];\n        membershipContent.classList.add(\"kameleoon-membershipContentWrapper\");\n    });\n}\n\nfunction invokeCommonCase() {\n    showDashboardUpdate();\n}\n\nfunction updateDashboardForOutsidePages() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link--member', textLinkMembers => {\n        textLinkMembers[0].textContent = 'MON ADHÉSION';\n    });\n}\n\nfunction displayOnDashboard() {\n    const monAdhesionText = 'MON ADHÉSION';\n\n    Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link.ma-AccountNav-link--member', maCarteElements => {\n        const maCarteElement = maCarteElements[0];\n        maCarteElement.textContent = monAdhesionText;\n    });\n    \n    Kameleoon.API.Core.runWhenElementPresent('.ma-Strate-title.ma-Strate-title--big', maStrateTitleBigs => {\n        const maStrateTitleBig = maStrateTitleBigs[0];\n        maStrateTitleBig.textContent = monAdhesionText;\n    });\n    \n    Kameleoon.API.Core.runWhenElementPresent('section.ma-Strate.my-card.js-CheckoutPage > div.ma-Strate-top > h2', maStrateTitleSmalls => {\n        const maStrateTitleSmall = maStrateTitleSmalls[0];\n        maStrateTitleSmall.parentNode.removeChild(maStrateTitleSmall);\n    });\n}\n\nfunction ieCssPolyfillsForUsecase3() {\n    Kameleoon.API.Core.runWhenElementPresent('.kam-smallImgForCase3', smallImages => {\n        const image = smallImages[0];\n        image.setAttribute('style', `\n            margin-left: -130px !important;\n            max-width: 750px !important;\n        `);\n\n        const wrapper = image.parentElement;\n        if (!wrapper) return false;\n        else wrapper.setAttribute('style', `\n            max-width: 450px !important;\n        `);\n    });\n}\n\nfunction iePolyfillForBlueImage() {\n    Kameleoon.API.Core.runWhenElementPresent('.kam-ma-newBlueImage', blueImages => {\n        const image = blueImages[0];\n        image.setAttribute('style', `\n            width: 450px !important;\n            transform: scale(1.15) translateY(-15px);\n        `);\n    });\n}\n\n// remove polyfill\n(function (arr) {\n    arr.forEach(function (item) {\n        if (item.hasOwnProperty('remove')) {\n            return;\n        }\n        Object.defineProperty(item, 'remove', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: function remove() {\n                if (this.parentNode === null) {\n                    return;\n                }\n                this.parentNode.removeChild(this);\n            }\n        });\n    });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\nfunction createMaCupContentBandeauOne(maCup, options) {\n    const contentDiv = maCup.querySelector('.ma-Cup-cont');\n    if (!contentDiv) return false;\n    else contentDiv.innerHTML = '';\n\n    maCup.classList.add('kam-maCup');\n    maCup.addEventListener('click', _ => {\n        Kameleoon.API.Goals.processConversion(goals['Click on banner Fnac One Member']);\n        location.href = 'https://www.fnac.com/choisir-carte';\n    });\n\n    (function updateContent() {\n        const img = document.createElement('img');\n        img.classList.add('kam-maCup__img-content');\n        img.setAttribute('src', options.linkToContentImage);\n        contentDiv.appendChild(img);\n    })();\n\n    return maCup;\n}\n\nfunction createMobileMaCup(maStrate, options) {\n    const maMyCard = maStrate.querySelector('.ma-MyCard');\n    maMyCard && maMyCard.classList.add('kam-ma-myCard');\n\n    const maMyCardTitle = maStrate.querySelector('.ma-MyCardTitle');\n    maMyCardTitle && maMyCardTitle.remove();\n\n    const maMyCardNumber = maStrate.querySelector('.ma-MyCardNumber');\n    maMyCardNumber && maMyCardNumber.remove();\n\n    const maStrateTitle = maStrate.querySelector('.ma-Strate-title');\n    if (maStrateTitle) maStrateTitle.textContent = options.title;\n\n    const cardPushTitleLogo = maStrate.querySelector('.ma-CardPushTitle-logo');\n    if (cardPushTitleLogo) {\n        cardPushTitleLogo.setAttribute('src', options.bigImageLink);\n        cardPushTitleLogo.classList.add('kam-maStrate-bigImageClass');\n    }\n    \n    const links = maStrate.querySelectorAll('a.btn');\n    for (let i = 0; i < links.length; i++) {\n        links[i].remove();\n    }\n        \n    const img = document.createElement('img');\n    img.setAttribute('src', options.smallImageLink);\n    img.classList.add('kam-maStrate-smallImageClass');\n    maMyCard.appendChild(img);\n\n    return maStrate;\n}\n\nfunction addNewMaCup(options) {\n    let selector = '.ma-Cup';\n    if (options.mobile) selector = '.ma-Strate';\n\n    Kameleoon.API.Core.runWhenElementPresent(selector, maCups => {\n        const maCup = maCups[0];\n        const clonedMaCup = maCup.cloneNode(true);\n\n        const maCupOptions = {\n            firstTitle: 'MES AVANTAGES',\n            secondTitle: 'CARTE FNAC ONE',\n            linkToContentImage: 'https://ds1h54b9h1.kameleoon.eu/images/90379-15c37186-e379-40f3-8fa6-c48101974004.png'\n        };\n\n        let filledWithContentMaCup;\n        if (options.mobile) filledWithContentMaCup = createMobileMaCup(clonedMaCup, options);\n        else filledWithContentMaCup = createMaCupContentBandeauOne(clonedMaCup, maCupOptions);\n        if (!filledWithContentMaCup) return false;\n        \n        const firstMaStrate = document.querySelector('.ma-Strate');\n        const secondMaStrate = document.createElement('section');\n        secondMaStrate.classList.add('ma-Strate');\n\n        if (options.mobile) firstMaStrate.insertAdjacentElement('beforebegin', filledWithContentMaCup);\n        else {\n            firstMaStrate.insertAdjacentElement('afterend', secondMaStrate);\n            secondMaStrate.appendChild(filledWithContentMaCup);\n        }\n    });\n\n    if (options.mobile) {\n        (function updateMaCardImgForMobiles() {\n            Kameleoon.API.Core.runWhenElementPresent('.ma-MyCardImg img', imgs => {\n                const img = imgs[0];\n                img.setAttribute('src', 'https://storage.kameleoon.eu/fnac/cardWithPowerOfBreakingTables/blackCardRotated.png');\n            });\n        })();\n    }\n}\n\nfunction changeRightSidePictoInCarteFnac(options) {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlus', cardPushPluses => {\n        const cardPushPlus = cardPushPluses[0];\n        const imgToReplace = cardPushPlus.querySelector('.ma-CardPushPlusIcon img');\n        if (!imgToReplace) return false;\n\n        imgToReplace.setAttribute('src', options.imgToReplace);\n        imgToReplace.classList.add('kam-ma-newBlueImage');\n        \n        if (browserIsIE()) iePolyfillForBlueImage();\n        if (options.classForImgToReplace) imgToReplace.classList.add(options.classForImgToReplace);\n    });\n}\n\nfunction deleteLastInfoInCarteFnac() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlus', cardPushPluses => {\n        const cardPushPlus = cardPushPluses[0];\n        const infoContainer = cardPushPlus.querySelector('.ma-CardPushPlusIcon-content');\n        infoContainer && infoContainer.remove();\n        const plusText = cardPushPlus.querySelector('.ma-CardPushPlusText');\n        plusText && plusText.remove();\n    });\n}\n\nfunction updateAroundInfoInCarteFnac(options) {\n    (function addMaCarteTop() {\n        const myCard = document.querySelector('.ma-Strate.my-card');\n        if (!myCard) return false;\n\n        const maCarteTopHTML = `\n            <div class=\"ma-Strate-top\">\n                <h2 class=\"ma-Strate-title\">\n                    MA CARTE\n                <\u002fh2>\n            <\u002fdiv>\n        `;\n        myCard.insertAdjacentHTML('afterbegin', maCarteTopHTML);\n    })();\n\n    (function updateHeader() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusTitle', cardPushPlusTitles => {\n            const cardPushPlusTitle = cardPushPlusTitles[0];\n            cardPushPlusTitle.innerHTML = `<b class=\"kam-ma-cardPushPlusTitle\">\n                                                Mes Avantages <b class=\"kam-ma-highlightedText\">Carte FNAC<\u002fb>\n                                           <\u002fb>`;\n            if (options.hightlightedColor) {\n                const highlightedText = cardPushPlusTitle.querySelector('.kam-ma-highlightedText');\n                highlightedText.classList.add(options.hightlightedColor);\n            }\n        });\n    })();\n\n    (function updateCTA() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusBtn.btn', cardPushPlusBtns => {\n            const cardPushPlusBtn = cardPushPlusBtns[0];\n            cardPushPlusBtn.classList.add('kam-ma-hightlightedButton');\n            cardPushPlusBtn.addEventListener('click', () => {\n                Kameleoon.API.Goals.processConversion(goals['Click on CTA “Voir tous les avantages”']);\n            });\n            cardPushPlusBtn.setAttribute('href', 'https://www.fnac.com/choisir-carte');\n            cardPushPlusBtn.textContent = 'Voir tous les avantages';\n        });\n    })();\n\n    (function deleteSuggestionTextUnderCTA() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushLink.js-CheckoutLink', cardPushLinks => {\n            const cardPushLink = cardPushLinks[0];\n            cardPushLink.remove();\n        });\n    })();\n}\n\nfunction invokeFirstCase(options) {\n    if (document.body.classList.contains('account--mobile')) {\n        addNewMaCup({\n            mobile: true,\n            title: 'MON ADHÉSION',\n            bigImageLink: 'https://storage.kameleoon.eu/fnac/cardWithPowerOfBreakingTables/blackCardRotated.png',\n            bigImageClass: '.kam-maStrate-bigImageClass',\n            smallImageLink: 'https://ds1h54b9h1.kameleoon.eu/images/90379-15c37186-e379-40f3-8fa6-c48101974004.png'\n        });\n    } else {\n        addNewMaCup({});\n        displayOnDashboard();\n        changeRightSidePictoInCarteFnac({\n            imgToReplace: options.imgToReplace,\n            classForImgToReplace: options.classForImgToReplace\n        });\n        if (!options.classForImgToReplace) {\n            deleteLastInfoInCarteFnac();\n            updateAroundInfoInCarteFnac({\n                hightlightedColor: options.hightlightedColor\n            });\n        }\n    }\n}\n\nfunction invokeSecondCase() {\n    //addCTA();\n    changeHeader();\n    deleteMediaInMobilesViaCSS();\n    updateMobileCTA();\n}\n\nfunction changeHeader() {\n    Kameleoon.API.Core.runWhenElementPresent('.kam-ma-highlightedText', headers => {\n        const header = headers[0];\n        header.textContent = 'Carte Fnac+';\n    });\n}\n\nfunction deleteMediaInMobilesViaCSS() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-MyCardContainer', myCardContainers => {\n        const myCardContainer = myCardContainers[0];\n        myCardContainer.classList.add('kam-myCardWithEmptyMobile');\n    });\n}\n\nfunction updateMobileCTA() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-MyCard', _ => {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPopinBtn', cardPopinBtns => {\n            const cardPopinBtn = cardPopinBtns[0];\n            cardPopinBtn.classList.add('kam-ma-CardPopinBtn');\n            cardPopinBtn.textContent = 'Ma Carte adhèrent Fnac';\n        });\n    });\n}\n\nfunction addWidthToCardPushPlusIcon() {\n    Kameleoon.API.Core.runWhenElementPresent('.kam-ma-CardPushPlusIcon', plusIcons => {\n        plusIcons[0].setAttribute('style', `\n            max-width: 750px !important;\n        `);\n    });\n}\n\nfunction invokeThirdCaseWithNoFnacOneMembership() {\n    (function replaceImg(){\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusIcon img', imgs => {\n            const img = imgs[0];\n            img.classList.add('kam-smallImgForCase3');\n            img.parentElement.classList.add('kam-ma-CardPushPlusIcon');\n            img.setAttribute('src', 'https://storage.kameleoon.eu/fnac/AccountMember/bandeauCarte-blue5.png');\n\n            if (browserIsFirefox()) addWidthToCardPushPlusIcon();\n        });\n    })();\n\n    (function deleteAroundInfo(){\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusIcon-content', contents => {\n            const content = contents[0];\n            content.parentElement.removeChild(content);\n        });\n    })();\n\n    (function updateCardPushPlusText() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusText', texts => {\n            const text = texts[0];\n            text.classList.add('kam-maCardPushPlusText');\n        });\n    })();\n\n    (function updateBigTitle() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-Strate-title--big', bigTitles => {\n            const bigTitle = bigTitles[0];\n            bigTitle.textContent = 'MON ADHÉSION';\n        });\n    })();\n\n    (function updateMaCartePushBlock() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlus', cardPushPlusBlocks => {\n            const cardPushPlus = cardPushPlusBlocks[0];\n            cardPushPlus.classList.add('kameleoon-cardPushPlusBlock');\n        });\n    })();\n\n    (function updateMaMyCardContainers() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-MyCardContainer', maMyCardContainers => {\n            const maMyCardContainer = maMyCardContainers[0];\n            maMyCardContainer.classList.add('kameleoon-maMyCardContainer');\n        });\n    })();\n\n    (function updateMaMyCardBlock() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-MyCard', maMyCards => {\n            const maMyCardsBlock = maMyCards[0];\n            maMyCardsBlock.classList.add('kameleoon-maMyCard');\n        });\n    })();\n\n    (function suppressOrangeCTA() {\n        Kameleoon.API.Core.runWhenElementPresent('.btn.ma-CardPopinBtn.js-CardPopin', cardPopinBtns => {\n            const cardPopinBtn = cardPopinBtns[0];\n            cardPopinBtn.parentElement.removeChild(cardPopinBtn);\n            Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushBtn.btn', btns => {\n                const btn = btns[0];\n                btn.classList.add('kam-orangeCTA');\n            });\n        });\n    })();\n\n    invokeThirdCaseInDashboard();\n\n    (function iePolyfill() {\n        if (browserIsIE()) ieCssPolyfillsForUsecase3();\n    })();\n\n    (function edgePolyfill() {\n        if (browserIsEdge()) edgeCssPolyfills();\n    })();\n}\n\nfunction invokeThirdCaseInDashboard() {\n    (function updateTextFromMaCarte() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link--member', accountNavLinks => {\n            const link = accountNavLinks[0];\n            link.textContent = 'MON ADHÉSION';\n        });\n    })();\n\n    (function updateNavMobileLink() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Nav-Mobile-link .f-Nav-Mobile-icon--plus', mobileIconPlus => {\n            const icon = mobileIconPlus[0];\n            const textElem = icon.nextSibling;\n            textElem.textContent = 'MON ADHÉSION';\n        });\n    })();\n\n    (function updateNavOldMobileLink() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Nav-Mobile-link .f-Nav-Mobile-icon--old', mobileIconPlus => {\n            const icon = mobileIconPlus[0];\n            const textElem = icon.nextSibling;\n            textElem.textContent = 'MON ADHÉSION';\n        });\n    })();\n\n    (function updateNavOneMobileLink() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Nav-Mobile-link .f-Nav-Mobile-icon--one', mobileIconPlus => {\n            const icon = mobileIconPlus[0];\n            const textElem = icon.nextSibling;\n            textElem.textContent = 'MON ADHÉSION';\n        });\n    })();\n\n    (function addListenerToLesAvantagesButton() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-btn--carteFnac', buttons => {\n            buttons[0].addEventListener('click', _ => {\n                Kameleoon.API.Goals.processConversion(goals['Click on CTA “Voir tous les avantages”']);\n            });\n        });\n    })();\n\n    (function addListenerToJeProfileButton() {\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusBtn.btn', buttons => {\n            buttons[0].addEventListener('click', _ => {\n                Kameleoon.API.Goals.processConversion(goals['Click on CTA “J’en profite”']);\n            });\n        });\n    })();\n}\n\nfunction invokeCase5AndCase6() {\n    invokeTheCase();\n}\n\nfunction invokeTheCase() {\n    Kameleoon.API.Core.runWhenElementPresent('.f-Membership-content.js-Membership-content', _ => {\n        updatePictos();\n        updateTextAbovePictos();\n        updateTextBelowPictos();\n        updateCTAtext();\n        makeStrateContainersTheSameSize();\n    });\n\n    function updatePictos(){\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon.f-Membership-icon--delivery', deliveryPictos => {\n            changeElementToPictoWithUrl(deliveryPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-man-with-box.jpg');\n        });\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon.f-Membership-icon--basket', basketPictos => {\n            changeElementToPictoWithUrl(basketPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-minus-5-percents.jpg');\n        });\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon:last-child', deliveryPictos => {\n            changeElementToPictoWithUrl(deliveryPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-basket-with-star.jpg');\n        });\n\n        function changeElementToPictoWithUrl(element, URL) {\n            const pictoWrapper = getNewWrapperWithPictoWithUrl(URL);\n            element.replaceWith(pictoWrapper);\n        }\n\n        function getNewWrapperWithPictoWithUrl(url) {\n            const pictoWrapper = document.createElement('div');\n            pictoWrapper.classList.add('kam-picto__wrapper');\n            pictoWrapper.innerHTML = `\n                <img src=${url}>\n            `;\n\n            return pictoWrapper;\n        }\n    }\n    function updateTextAbovePictos() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-title', textWrappers => {\n            const textWrapper = textWrappers[0];\n            textWrapper.firstChild && (textWrapper.firstChild.textContent = 'Découvrez les avantages de la Carte ');\n            textWrapper.classList.add('kam-f-Membership-title');\n\n            const svgInside = textWrapper.querySelector('.f-icon.f-Membership-title-logo');\n            svgInside.classList.add('kameleoon-svg-inside-the-top-text');\n        });\n    }\n    function updateTextBelowPictos() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-textSubcontentContainer', containers => {\n            const textSubcontentContainer = containers[0];\n            const textBelowPictos = 'Et bien d’autres avantages !';\n\n            textSubcontentContainer.innerHTML = `\n                <p class=\"kameleoon-textBelowPictos\">\n                    ${textBelowPictos}\n                <\u002fp>\n            `;\n        });\n    }\n    function updateCTAtext() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-content.js-Membership-content a', ctas => {\n            const cta = ctas[0];\n            cta.classList.add('kameleoon-CTAwithUpdatedTextBelowPictos');\n            cta.textContent = 'Je prends la Carte Fnac+';\n        });\n    }\n    function makeStrateContainersTheSameSize() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-content.js-Membership-content', contentStrates => {\n            Kameleoon.API.Core.runWhenElementPresent('.f-LastOrder-content.js-LastOrder-content', orderStrates => {\n                const contentStrate = contentStrates[0];\n                const orderStrate = orderStrates[0];\n\n                contentStrate.classList.add('kameleoon-contentStrate');\n                orderStrate.classList.add('kameleoon-orderStrate');\n            });\n        });\n    }\n}\n\nfunction invokeCase6() {\n    invokeCase5AndCase6();\n}\n\nfunction invokeCase7() {\n    if (location.href.toLowerCase().match('https://secure.fnac.com/account/dashboard')\n        || location.href.toLowerCase().match('https://secure.fnac.com/account/dashboard#bl=pictocompte')) {\n        invokeDashboardCase();\n    } else if (location.href.toLowerCase().match('https://secure.fnac.com/MyAccount/MemberShip/MemberShipHistory'.toLowerCase())) {\n        membershipHistoryCase();\n    }\n}\n\nfunction invokeDashboardCase() {\n    Kameleoon.API.Core.runWhenElementPresent('.f-Membership-content.js-Membership-content', _ => {\n        updatePictos();\n        updateSiblingContentHeight();\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.f-Membership-textSubcontentContainer', texts => {\n        texts[0].parentElement.removeChild(texts[0]);\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.f-LastOrder-content.js-LastOrder-content', block => {\n        block[0].style.minHeight = '273.21px';\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link.ma-AccountNav-link--member', _ => {\n        updateMaCarteLink(_);\n    });\n\n    function updatePictos(){\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon.f-Membership-icon--delivery', deliveryPictos => {\n            changeElementToPictoWithUrl(deliveryPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-man-with-box.jpg');\n        });\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon.f-Membership-icon--basket', basketPictos => {\n            changeElementToPictoWithUrl(basketPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-minus-5-percents.jpg');\n        });\n        Kameleoon.API.Core.runWhenElementPresent('.f-Membership-icon:last-child', deliveryPictos => {\n            changeElementToPictoWithUrl(deliveryPictos[0], 'https://storage.kameleoon.eu/fnac/AccountMember/blue-basket-with-star.jpg');\n        });\n\n        function changeElementToPictoWithUrl(element, URL) {\n            const pictoWrapper = getNewWrapperWithPictoWithUrl(URL);\n            element.replaceWith(pictoWrapper);\n        }\n\n        function getNewWrapperWithPictoWithUrl(url) {\n            const pictoWrapper = document.createElement('div');\n            pictoWrapper.classList.add('kam-picto__wrapper');\n            pictoWrapper.innerHTML = `\n                <img src=${url}>\n            `;\n\n            return pictoWrapper;\n        }\n    }\n\n    function updateSiblingContentHeight() {\n        Kameleoon.API.Core.runWhenElementPresent('.f-LastOrder-content.js-LastOrder-content', contents => {\n            contents[0].style.minHeight = '352.875px';\n        });\n    }\n}\n\nfunction membershipHistoryCase() {\n    Kameleoon.API.Core.runWhenElementPresent('.ma-MyCardContainer', myCardContainers => {\n        const container = myCardContainers[0];\n        container.classList.add('kameleoon-maMyCardContainer');\n        Kameleoon.API.Core.runWhenElementPresent('.ma-MyCard', maMyCards => {\n            const maMyCard = maMyCards[0];\n            maMyCard.classList.add('kameleoon-maMyCard-halfSized');\n        });\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusIcon img', images => {\n        const img = images[0];\n        img.classList.add('kam-ma-curdPushPlusIconImg');\n        img.parentNode.classList.add('kam-ma-curdPushPlusIcon');\n        img.src = 'https://storage.kameleoon.eu/fnac/AccountMember/threeBlueBlocksWithPlusesInBetween.jpeg';\n        Kameleoon.API.Core.runWhenElementPresent('.ma-CardPushPlusIcon-text', iconTexts => {\n            iconTexts.forEach(iconTexts => {\n                iconTexts.parentNode.removeChild(iconTexts);\n            });\n        });\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.ma-AccountNav-link.ma-AccountNav-link--member', _ => {\n        updateMaCarteLink(_);\n    });\n\n    Kameleoon.API.Core.runWhenElementPresent('.ma-Strate-title.ma-Strate-title--big', bigTitles => {\n        const bigTitle = bigTitles[0];\n        bigTitle.textContent = 'MON ADHÉSION';\n    });\n}\n\nfunction updateMaCarteLink(elements) {\n    elements[0].textContent = 'MON ADHÉSION';\n}\n\ninvokePolyfills();\n\nif (isPageWithoutTcVars()) {\n    if (checkForCommonCaseOnOutsidePages()) {\n        updateDashboardForOutsidePages();\n    }\n} else {\n    Kameleoon.API.Core.runWhenConditionTrue(tc_varsExists, storageSetUpMiddleware);\n}\n\nfunction storageSetUpMiddleware() {\n    const UDID = getUDID();\n    Kameleoon.API.Core.runWhenConditionTrue(() => {\n        return sessionStorage.getItem('KameleoonDev__usersFnacOneMembershipIsChecked_' + UDID);\n    }, main);\n}\n\nfunction main() {\n    // if (checkForCase5()) invokeCase5();\n    if (checkForCase6()) invokeCase6();\n    else if (checkForCase7()) invokeCase7();\n\n    if (checkForCommonCase()) {\n        if (isUserNotFnacOneMember()) {\n            invokeThirdCaseInDashboard();\n        } else invokeCommonCase();\n    } else if (checkForCommonCaseOnOutsidePages()) {\n        updateDashboardForOutsidePages();\n    }\n\n    if (checkForCase1()) {\n        if (isUserNotFnacOneMember()) {\n            invokeThirdCaseWithNoFnacOneMembership();\n        } else {\n            invokeFirstCase({\n                imgToReplace: 'https://storage.kameleoon.eu/fnac/AccountMember/blocks-threewhite-oneWhite.png'\n            });\n            additions2101();\n        }\n    } else if (checkForCase1$1()) {\n        if (isUserNotFnacOneMember()) {\n            invokeThirdCaseWithNoFnacOneMembership();\n        } else {\n            invokeFirstCase({\n                imgToReplace: 'https://storage.kameleoon.eu/fnac/AccountMember/bandeauCarte-blue5.png',\n                classForImgToReplace: 'kam-lilImgToReplace',\n                hightlightedColor: 'kam-dark-highlight',\n                hightlightedBackground: 'kam-dark-background-highlight'\n            });\n            invokeSecondCase();\n        }\n    }\n}\n\n\nfunction additions2101() {\n    const buttonDescription = document.querySelector('.ma-CardPushPlusBtn+div');\n    const description = `\n                    <span kamflag class=\"ma-CardPushLink js-CheckoutLink\">Si vous avez pris Fnac+ en magasin, cliquez ici<\u002fspan>\n                `;\n\n    const config = {\n        childList: true,\n    };\n\n    const callback = function (mutationsList, observer) {\n        if (!document.querySelector('[kamflag]')) {\n            buttonDescription.insertAdjacentHTML('afterbegin', description);\n        }\n    };\n\n    const observer = new MutationObserver(callback);\n\n    observer.observe(document.body, config);\n}","afterDOMReady":false}},{"id":0,"name":"Reference","css":"","elementSets":[]},{"id":null,"name":"Excluded"},{"id":0,"name":"Reference","css":"","elementSets":[]},{"id":null,"name":"Excluded"}],"experiments":[{"id":80073,"name":"[FNAC FR] Bandeau optin newsletter","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1591612434000,"dateCreated":1552036975000,"dateStatusModified":1591612434000,"goals":[138701,138699,138698,137986],"deviation":{"0":0.0,"226036":0.5,"226037":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"BLANC CTA JAUNE","id":226036,"deviation":0.5,"respoolTime":""},{"name":"Noir CTA Jaune","id":226037,"deviation":0.5,"respoolTime":""}],"targetingSegmentId":108968,"kameleoonTracking":{"mainGoalId":138701}},{"id":89197,"name":"[FNAC] Roll over sur CTA","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1580483110000,"dateCreated":1565612501000,"dateStatusModified":1573498645000,"goals":[163104,163103,118858,137986],"deviation":{"0":0.0,"273904":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Roll over CTA","id":273904,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":115710,"kameleoonTracking":{"mainGoalId":137986}},{"id":91024,"name":"[FNAC FR] [EC mobile] Info factures ","baseURL":"https://secure.fnac.com/MyAccount/Order","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1571384715000,"dateCreated":1568363936000,"dateStatusModified":1571384715000,"goals":[118858],"deviation":{"0":0.0,"286106":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec txt factures","id":286106,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":116992,"kameleoonTracking":{"mainGoalId":118858}},{"id":99933,"name":"[FNAC FR] Nouvelle mire","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1596535563000,"dateCreated":1580896080000,"dateStatusModified":1596456812000,"adobeOmnitureTracking":{"eVar":78,"object":"s"},"goals":[118858,194602,137986],"deviation":{"0":0.0,"353070":0.0,"431945":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"OLD DEPOT COOKIE","id":353070,"deviation":0,"respoolTime":""},{"name":"Depot cookie","id":431945,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":123426,"kameleoonTracking":{"mainGoalId":194602}},{"id":101641,"name":"[FNAC FR] [Search] Tirage photo","baseURL":"https://www.fnac.com/SearchResult/ResultList.aspx?Search=tirage+photo","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1586429329000,"dateCreated":1582821264000,"dateStatusModified":1586429329000,"goals":[118858],"deviation":{"0":0.0,"366681":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec bandeau","id":366681,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":124728,"kameleoonTracking":{"mainGoalId":118858}},{"id":101643,"name":"[FNAC FR] [Search] Citroen AMI","baseURL":"https://www.fnac.com/SearchResult/ResultList.aspx?Search=ami","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1611661595000,"dateCreated":1582822212000,"dateStatusModified":1611661595000,"goals":[118858],"deviation":{"0":0.0,"366713":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec bandeau","id":366713,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":124730,"kameleoonTracking":{"mainGoalId":118858}},{"id":102039,"name":"[FNAC FR] Test Search java 11","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1583326856000,"dateCreated":1583326412000,"dateStatusModified":1583326856000,"adobeOmnitureTracking":{"eVar":77,"object":"s"},"goals":[138667,138657,118858,138682],"deviation":{"0":0.0,"370095":0.5,"370096":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Va","id":370095,"deviation":0.5,"respoolTime":""},{"name":"Vb","id":370096,"deviation":0.5,"respoolTime":""}],"targetingSegmentId":108964,"kameleoonTracking":{"mainGoalId":138667}},{"id":102270,"name":"[FNAC FR] Push FnacPlus header","baseURL":"https://www.fnac.com/Ecouteurs-sans-fil-Apple-AirPods-2-avec-boitier-de-charge/a10086709/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1605262928000,"dateCreated":1583501418000,"dateStatusModified":1601295414000,"goals":[118858,150645,137986,190285],"deviation":{"0":0.0,"371909":0.0,"371912":0.0,"441305":0.0,"446137":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Essayez F+ infobulle","id":371909,"deviation":0,"respoolTime":""},{"name":"Essayez F+ lien","id":371912,"deviation":0,"respoolTime":""},{"name":"DECOUVRER F+","id":441305,"deviation":0,"respoolTime":""},{"name":"DECOUVREZ F+","id":446137,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":118802,"kameleoonTracking":{"mainGoalId":150645}},{"id":103848,"name":"[FNAC FR] Wording popin garantie","baseURL":"https://www.fnac.com/Console-Sony-PS4-Pro-1-To-Noire/a13011539/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1600248930000,"dateCreated":1585301419000,"dateStatusModified":1594124146000,"goals":[118858],"deviation":{"0":0.0,"451952":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"NEW WORDING 16/09","id":451952,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":126496,"kameleoonTracking":{"mainGoalId":118858}},{"id":103986,"name":"[FNAC FR] Wording popin assurance","baseURL":"https://www.fnac.com/Smartphone-Samsung-Galaxy-A51-Double-SIM-128-Go-Noir/a14085185/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1600248664000,"dateCreated":1585581985000,"dateStatusModified":1585648190000,"goals":[118858],"deviation":{"0":0.0,"384492":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"New wording","id":384492,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":126653,"kameleoonTracking":{"mainGoalId":118858}},{"id":104394,"name":"[FNAC FR] [Home] PERSO 16/04","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1611148474000,"dateCreated":1586175008000,"dateStatusModified":1611148474000,"adobeOmnitureTracking":{"eVar":79,"object":"s"},"goals":[118858,137986,138682,138658],"deviation":{"0":0.4,"387475":0.4,"387476":0.0,"387474":0.0},"variations":[{"name":"Reference","id":0,"deviation":0.4},{"name":"ORIGINAL avec Hodjar","id":387474,"deviation":0,"respoolTime":""},{"name":"ARTICLES VUS","id":387475,"deviation":0.4,"respoolTime":""},{"name":"SELECTION UNIQUE","id":387476,"deviation":0,"respoolTime":""}],"targetingSegmentId":132665,"kameleoonTracking":{"mainGoalId":137986}},{"id":104610,"name":"[FNAC FR] [Search] Disney Canal","baseURL":"https://www.fnac.com/SearchResult/ResultList.aspx?Search=tirage+photo","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1586430937000,"dateCreated":1586429329000,"dateStatusModified":1586430937000,"goals":[118858],"deviation":{"0":0.0,"389389":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec bandeau","id":389389,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":127172,"kameleoonTracking":{"mainGoalId":118858}},{"id":105348,"name":"[FNAC FR] [EC CMD] Toggle","baseURL":"https://fnac.com","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1605197244000,"dateCreated":1587657401000,"dateStatusModified":1605172778000,"goals":[118858],"deviation":{"0":0.0,"395659":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"TOGGLE NEW STYLE","id":395659,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":127999,"kameleoonTracking":{"mainGoalId":118858}},{"id":107057,"name":"[FNAC FR] SAV Whatsapp","baseURL":"https://secure.fnac.com/MyAccount/Order","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1610527003000,"dateCreated":1590502211000,"dateStatusModified":1610527003000,"goals":[118858,137986,212680,212681,212682,212683,212929,212932],"deviation":{"0":0.0,"500926":0.25,"489960":0.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"BANDEAU WHATSAPP 26/11","id":489960,"deviation":0,"respoolTime":""},{"name":"BANDEAU WHATSAPP 17/12","id":500926,"deviation":0.25,"respoolTime":""}],"targetingSegmentId":129728,"kameleoonTracking":{"mainGoalId":137986}},{"id":109463,"name":"[FNAC FR] [Panier] Récap OneClic","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1603096123000,"dateCreated":1593609885000,"dateStatusModified":1599730391000,"adobeOmnitureTracking":{"eVar":83,"object":"s"},"goals":[118858,137986,138658],"deviation":{"0":0.0,"419045":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"LocalStorage","id":419045,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":131623,"kameleoonTracking":{"mainGoalId":137986}},{"id":109548,"name":"[FNAC FR] Info ebook","baseURL":"https://secure.fnac.com/MyAccount/EbookHistory","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1594041584000,"dateCreated":1593701395000,"dateStatusModified":1594041584000,"goals":[118858],"deviation":{"0":0.0,"419976":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec texte","id":419976,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":131499,"kameleoonTracking":{"mainGoalId":118858}},{"id":110187,"name":"[FNAC FR] Push App Kobo iOS","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1595491215000,"dateCreated":1594387394000,"dateStatusModified":1595491215000,"goals":[215178,215179],"deviation":{"0":0.0,"423797":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Banner App","id":423797,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":132191,"kameleoonTracking":{"mainGoalId":215178}},{"id":110304,"name":"[FNAC FR] Push App Kobo Android","baseURL":"https://fnac.com","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1595500091000,"dateCreated":1594653262000,"dateStatusModified":1595491127000,"goals":[215178,215179],"deviation":{"0":0.0,"424546":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Banner App","id":424546,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":133200,"kameleoonTracking":{"mainGoalId":215178}},{"id":110719,"name":"[FNAC FR] [Search] TV Samsung","baseURL":"https://www.fnac.com/SearchResult/ResultList.aspx?SCat=0!1&Search=THE+frame&sft=1&sa=0","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1595323546000,"dateCreated":1595321105000,"dateStatusModified":1595323546000,"goals":[118858,137986,216125],"deviation":{"0":0.0,"427085":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Bandeau Samsung","id":427085,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":132757,"kameleoonTracking":{"mainGoalId":216125}},{"id":111874,"name":"[FNAC FR] [Panier] [Search] Frais de port Livres","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1614347611000,"dateCreated":1596802675000,"dateStatusModified":1613979668000,"goals":[118858],"deviation":{"0":0.0,"434973":0.0,"486339":0.0,"488637":1.0,"535040":0.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"15E","id":434973,"deviation":0,"respoolTime":""},{"name":"20E","id":486339,"deviation":0,"respoolTime":""},{"name":"10E","id":488637,"deviation":1.0,"respoolTime":""},{"name":"7E","id":535040,"deviation":0,"respoolTime":""}],"targetingSegmentId":134148,"kameleoonTracking":{"mainGoalId":118858}},{"id":113635,"name":"[FNAC FR] [Panier] DLE + FDP","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1604414923000,"dateCreated":1599730239000,"dateStatusModified":1599732641000,"goals":[118858,137986,138658],"deviation":{"0":0.0,"449788":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"LocalStorage","id":449788,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":135649,"kameleoonTracking":{"mainGoalId":137986}},{"id":114003,"name":"[FNAC FR] [FA] Frais de port Livres","baseURL":"https://livre.fnac.com/a10688374/Gael-Faye-Petit-Pays","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1614347429000,"dateCreated":1600249429000,"dateStatusModified":1604420195000,"goals":[118858],"deviation":{"0":0.0,"535032":0.0,"451972":0.0,"488632":1.0,"486338":0.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"15E","id":451972,"deviation":0,"respoolTime":""},{"name":"20E","id":486338,"deviation":0,"respoolTime":""},{"name":"10E","id":488632,"deviation":1.0,"respoolTime":""},{"name":"7E","id":535032,"deviation":0,"respoolTime":""}],"targetingSegmentId":134251,"kameleoonTracking":{"mainGoalId":118858}},{"id":114502,"name":"[FNAC FR] FnacPlus Add basket","baseURL":"https://www.fnac.com/PC-Portable-HP-15-dw1024nf-15-6-Intel-Core-i7-8-Go-RAM-512-Go-SSD-Gris/a15050442/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1612512989000,"dateCreated":1600769903000,"dateStatusModified":1609772503000,"goals":[118858,137986,150645,189725],"deviation":{"0":0.0,"492289":0.0,"479312":1.0,"454507":0.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"BLOC 9,99€","id":454507,"deviation":0,"respoolTime":""},{"name":"BLOC 7,99€","id":479312,"deviation":1.0,"respoolTime":""},{"name":"BLOC 4,99€","id":492289,"deviation":0,"respoolTime":""}],"targetingSegmentId":122318,"kameleoonTracking":{"mainGoalId":150645}},{"id":114730,"name":"[FNAC FR] [Mobile] [Footer] SAV WhatsApp","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1610526987000,"dateCreated":1600941370000,"dateStatusModified":1610526907000,"goals":[220482],"deviation":{"0":0.0,"456234":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Lien dans footer","id":456234,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":136452,"kameleoonTracking":{"mainGoalId":220482}},{"id":115608,"name":"[FNAC FR] Popin panier CTA JAUNE","baseURL":"https://www.fnac.com/Smartphone-Samsung-Galaxy-S10e-Double-SIM-128-Go-Noir/a13314962/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1601999061000,"dateCreated":1601998921000,"dateStatusModified":1601999061000,"goals":[118858],"deviation":{"0":0.0,"462415":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"CTA JAUNE","id":462415,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":126662,"kameleoonTracking":{"mainGoalId":118858}},{"id":116838,"name":"[FNAC FR] HP sans Menu V3","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1603370722000,"dateCreated":1603368853000,"dateStatusModified":1603370722000,"goals":[137986,138658,138682,207121,207123],"deviation":{"0":0.2,"470903":0.2},"variations":[{"name":"Reference","id":0,"deviation":0.2},{"name":"Without Mega Menu ","id":470903,"deviation":0.2,"respoolTime":""}],"targetingSegmentId":127250,"kameleoonTracking":{"mainGoalId":207121}},{"id":117026,"name":"[FNAC FR] Seconde Vie","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1612875815000,"dateCreated":1603713804000,"dateStatusModified":1612530579000,"goals":[223351,223352],"deviation":{"0":0.0,"472941":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Fnac Seconde Vie","id":472941,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":139255,"kameleoonTracking":{"mainGoalId":223352}},{"id":118428,"name":"[FNAC FR] [EC CMD] Hide toggle","baseURL":"https://secure.fnac.com/MyAccount/Order","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1614072966000,"dateCreated":1605196818000,"dateStatusModified":1608198973000,"goals":[118858],"deviation":{"0":0.0,"490473":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Hide Toggle","id":490473,"deviation":0.5,"respoolTime":""}],"targetingSegmentId":142163,"kameleoonTracking":{"mainGoalId":118858}},{"id":119978,"name":"CD NEW TEST A BLANC","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1606935072000,"dateCreated":1606935045000,"dateStatusModified":1606935072000,"goals":[118858],"deviation":{"0":0.0,"493479":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Variation 1","id":493479,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":142667,"kameleoonTracking":{"mainGoalId":118858}},{"id":120242,"name":"Global - [FNAC] Setup API Product","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"javaScriptCode":"const getProductApiObject = () => {\n    return {\n        name: window.tc_vars.product_name,\n        category: window.tc_vars.arbo_niv1,\n        mainImageURL: window.tc_vars.product_picture_url,\n        price: window.tc_vars.product_unitprice_discount,\n    };\n};\n\nif (/\\/(a|n)\\d{3,}\\//.test(window.location.href)) {\n    Kameleoon.API.Core.runWhenConditionTrue(() => window.tc_vars, () => {\n        const productApiObject = getProductApiObject();\n        Kameleoon.API.Products.trackProductView(window.tc_vars.product_id, productApiObject);\n    });\n}\n","executeCodeForReference":true,"forcedTechnical":true,"dateModified":1607532970000,"dateCreated":1607330792000,"dateStatusModified":1607532970000,"goals":[118858],"deviation":{},"variations":[{"name":"Reference","id":0,"deviation":null},{"name":"Variation 1","id":495104,"deviation":0,"respoolTime":""}],"targetingSegmentId":142938,"kameleoonTracking":{"mainGoalId":118858}},{"id":120460,"name":"[FNAC FR] [FA] Hide offres complementaires","baseURL":"https://jeux-video.fnac.com/Manette-PS4-Nacon-Revolution-Unlimited-Pro-Noir/a13347202/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1607507946000,"dateCreated":1607507550000,"dateStatusModified":1607507946000,"goals":[118858],"deviation":{"0":0.0,"496784":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Hide offres","id":496784,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":143130,"kameleoonTracking":{"mainGoalId":118858}},{"id":120788,"name":"Setup Goals Fnac IA","baseURL":"https://www.fnac.com/","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1608027304000,"dateCreated":1607950250000,"dateStatusModified":1608027304000,"goals":[137986,225387,225388,225389,225390,225391,225392,225393,225394,225395,225396],"deviation":{"0":0.5,"499277":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.5},{"name":"Variation 1","id":499277,"deviation":0.5,"respoolTime":""}],"targetingSegmentId":144702,"kameleoonTracking":{"mainGoalId":225392}},{"id":121302,"name":"[FNAC FR] [EC] Modif txt légal","baseURL":"https://secure.fnac.com/account/alerting","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1608542263000,"dateCreated":1608541204000,"dateStatusModified":1608542263000,"goals":[118858],"deviation":{"0":0.0,"502177":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Txt modifié","id":502177,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":145208,"kameleoonTracking":{"mainGoalId":118858}},{"id":123488,"name":"[FNAC FR] [Search] JBL","baseURL":"https://www.fnac.com/SearchResult/ResultList.aspx?SCat=0!1&Search=jbl&sft=1&sa=0","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1611662327000,"dateCreated":1611661595000,"dateStatusModified":1611662327000,"goals":[118858],"deviation":{"0":0.0,"516506":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"Avec bandeau","id":516506,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":147650,"kameleoonTracking":{"mainGoalId":118858}},{"id":124154,"name":"[FNAC FR] [FA] Picto livraison demain","baseURL":"https://www.fnac.com/Console-Nintendo-Switch-avec-paire-de-Joy-Con-Rouge-et-Bleu-Neon/a13721295/w-4","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1613646290000,"dateCreated":1612363267000,"dateStatusModified":1613646290000,"goals":[118858],"deviation":{"0":0.0,"520910":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"NEW PICTO","id":520910,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":148287,"kameleoonTracking":{"mainGoalId":118858}},{"id":124324,"name":"[FNAC FR] [Panier] Opé Fnacplus","baseURL":"https://secure.fnac.com/orderpipe/pop/panier","type":"CLASSIC","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1613462863000,"dateCreated":1612514418000,"dateStatusModified":1612773349000,"goals":[118858],"deviation":{"0":0.0,"522211":1.0},"variations":[{"name":"Reference","id":0,"deviation":0.0},{"name":"HIDE & NEW BANNER 08/02","id":522211,"deviation":1.0,"respoolTime":""}],"targetingSegmentId":139997,"kameleoonTracking":{"mainGoalId":118858}}],"abtestingSetup":true,"personalizations":[{"id":26304,"name":"[FNAC FR] [DESKTOP] BANNIÈRE REDIRECTION PAYS","dateCreated":1551784824000,"customExpositionRate":1.0,"priority":1,"mainGoalId":137983,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":351385,"name":"Variation 1"},"goals":[137982,137983],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1580485404000,"dateStatusModified":1580485404000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":108741},{"id":26305,"name":"[FNAC FR] [Mobile] Bannière redirection pays","dateCreated":1551785808000,"customExpositionRate":1.0,"priority":1,"mainGoalId":137983,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":351403,"name":"Variation 1"},"goals":[137982,137983],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1580485805000,"dateStatusModified":1580485805000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":108740},{"id":26306,"name":"[FNAC FR] Script Highco page conf cmd","dateCreated":1551786208000,"customExpositionRate":1.0,"priority":1,"mainGoalId":118858,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":493813,"name":"Variation 1"},"goals":[118858],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1606991541000,"dateStatusModified":1606991541000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":108742},{"id":26717,"name":"[FNAC FR] MOBILE VISITOR - NPS","dateCreated":1554463350000,"customExpositionRate":0.04,"priority":1,"mainGoalId":143279,"expositionFrequencySameVisitor":1,"expositionFrequencySameVisitorDelaySeconds":2592000,"expositionFrequencyDelaySecondsBetweenTwoExpositions":86400,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":476816,"name":"Variation 1"},"goals":[137986,143279,143280],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1604393888000,"dateStatusModified":1604393888000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":110073},{"id":26718,"name":"[FNAC FR] DESKTOP BUYER - NPS","dateCreated":1554469269000,"customExpositionRate":0.01,"priority":1,"mainGoalId":143278,"expositionFrequencySameVisitor":1,"expositionFrequencySameVisitorDelaySeconds":2592000,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":476811,"name":"Variation 1"},"goals":[137986,143278,143280],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1604393802000,"dateStatusModified":1604393802000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":110086},{"id":26720,"name":"[FNAC FR] MOBILE BUYER - NPS","dateCreated":1554471062000,"customExpositionRate":0.04,"priority":1,"mainGoalId":143279,"expositionFrequencySameVisitor":1,"expositionFrequencySameVisitorDelaySeconds":86400,"expositionFrequencyDelaySecondsBetweenTwoExpositions":86400,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":476809,"name":"Variation 1"},"goals":[137986,143279,143280],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1604393776000,"dateStatusModified":1604393776000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":110094},{"id":30084,"name":"[FNAC FR] Popup Razr ESIM","dateCreated":1580478246000,"customExpositionRate":1.0,"priority":1,"mainGoalId":118858,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":485624,"name":"Variation 1"},"goals":[118858],"targetingSegment":null,"configuration":"POPIN","status":"ACTIVE","dateModified":1605779136000,"dateStatusModified":1605779136000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":123189},{"id":30439,"name":"[FNAC FR] Popup Huawei","dateCreated":1582123381000,"customExpositionRate":1.0,"priority":1,"mainGoalId":118858,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":508005,"name":"Variation 1"},"goals":[118858],"targetingSegment":null,"configuration":"POPIN","status":"ACTIVE","dateModified":1610373455000,"dateStatusModified":1610373455000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":124293},{"id":30939,"name":"[FNAC FR] Desktop Visitor - NPS","dateCreated":1583922801000,"customExpositionRate":0.04,"priority":1,"mainGoalId":143278,"expositionFrequencySameVisitor":1,"expositionFrequencySameVisitorDelaySeconds":2592000,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":476813,"name":"Variation 1"},"goals":[137986,143278,143280],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1604393859000,"dateStatusModified":1604393859000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":110064},{"id":33279,"name":"[FNAC FR] POPUP HONOR","dateCreated":1593162592000,"customExpositionRate":1.0,"priority":1,"mainGoalId":118858,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":485899,"name":"Variation 1"},"goals":[118858],"targetingSegment":null,"configuration":"POPIN","status":"ACTIVE","dateModified":1605774541000,"dateStatusModified":1605774541000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":131122},{"id":40282,"name":"[FNAC FR] Account Member MAJ 25/01","dateCreated":1611301467000,"customExpositionRate":1.0,"priority":1,"mainGoalId":118858,"expositionFrequencySameVisitorDelaySeconds":21600,"personalizationCheckConditionsRule":"ALL_CONDITIONS","associatedVariation":{"id":517075,"name":"Variation 1"},"goals":[118858,167865,168363,172655,172656],"targetingSegment":null,"configuration":"CUSTOM","status":"ACTIVE","dateModified":1611754350000,"dateStatusModified":1611754350000,"forcedTechnical":true,"kameleoonTracking":true,"scheduleItem":[],"targetingSegmentId":115738}],"goals":[{"id":172656,"name":"Click on CTA   “J’en profite”","type":"CUSTOM"},{"id":128139,"name":"Optin - clic fermeture","type":"CUSTOM"},{"id":228778,"name":"Click on POPIN [TEST] Baisse de prix (search)","type":"CLICK"},{"id":149201,"name":"Click on “Retrait en magasin”","type":"CUSTOM"},{"id":207121,"name":"Clic burger menu","type":"CUSTOM"},{"id":216524,"name":"Clic_promo_newsletter","type":"CLICK"},{"id":229107,"name":"Page produit - ajout panier new","type":"CUSTOM"},{"id":150645,"name":"FNAC+ purchase","type":"CUSTOM"},{"id":211152,"name":"Clic CTA ajout panier PO (basket page)","type":"CUSTOM"},{"id":225388,"name":"CA Musique, CDs, Vinyles","type":"CUSTOM"},{"id":137978,"name":"Accengage - Fermeture","type":"CUSTOM"},{"id":217336,"name":"Click / Hover on ‘i’","type":"CUSTOM"},{"id":162280,"name":"Click on POPIN test-kameleoon","type":"CLICK"},{"id":138036,"name":"NPS - Clic valider","type":"CUSTOM"},{"id":138699,"name":"Optin - clic fermeture","type":"CUSTOM"},{"id":138663,"name":"Page Produit - Retrait Mag","type":"CLICK"},{"id":137986,"name":"Confirmation Commande","type":"CUSTOM"},{"id":214243,"name":"Click on POPIN [FNAC FR] POPUP HONOR","type":"CLICK"},{"id":227236,"name":"ClicFDOccasion","type":"CLICK"},{"id":138738,"name":"Page Produit - F+ voir détails","type":"CLICK"},{"id":223256,"name":"Click on POPIN [FNAC FR] Bourse Livres Popin","type":"CLICK"},{"id":138666,"name":"Strates - ajout panier","type":"CLICK"},{"id":189725,"name":"Add Fnac+ card to Cart","type":"CUSTOM"},{"id":137974,"name":"Accengage - Oui","type":"CUSTOM"},{"id":193731,"name":"Click on POPIN [FNAC FR] Popup Razr ESIM","type":"CLICK"},{"id":150536,"name":"Click on “Banner CEWE” - Mobile","type":"CUSTOM"},{"id":225396,"name":"CA Informatique, tablettes","type":"CUSTOM"},{"id":163037,"name":"Click on POPIN [FNAC] HP Strate","type":"CLICK"},{"id":190081,"name":"Clic_ajout_panier_sticky","type":"CLICK"},{"id":212681,"name":"whatsapp_mobile_mescommandes","type":"CLICK"},{"id":229118,"name":"Search Ajout Panier new","type":"CUSTOM"},{"id":143280,"name":"Optin - clic fermeture -","type":"CUSTOM"},{"id":220482,"name":"Clic_WhatsApp_footer","type":"CLICK"},{"id":138652,"name":"Popin rappel panier - accès panier","type":"CUSTOM"},{"id":163104,"name":"Clic on CTA “Payer” Inactif","type":"CUSTOM"},{"id":215179,"name":"Click on cross","type":"CUSTOM"},{"id":222018,"name":"Click on POPIN Test Account Member by JeanVania","type":"CLICK"},{"id":223352,"name":"Click on picto  Fnac-Darty Occasion","type":"CUSTOM"},{"id":138698,"name":"Optin - clic je m’abonne","type":"CUSTOM"},{"id":225394,"name":"CA Films, séries, tv, dvd, blu-ray","type":"CUSTOM"},{"id":138009,"name":"Achat Produit Jauge Panier","type":"CUSTOM"},{"id":142224,"name":"Defi One - Clic Voir mes Défis","type":"CUSTOM"},{"id":211151,"name":"Clic CTA ajout panier PO (pop-in product page)","type":"CUSTOM"},{"id":213727,"name":"Click on POPIN [FNAC FR] Popup Indispo Samsung","type":"CLICK"},{"id":143278,"name":"Optin - clic continuer -","type":"CUSTOM"},{"id":201831,"name":"Click on POPIN [FNAC FR] Desktop Visitor - NPS","type":"CLICK"},{"id":149202,"name":"Click on “Livraison à domicile”","type":"CUSTOM"},{"id":149926,"name":"Click on Paypal block - PROD","type":"CUSTOM"},{"id":147402,"name":"TA_clic_passer_etape_suivante","type":"CLICK"},{"id":228791,"name":"Click on POPIN Test widget","type":"CLICK"},{"id":197875,"name":"Click on POPIN [FNAC FR] Huawei Mate 30 Pro","type":"CLICK"},{"id":147400,"name":"TA_clic_retour_panier","type":"CLICK"},{"id":212929,"name":"whatsapp_desktop_Contact","type":"CLICK"},{"id":163103,"name":"Clic on CTA “Payer” Actif","type":"CUSTOM"},{"id":225387,"name":"CA Livres","type":"CUSTOM"},{"id":212682,"name":"whatsapp_desktop_moncompte","type":"CLICK"},{"id":225393,"name":"CA Son, casque, enceinte","type":"CUSTOM"},{"id":190285,"name":"Accès Choisir Carte","type":"URL","url":"(.*)/choisir-carte(.*)"},{"id":205262,"name":"Click on POPIN [FNAC FR] Popin W7 V3-Duplicate","type":"CLICK"},{"id":223351,"name":"Access page  Fnac Seconde vie","type":"URL","url":"(.*)Fnac-Seconde-Vie/shi377368/w-4(.*)"},{"id":203284,"name":"Click on STICKY_BLOCK Test Kameleoon","type":"CLICK"},{"id":138037,"name":"NPS - Clic Fermer","type":"CUSTOM"},{"id":138650,"name":"Popin rappel panier - fermeture popin","type":"CUSTOM"},{"id":213739,"name":"Click on STICKY_BLOCK [FNAC FR] Popup Indispo Samsung","type":"CLICK"},{"id":138737,"name":"Page Produit - clic checkbox F+","type":"CLICK"},{"id":193663,"name":"Click on POPIN [FNAC FR] Popup eSIM","type":"CLICK"},{"id":168363,"name":"Click on banner Fnac One Member","type":"CUSTOM"},{"id":228841,"name":"Click on POPIN [FNAC IA] Push Fnac + Add to basket","type":"CLICK"},{"id":138701,"name":"Mon compte - Alertes - clics m'abonner","type":"CLICK"},{"id":128138,"name":"Optin - clic je participe","type":"CUSTOM"},{"id":215178,"name":"Click on CTA Download","type":"CUSTOM"},{"id":143279,"name":"Optin - clic je participe -","type":"CUSTOM"},{"id":152026,"name":"FA_Clic_CTA_Alerter","type":"CLICK"},{"id":196519,"name":"Click on element#header","type":"CLICK"},{"id":138658,"name":"Accès Page Panier","type":"URL","url":"(.*)/pop/panier(.*)"},{"id":198360,"name":"Click on POPIN [FNAC FR] Popup Huawei Mate 30 Pro","type":"CLICK"},{"id":188293,"name":"Click on POPIN [FNAC FR] Popin W7 V2","type":"CLICK"},{"id":196522,"name":"Click on elementheader","type":"CLICK"},{"id":228957,"name":"Click on POPIN [FNAC] Baisse de prix - LIST PAGE","type":"CLICK"},{"id":194602,"name":"Accès identifié Home Compte","type":"URL","url":"(.*)/account/dashboard(.*)"},{"id":138682,"name":"Accès Page Produit","type":"URL","url":"(a\\d{8})|(mp\\d{8})"},{"id":118858,"name":"Engagement","type":"ENGAGEMENT"},{"id":212683,"name":"whatsapp_mobile_moncompte","type":"CLICK"},{"id":163035,"name":"Click on strate reco homepage","type":"CUSTOM"},{"id":207123,"name":"Clic cross menu","type":"CUSTOM"},{"id":221949,"name":"Cookies_Gérer","type":"CLICK"},{"id":142223,"name":"Defi One - Clic Mes défis One","type":"CUSTOM"},{"id":225390,"name":"CA Photos, caméras, tirages photo","type":"CUSTOM"},{"id":221948,"name":"Cookies_Accepter","type":"CLICK"},{"id":137982,"name":"Bannière Pays - Fermeture","type":"CUSTOM"},{"id":149203,"name":"Click on “Livraison en relais colis”","type":"CUSTOM"},{"id":142222,"name":"Defi One - CTA j'en profite","type":"CUSTOM"},{"id":150776,"name":"Click CTA voir plus d article","type":"CUSTOM"},{"id":145387,"name":"Clic_34x_?","type":"CLICK"},{"id":212680,"name":"whatsapp_desktop_mescommandes","type":"CLICK"},{"id":225395,"name":"CA TV, Vidéo, Home cinéma","type":"CUSTOM"},{"id":137987,"name":"Nombre Articles Achetés","type":"CUSTOM"},{"id":225392,"name":"CA Enfants, jouets, bébé","type":"CUSTOM"},{"id":226288,"name":"Home GENE","type":"URL","url":"https\\://www\\.fnac\\.com//?([\\?#].*)?$"},{"id":147401,"name":"TA_clic_onglet_vendu_expedie","type":"CLICK"},{"id":192768,"name":"Click on POPIN [FNAC FR] Popin W7 V3","type":"CLICK"},{"id":156708,"name":"3/4 X payment method have been chosen","type":"CUSTOM"},{"id":172666,"name":"Click on CTA   “ Je renouvelle”","type":"CUSTOM"},{"id":137983,"name":"Bannière Pays - Clic","type":"CUSTOM"},{"id":142226,"name":"Defi One - Accès URL","type":"URL","url":"https\\://defione\\.fnac\\.com(.*)"},{"id":153611,"name":"Clic_menu_sticky_FA","type":"CLICK"},{"id":137976,"name":"Accengage - Non","type":"CUSTOM"},{"id":138667,"name":"Liste - ajout panier","type":"CLICK"},{"id":138651,"name":"Popin rappel panier - suppression article","type":"CUSTOM"},{"id":167865,"name":"Click on CTA “Voir mes avantages”","type":"CUSTOM"},{"id":211150,"name":"Clic CTA ajout panier PO (product page)","type":"CUSTOM"},{"id":128137,"name":"Optin - clic valider","type":"CUSTOM"},{"id":186287,"name":"Click on STICKY_BLOCK [FNAC FR] Popup Huawei","type":"CLICK"},{"id":229106,"name":"Liste - ajout panier new","type":"CUSTOM"},{"id":225391,"name":"CA Jeux vidéos, consoles","type":"CUSTOM"},{"id":152236,"name":"Click on CTA “M’alerter dès l’ouverture des ventes”","type":"CUSTOM"},{"id":193730,"name":"Click on POPIN [FNAC FR] Popup Razer ESIM","type":"CLICK"},{"id":228736,"name":"Click on POPIN Baisse de prix PDP","type":"CLICK"},{"id":138734,"name":"Page Produit - CTA 2h Chrono","type":"CLICK"},{"id":143838,"name":"Click on POPIN [FNAC] NPS Colorado new version Perso 4","type":"CLICK"},{"id":172655,"name":"Click on CTA “Voir tous les avantages”","type":"CUSTOM"},{"id":212932,"name":"whatsapp_desktop_Service","type":"CLICK"},{"id":186173,"name":"Click on POPIN [FNAC FR] Popin W7","type":"CLICK"},{"id":225389,"name":"CA Smartphone et objets connectés","type":"CUSTOM"},{"id":145388,"name":"Clic_34x_Payer_plusieurs_fois","type":"CLICK"},{"id":205263,"name":"Click on STICKY_BLOCK [FNAC FR] Popin W7 V3-Duplicate","type":"CLICK"},{"id":216125,"name":"Clic_Search_Bandeau_Samsung","type":"CLICK"},{"id":138657,"name":"Page Produit - Ajout Panier","type":"CLICK"},{"id":186286,"name":"Click on POPIN [FNAC FR] Popup Huawei","type":"CLICK"},{"id":203283,"name":"Click on POPIN Test Kameleoon","type":"CLICK"},{"id":214212,"name":"Click on POPIN [FNAC FR] Popup Honor","type":"CLICK"},{"id":149565,"name":"Time spent on page","type":"CUSTOM"},{"id":150535,"name":"Click on “Banner CEWE” - Desktop","type":"CUSTOM"}],"personalizationsDeviation":1.0,"personalizationSetup":true,"boLocale":"ENGLISH","geolocation":true,"adobeOmniture":{"object":"s","anchorReferrer":true},"timeZone":"Europe/Paris","globalScript":"var globalScript = function () {\n    console.log('GS LOADED V17.27');\n\n    class KamGSCommon {\n        constructor(url) {\n            this.href = url;\n        }\n\n        sendKameleoonCustomEvent = (e) => {\n            const event = new CustomEvent(`Kameleoon::${e}`, {});\n            window.dispatchEvent(event);\n        };\n    }\n\n    const kamGSCommon = new KamGSCommon(window.location.href);\n    kamGSCommon.sendKameleoonCustomEvent('Globalscript');\n\n    window.obtainPageVisitNumber = function (pageName) {\n        if (Kameleoon.API.CurrentVisit.customData['Acces Page']) {\n            for (var i = 0; i < Kameleoon.API.CurrentVisit.customData['Acces Page'].length; i++) {\n                if (Kameleoon.API.CurrentVisit.customData['Acces Page'][i].value === pageName) return Kameleoon.API.CurrentVisit.customData['Acces Page'][i].count;\n            }\n        }\n    };\n\n    window.obtainPageVisitNumberByFicheArticle = function () {\n        if (Kameleoon.API.CurrentVisit.customData['Page Name']) {\n            for (var i = 0; i < Kameleoon.API.CurrentVisit.customData['Page Name'].length; i++) {\n                if (Kameleoon.API.CurrentVisit.customData['Page Name'][i].value.indexOf('Fiche Article') !== -1) return Kameleoon.API.CurrentVisit.customData['Page Name'][i].count;\n            }\n        }\n    };\n\n    //[FNAC] Creation custom goal FNAC+ purchase\n    if (window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/merci') !== -1) {\n        Kameleoon.API.Core.runWhenConditionTrue(\n            function () {\n                return typeof window.tc_vars != 'undefined' && typeof window.tc_vars.order_amount_ati != 'undefined' && typeof window.tc_vars.order_products != 'undefined';\n            },\n            function () {\n                for (var i = 0; i < window.tc_vars.order_products.length; i++) {\n                    if (window.tc_vars.order_products[i][1]) {\n                        var carteFnac = window.tc_vars.order_products[i][1];\n                        //var stringFnac = carteFnac.match(/(?:^|\\w)FNAC(?:$|\\w)/);\n\n                        if (carteFnac.indexOf('Fnac+') !== -1) {\n                            //console.log('YES');\n                            Kameleoon.API.Goals.processConversion(150645, parseFloat(window.tc_vars.order_amount_ati));\n                            break;\n                        }\n                    }\n                }\n            }\n        );\n    }\n\n    var commonGS = {\n        regexp: {\n            pages: {\n                order: /secure\\.fnac\\.com\\/orderpipe\\/pop\\/votre\\-commande/,\n                thanks: /secure\\.fnac\\.com\\/orderpipe\\/pop\\/merci/,\n                cart: /secure\\.fnac\\.com\\/orderpipe\\/pop\\/panier/,\n                payment: /secure\\.fnac\\.com\\/orderpipe\\/pop\\/paiement/,\n            },\n            matchesAny: function (regexps, stringToTest) {\n                var matchesAny = false;\n                regexps = regexps || [];\n                stringToTest = stringToTest || window.location.href;\n\n                if (!regexps instanceof Array || !regexps.length) return;\n\n                for (var i = 0; i < regexps.length; i++) {\n                    if (stringToTest.match(regexps[i])) matchesAny = regexps[i];\n                }\n\n                return matchesAny;\n            },\n        },\n    };\n\n    //Tracking Page Confirmation\n    if (window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/merci') !== -1) {\n        Kameleoon.API.Core.runWhenConditionTrue(\n            function () {\n                return typeof window.tc_vars !== 'undefined';\n            },\n            function () {\n                // Achat\n                if (window.tc_vars['order_amount_ati']) {\n                    Kameleoon.API.Goals.processConversion(137986, parseFloat(window.tc_vars['order_amount_ati']));\n                } else {\n                    Kameleoon.API.Goals.processConversion(137986);\n                }\n                // Produits commandés\n                if (window.tc_vars['order_nb_products']) {\n                    Kameleoon.API.Goals.processConversion(137987, parseFloat(window.tc_vars['order_nb_products']));\n                } else {\n                    Kameleoon.API.Goals.processConversion(137987);\n                }\n\n                //Achat article Jauge Panier\n                if (typeof window.tc_vars.order_products !== 'undefined' && window.tc_vars.order_products.length) {\n                    var ID_PRID_JAUGE = 13823224; //CHANGER PRID POUR NOUVELLE PERSO\n\n                    for (var j = 0; j < window.tc_vars.order_products.length; j++) {\n                        if (ID_PRID_JAUGE == window.tc_vars.order_products[j][0]) {\n                            Kameleoon.API.Products.trackTransaction(window.tc_vars.order_products[j][0], window.tc_vars.order_products[j][4]);\n                            Kameleoon.API.Goals.processConversion(138009);\n                        }\n                    }\n                }\n            },\n            200\n        );\n    }\n\n    //Tracking Jauge en Page Panier\n    if (window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/panier') !== -1) {\n        var ID_PRID_JAUGE = 13823224; //CHANGER PRID POUR NOUVELLE PERSO\n        var successProductInformation = function (resp) {\n            if (this.readyState == 4 && this.status == 200) {\n                var informationProduct = JSON.parse(this.responseText);\n                if (Object.keys(informationProduct).length > 0) {\n                    var insideProduct = informationProduct[Object.keys(informationProduct)];\n                    window.quantityCadeau = insideProduct.bq;\n                }\n            }\n        };\n        Kameleoon.Utils.performBeaconServerCall('https://api-product.kameleoon.com/productCounters?siteCode=ds1h54b9h1&eans=[\"' + ID_PRID_JAUGE + '\"]&timeBegin=' + (Date.now() - 1000 * 60 * 60 * 24 * 7 * 4), successProductInformation);\n    }\n\n    /* CUSTOM DATA ISDEFIUSER */\n    Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n            // return Kameleoon.API.CurrentVisit.customData['isDefiUser'] && Kameleoon.API.CurrentVisit.customData['UDID']\n            return Kameleoon.API.CurrentVisit.customData['UDID'] && Kameleoon.API.CurrentVisit.customData['Authentification'] == 1;\n        },\n        function () {\n            Kameleoon.Utils.performBeaconServerCall('https://customers.kameleoon.com/fnac/defi_users/?userid=' + Kameleoon.API.CurrentVisit.customData['UDID'].toUpperCase(), function () {\n                if (this.readyState === 4 && this.status === 200) Kameleoon.API.Data.setCustomData('isDefiUser', this.responseText);\n            });\n        },\n        100\n    );\n\n    //Time spent on page\n    if (localStorage.getItem('KameleoonDev__StartTimeOnPage')) Kameleoon.API.Goals.processConversion(149565, +localStorage.getItem('KameleoonDev__StartTimeOnPage'));\n\n    //Creation custom goal 3/4 X payment method\n    (function () {\n        if (window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/merci') !== 0) return false;\n        var goals = {\n            '3/4 X payment method have been chosen': 156708,\n        };\n        Kameleoon.API.Core.runWhenConditionTrue(tc_varsExists, function () {\n            if (window.tc_vars.page_name !== 'Commande:Confirmation') return false;\n            Kameleoon.API.Core.runWhenConditionTrue(\n                function () {\n                    return window.s !== undefined && window.s['eVar5'] !== undefined;\n                },\n                function () {\n                    if (window.s['eVar5'] == 'CACF' || window.s['eVar5'] == 'Oney') {\n                        var orderAmount = tc_vars['order_amount'];\n                        Kameleoon.API.Goals.processConversion(goals['3/4 X payment method have been chosen'], orderAmount);\n                    }\n                }\n            );\n        });\n\n        function tc_varsExists() {\n            return typeof window.tc_vars === 'object' && window.tc_vars.page_name !== undefined;\n        }\n    })();\n\n    // collecting viewed categoris in cookie for [FNAC] HP Strate perso\n\n    (function () {\n        Kameleoon.API.Core.runWhenConditionTrue(\n            function () {\n                return window.tc_vars && window.tc_vars.arbo_niv1 && window.tc_vars.arbo_niv1 !== 'Accueil';\n            },\n            function () {\n                Kameleoon.API.Data.writeLocalData('category-'.concat(Math.random()), window.tc_vars.arbo_niv1, true);\n            }\n        );\n    })();\n\n    // Account Member\n    (function () {\n        'use strict';\n\n        (function accountMember() {\n            Kameleoon.API.Core.runWhenConditionTrue(tc_varsWithIDExists, makeCheckingRequest);\n            function makeCheckingRequest() {\n                var UDID = typeof window.tc_vars['user_id'] === 'string' ? window.tc_vars['user_id'].toUpperCase() : false;\n                if (UDID === false) return false;\n                if (JSON.stringify(window.sessionStorage).indexOf(UDID) !== -1) {\n                    if (window.sessionStorage.getItem('KameleoonDev__usersFnacOneMembershipIsChecked_' + UDID) === true) {\n                        Kameleoon.API.Events.trigger('UserIsFnacOneMember');\n                    }\n                } else {\n                    Kameleoon.Utils.performBeaconServerCall('https://api-data.kameleoon.com/data?key=clientId_' + UDID + '&siteCode=' + Kameleoon.Internals.configuration.siteCode, function () {\n                        if (this.readyState === 4 && this.status === 200) {\n                            if (this.responseText.includes('true')) {\n                                Kameleoon.API.Events.trigger('UserIsFnacOneMember');\n                                window.sessionStorage.setItem('KameleoonDev__usersFnacOneMembershipIsChecked_' + UDID, 'true');\n                            } else {\n                                window.sessionStorage.setItem('KameleoonDev__usersFnacOneMembershipIsChecked_' + UDID, 'false');\n                            }\n                        }\n                    });\n                }\n            }\n            function tc_varsWithIDExists() {\n                return window.tc_vars && window.tc_vars['user_id'];\n            }\n        })();\n    })();\n\n    //Set Custom Data for all page accesses; arbo_niv2\n    Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n            return typeof window.tc_vars !== 'undefined' && typeof window.tc_vars.arbo_niv2 !== 'undefined';\n        },\n        function () {\n            Kameleoon.API.Data.setCustomData('Acces Page', window.tc_vars.arbo_niv2);\n        }\n    );\n\n    //Set Custom Data for all page names; page_name\n    Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n            return typeof window.tc_vars !== 'undefined' && typeof window.tc_vars.page_name !== 'undefined';\n        },\n        function () {\n            Kameleoon.API.Data.setCustomData('Page Name', window.tc_vars.page_name);\n        }\n    );\n\n    //Test [FNAC] Frais de port Livre < 10€ Search + Panier\n    (function () {\n        if (window.location.href.indexOf('/votre-commande') !== -1) {\n            Kameleoon.API.Core.runWhenConditionTrue(\n                function () {\n                    return typeof window.tc_vars !== 'undefined' && window.tc_vars.order_products && window.tc_vars.order_amount && window.tc_vars.order_amount < 10;\n                },\n                function () {\n                    if (\n                        window.tc_vars.order_products.every(function (product) {\n                            return product[9] === null || product[13] === 'Livre';\n                        })\n                    ) {\n                        Kameleoon.API.Data.writeLocalData('KameleoonDev__freeDeliveryBook', 'freeDelivery');\n                    }\n                }\n            );\n        }\n    })();\n\n    //CDs IA\n    //1 - 0 - 20€\n    //2 - 20 - 50€\n    //3 - 50 - 100€\n    //4 - 100 - 500€\n    //5 - 500€ et +\n\n    ////\n    if (window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/merci') !== -1) {\n        Kameleoon.API.Core.runWhenConditionTrue(\n            function () {\n                return typeof window.tc_vars !== 'undefined' && typeof window.tc_vars.order_amount !== 'undefined';\n            },\n            function () {\n                if (0 < parseFloat(window.tc_vars.order_amount) <= 20) Kameleoon.API.Data.setCustomData('IA basket_amount', 1);\n                if (20 < parseFloat(window.tc_vars.order_amount) <= 50) Kameleoon.API.Data.setCustomData('IA basket_amount', 2);\n                if (50 < parseFloat(window.tc_vars.order_amount) <= 100) Kameleoon.API.Data.setCustomData('IA basket_amount', 3);\n                if (100 < parseFloat(window.tc_vars.order_amount) <= 500) Kameleoon.API.Data.setCustomData('IA basket_amount', 4);\n                if (500 < parseFloat(window.tc_vars.order_amount)) Kameleoon.API.Data.setCustomData('IA basket_amount', 5);\n            }\n        );\n\n        //si on le fait - voir si on partirait la dessus (1 // 2-5 // 6-10 //11-15 //15 et plus)\n        Kameleoon.API.Core.runWhenConditionTrue(\n            function () {\n                return typeof window.tc_vars !== 'undefined' && typeof window.tc_vars.order_nb_products !== 'undefined';\n            },\n            function () {\n                Kameleoon.API.Data.setCustomData('nombre de produit dans le panier', parseInt(window.tc_vars.order_nb_products));\n            }\n        );\n    }\n\n    //Non adherent --> 1\n    //None --> 1\n    //Adherent --> 2\n    //Adh --> 2\n    //FnacPlus --> 3\n    //AdhOne --> 4\n    //AdhOnePlus --> 5\n    Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n            return typeof window.dtm_datalayer !== 'undefined' && typeof window.dtm_datalayer.status_membership !== 'undefined';\n        },\n        function () {\n            if (window.dtm_datalayer.status_membership === 'Non adherent') Kameleoon.API.Data.setCustomData('IA status_membership', 1);\n            if (window.dtm_datalayer.status_membership === 'None') Kameleoon.API.Data.setCustomData('IA status_membership', 1);\n            if (window.dtm_datalayer.status_membership === 'Adherent') Kameleoon.API.Data.setCustomData('IA status_membership', 2);\n            if (window.dtm_datalayer.status_membership === 'Adh') Kameleoon.API.Data.setCustomData('IA status_membership', 2);\n            if (window.dtm_datalayer.status_membership === 'FnacPlus') Kameleoon.API.Data.setCustomData('IA status_membership', 3);\n            if (window.dtm_datalayer.status_membership === 'AdhOne') Kameleoon.API.Data.setCustomData('IA status_membership', 4);\n            if (window.dtm_datalayer.status_membership === 'AdhOnePlus') Kameleoon.API.Data.setCustomData('IA status_membership', 5);\n        }\n    );\n\n    Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n            return typeof window.tc_vars !== 'undefined' && typeof window.tc_vars.user_segment !== 'undefined';\n        },\n        function () {\n            if (window.tc_vars.user_segment === 'Non-Adherent') Kameleoon.API.Data.setCustomData('IA_2 user_segment', 1);\n            if (window.tc_vars.user_segment === 'Adherent') Kameleoon.API.Data.setCustomData('IA_2 user_segment', 2);\n        }\n    );\n\n    // BEGIN OF [FNAC_DARTY] Setup Goals Fnac IA\n    (function () {\n        const goals = {\n            'CA Livres': 225387,\n            'CA Musique, CDs, Vinyles': 225388,\n            'CA Smartphone et objets connectés': 225389,\n            'CA Photos, caméras, tirages photo': 225390,\n            'CA Jeux vidéos, consoles': 225391,\n            'CA Enfants, jouets, bébé': 225392,\n            'CA Son, casque, enceinte': 225393,\n            'CA Films, séries, tv, dvd, blu-ray': 225394,\n            'CA TV, Vidéo, Home cinéma': 225395,\n            'CA Informatique, tablettes': 225396,\n        };\n\n        const goalsByCategories = [\n            {\n                categoryValues: ['Livre', 'Livres numériques', 'ebook', 'Livres numériques, ebook'],\n                goalName: 'CA Livres',\n            },\n            {\n                categoryValues: ['Musique'],\n                goalName: 'CA Musique, CDs, Vinyles',\n            },\n            {\n                categoryValues: ['Smartphones et Objets Connectés'],\n                goalName: 'CA Smartphone et objets connectés',\n            },\n            {\n                categoryValues: ['Photo', 'caméscope', 'Photo, caméscope'],\n                goalName: 'CA Photos, caméras, tirages photo',\n            },\n            {\n                categoryValues: ['Jeux vidéo'],\n                goalName: 'CA Jeux vidéos, consoles',\n            },\n            {\n                categoryValues: ['Enfants, jouets', 'Puériculture, Bébés', 'Enfants', 'jouets', 'Puériculture', 'Bébés'],\n                goalName: 'CA Enfants, jouets, bébé',\n            },\n            {\n                categoryValues: ['Son', 'hifi', 'lecteur MP3', 'Son, hifi, lecteur MP3'],\n                goalName: 'CA Son, casque, enceinte',\n            },\n            {\n                categoryValues: ['DVD & Vidéo'],\n                goalName: 'CA Films, séries, tv, dvd, blu-ray',\n            },\n            {\n                categoryValues: ['TV', 'Vidéo', 'Home cinema', 'TV, Vidéo, Home cinema'],\n                goalName: 'CA TV, Vidéo, Home cinéma',\n            },\n            {\n                categoryValues: ['Informatique', 'Logiciels', 'Logiciels en téléchargement'],\n                goalName: 'CA Informatique, tablettes',\n            },\n        ];\n\n        const categories = ['Livre', 'Livres numériques', 'ebook', 'Livres numériques, ebook', 'Musique', 'Smartphones et Objets Connectés', 'Photo', 'caméscope', 'Photo, caméscope', 'Jeux vidéo', 'Enfants, jouets', 'Puériculture, Bébés', 'Enfants', 'jouets', 'Puériculture', 'Bébés', 'Son', 'hifi', 'lecteur MP3', 'Son, hifi, lecteur MP3', 'DVD & Vidéo', 'TV', 'Vidéo', 'Home cinema', 'TV, Vidéo, Home cinema', 'Informatique', 'Logiciels', 'Logiciels en téléchargement'];\n\n        const setupGoals = () => {\n            const addToCartQuery = '/basket/add';\n            const storedProducts = Kameleoon.API.Data.readLocalData('kamDev__productsInfo') || [];\n            const mainUrl = 'https://api-product.kameleoon.com/productData?siteCode=ds1h54b9h1';\n\n            const formatUrlByIds = (storedIds) => {\n                let url = `${mainUrl}&eans=[`;\n                storedIds.forEach((productId) => {\n                    url += `\"${productId}\",`;\n                });\n                url += ']&all=true';\n                return url;\n            };\n\n            const checkAddedByList = () => {\n                const storedProductIds = Kameleoon.API.Data.readLocalData('kamDev__productIds') || [];\n\n                const url = formatUrlByIds(storedProductIds);\n                Kameleoon.API.Utils.performRequest(url, function () {\n                    if (this.readyState === 4 && this.status === 200) {\n                        if (this.response) {\n                            const productData = JSON.parse(this.response);\n                            const productsInfo = Object.entries(productData);\n\n                            const formattedProductsData = productsInfo.map((product) => {\n                                return {\n                                    id: product[0],\n                                    ...product[1],\n                                };\n                            });\n\n                            const productsAddedByList = formattedProductsData.map((product) => {\n                                const newProduct = {\n                                    productId: product.id,\n                                    productCategory: product.category,\n                                };\n\n                                const isProductFitsCategory = goalsByCategories.some((object) => {\n                                    return object.categoryValues.includes(newProduct.productCategory);\n                                });\n\n                                const isAlreadyStoredContainsProduct = storedProducts.some((storedProduct) => {\n                                    return storedProduct && storedProduct.productId === newProduct.productId;\n                                });\n\n                                return !isAlreadyStoredContainsProduct && isProductFitsCategory ? newProduct : null;\n                            });\n\n                            const filteredAddedProducts = productsAddedByList.filter((product) => {\n                                return product !== null;\n                            });\n\n                            const updatedProductsInfo = [...storedProducts, ...filteredAddedProducts];\n                            Kameleoon.API.Data.writeLocalData('kamDev__productsInfo', updatedProductsInfo, true);\n                        }\n                    }\n                });\n            };\n\n            const writeDataOnAddToCart = (storedProductsArray) => {\n                const open = XMLHttpRequest.prototype.open;\n                XMLHttpRequest.prototype.open = function () {\n                    this.addEventListener('load', function () {\n                        try {\n                            const addToCartFromPdp = this.responseURL && this.response && this.responseURL.includes(addToCartQuery);\n\n                            if (addToCartFromPdp) {\n                                if (storedProductsArray) {\n                                    Kameleoon.API.Data.writeLocalData('kamDev__productsInfo', storedProductsArray, true);\n                                } else {\n                                    const storedIds = Kameleoon.API.Data.readLocalData('kamDev__productIds') || [];\n                                    const parser = new DOMParser();\n                                    const responseDoc = parser.parseFromString(this.response, 'text/html');\n                                    const productId = responseDoc.querySelector('.BasketPopin-product').getAttribute('data-productid');\n\n                                    const updatedProductsIds = [...storedIds, productId];\n                                    Kameleoon.API.Data.writeLocalData('kamDev__productIds', updatedProductsIds, true);\n                                }\n                            }\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n\n                    return open.apply(this, arguments);\n                };\n            };\n\n            checkAddedByList();\n            writeDataOnAddToCart();\n\n            const setStorageItems = () => {\n                Kameleoon.API.Core.runWhenElementPresent('.productPageTop', () => {\n                    Kameleoon.API.Core.runWhenConditionTrue(\n                        () => {\n                            const isDataLayerInfoLoaded = window.tc_vars && tc_vars.product_id && tc_vars.arbo_niv1;\n\n                            return isDataLayerInfoLoaded;\n                        },\n                        () => {\n                            const newProduct = {\n                                productId: tc_vars.product_id,\n                                productCategory: tc_vars.arbo_niv1.trim(),\n                            };\n\n                            const isProductTargeted = goalsByCategories.some((object) => object.categoryValues.includes(newProduct.productCategory));\n\n                            if (isProductTargeted && categories.includes(newProduct.productCategory)) {\n                                const updatedProductsInfo = [...storedProducts, newProduct];\n                                writeDataOnAddToCart(updatedProductsInfo);\n                            }\n                        }\n                    );\n                });\n            };\n\n            const filterProductsById = (orderedProducts, storedObj) => {\n                const orderedIdsArray = orderedProducts.map((arr) => arr[0]);\n\n                const storedOrderedProducts = storedObj.filter((obj) => orderedIdsArray.includes(obj.productId));\n\n                return storedOrderedProducts;\n            };\n\n            const createTargetedProductsArray = (orderedProductsTc) => {\n                const targetedProductsWithRevenue = filterProductsById(orderedProductsTc, storedProducts).map((storedObj) => {\n                    const filteredValue = orderedProductsTc.filter((arrayTc) => {\n                        return arrayTc[0] === storedObj.productId;\n                    });\n\n                    const singleProductObject = filteredValue.map((value) => {\n                        const newObject = {\n                            amount: parseFloat(value[5]) * parseInt(value[4]),\n                            category: storedObj.productCategory,\n                        };\n\n                        return newObject;\n                    });\n\n                    return singleProductObject;\n                });\n\n                return targetedProductsWithRevenue;\n            };\n\n            const executedGoalsArray = [];\n\n            const triggerGoalByCategory = (productPropsArray) => {\n                const arrayOfTargetedProducts = createTargetedProductsArray(productPropsArray);\n\n                goalsByCategories.forEach((catObj) => {\n                    const productsForCategory = new Set(\n                        arrayOfTargetedProducts.filter((array) => {\n                            return catObj.categoryValues.includes(array[0].category);\n                        })\n                    );\n\n                    const revenue = [...productsForCategory].reduce((acc, currValue) => {\n                        return acc + currValue[0].amount;\n                    }, 0);\n\n                    if (revenue > 0 && !executedGoalsArray.includes(catObj.goalName)) {\n                        Kameleoon.API.Goals.processConversion(goals[catObj.goalName], revenue);\n                        executedGoalsArray.push(catObj.goalName);\n                        return;\n                    }\n                });\n            };\n\n            const setGoalWithRevenue = () => {\n                Kameleoon.API.Core.runWhenConditionTrue(\n                    () => {\n                        const isDataLayerProductsLoaded = window.tc_vars && tc_vars.order_products.length;\n\n                        return isDataLayerProductsLoaded;\n                    },\n                    () => {\n                        const orderedProducts = tc_vars.order_products;\n                        triggerGoalByCategory(orderedProducts);\n                    }\n                );\n            };\n\n            window.location.pathname.match('/orderpipe/pop/merci') ? setGoalWithRevenue() : setStorageItems();\n        };\n\n        setupGoals();\n    })();\n    // END OF [FNAC_DARTY] Setup Goals Fnac IA\n\n    // Setup API Product\n    (function () {\n        const getProductApiObject = () => {\n            return {\n                name: window.tc_vars.product_name,\n                category: window.tc_vars.arbo_niv1,\n                mainImageURL: window.tc_vars.product_picture_url,\n                categoryID: window.tc_vars.product_unitprice,\n                //Baisse de Prix additions\n                // price: window.tc_vars.product_unitprice_discount,\n            };\n        };\n\n        Kameleoon.API.Core.runWhenConditionTrue(\n            () => window.tc_vars,\n            () => {\n                const productApiObject = getProductApiObject();\n                if (window.tc_vars.product_id) {\n                    Kameleoon.API.Products.trackProductView(window.tc_vars.product_id, productApiObject);\n                }\n                //Baisse de Prix additions\n                if (window.tc_vars.user_segment === 'Non-Adherent') {\n                    Kameleoon.API.Products.trackProductView(window.tc_vars.product_id, {\n                        price: window.tc_vars.product_unitprice_discount,\n                    });\n                }\n            }\n        );\n    })();\n    //END Setup API Product\n    //Baisse de Prix\n\tconst BDPsearch = () => {\n    function callback() {\n\n        const tabletWidth = 768,\n            regexpPromo = /Bon Plan/i,\n            regexpStatus = /neufs à partir de|occasions dès|Plus d'offres/i,\n            discountRange = 259200000;\n\n        let selector, state;\n\n        function checkForConditions() {\n            Kameleoon.API.Core.runWhenElementPresent(selector, (articles) => {\n                const listOfProperIds = [];\n                window.bdp_search = {};\n                articles.forEach((productTile, index) => {\n                    let condition11, condition14, condition14_Bon_Plan;\n                    productTile.setAttribute('kamflag', 'true');\n                    if (innerWidth > tabletWidth) {\n                        if (state === 'mosaic') {\n                            condition11 = productTile.querySelector('.more') &&\n                                regexpStatus.test(productTile.querySelector('.more').textContent);\n                        } else {\n                            condition11 = productTile.querySelector('.f-buyBox-availabilityStatus-available');\n                        }\n                        condition14 = productTile.querySelector('.stimuliOPC');\n                        condition14_Bon_Plan = productTile.querySelector('.stimuliOPC') &&\n                            regexpPromo.test(productTile.querySelector('.stimuliOPC').textContent);\n                    } else {\n                        if (state === 'mosaic') {\n                            condition11 = productTile.querySelector('.soon');\n                        } else {\n                            condition11 = productTile.querySelector('.shop-availability.soon');\n                        }\n                        condition14 = productTile.querySelector('.line .label') &&\n                            getComputedStyle(productTile.querySelector('.line .label'))['background-color'] ===\n                            'rgb(221, 30, 53)';\n                        condition14_Bon_Plan = productTile.querySelector('.line .label') &&\n                            regexpPromo.test(productTile.querySelector('.line .label').textContent);\n                    }\n                    const elementWithId = productTile.querySelector('[data-prid]');\n                    // For QA FR\n                    window.bdp_search[index] = {\n                        condition11,\n                        'condition14': !condition14 || condition14_Bon_Plan,\n                    };\n                    if (\n                        condition11 &&\n                        (!condition14 || condition14_Bon_Plan)\n                    ) {\n                        listOfProperIds.push(elementWithId && elementWithId.getAttribute('data-prid'));\n                    }\n                });\n\n                if (listOfProperIds.length) {\n                    fetch(`https://api-product.kameleoon.com/productData?siteCode=ds1h54b9h1&eans=${JSON.stringify(Array.from(listOfProperIds))}//&all=true`)\n                        .then(response => response.json())\n                        .then(response => {\n                            return Object.entries(response).reduce((accumulator, value) => {\n                                const element = value[1];\n                                const price = element.categoryId,\n                                    timestamp = element.timesAndPricesSortedAscTime &&\n                                        element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1] &&\n                                        element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1][0],\n                                    reducedPrice = element.timesAndPricesSortedAscTime &&\n                                        element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1] &&\n                                        element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1][1];\n                                if (\n                                    element.category === 'Informatique' &&\n                                    parseInt(price - reducedPrice) > 1 &&\n                                    (new Date() - new Date(timestamp)) / 3600000 < discountRange\n                                ) {\n                                    accumulator.push(value[0]);\n                                }\n                                return accumulator;\n                            }, []);\n                        })\n                        .then(response => {\n                            if (response && response.length) {\n                                sessionStorage.setItem('KamDev_BaisseDePrix_Search&List', response);\n                                Kameleoon.API.Events.trigger('BaisseDePrix_search');\n                            }\n                            Kameleoon.API.Core.runWhenConditionTrue(\n                                () => {\n                                    const mosaicSelector = innerWidth > tabletWidth ? '.Article-mosaicItem' : '.f-searchResult';\n                                    const listSelector = innerWidth > tabletWidth ? '.Article-item' : '.f-searchResult';\n                                    return document.querySelector(`${mosaicSelector}:not([kamflag])`) ||\n                                        document.querySelector(`${listSelector}:not([kamflag])`);\n                                },\n                                () => {\n                                    callback();\n                                },\n                                1000\n                            );\n                        });\n                }\n            });\n        }\n        //Check for proper selectors\n        if (innerWidth > tabletWidth) {\n            Kameleoon.API.Core.runWhenElementPresent('a.active',\n                ([viewState]) => {\n                    if (/list/i.test(viewState.className)) {\n                        selector = '.Article-item';\n                        state = 'list';\n                        checkForConditions();\n                    } else {\n                        selector = '.Article-mosaicItem';\n                        state = 'mosaic';\n                        checkForConditions();\n                    }\n                }\n            );\n        } else {\n            Kameleoon.API.Core.runWhenElementPresent('.js-searchView',\n                ([viewState]) => {\n                    if (/to_mosaic/i.test(viewState.className)) {\n                        selector = '.f-searchResult';\n                        state = 'list';\n                        checkForConditions();\n                    } else {\n                        selector = '.f-searchResult';\n                        state = 'mosaic';\n                        checkForConditions();\n                    }\n                }\n            );\n        }\n    }\n    //Implementation\n    callback();\n};\n\nconst BDPpdp = () => {\n    const tabletWidth = 768,\n        regexpPromo = /Bon Plan|Prix/i,\n        regexpStatus = /En Stock/i,\n        discountRange = 259200000;\n\n    const selector = innerWidth > tabletWidth ? '.f-buyBox-availabilityStatus-available' : '.dispo';\n    const promoSelector = innerWidth > tabletWidth ? '.f-alertOfferLabel' : '.linePrice';\n\n    function callback() {\n        Kameleoon.API.Core.runWhenElementPresent(selector, ([status]) => {\n            //Targeting conditions\n            const condition9 = Kameleoon.API.CurrentVisit.customData['Catégorie produit'] === 'Informatique';\n            const condition12 = regexpStatus.test(status.textContent);\n            const condition16 = regexpPromo.test(document.querySelector(promoSelector) &&\n                document.querySelector(promoSelector).textContent);\n            //For QA FR\n            window.bdp_pdp = {\n                condition9,\n                condition12,\n                condition16,\n            };\n            if (\n                condition9 &&\n                condition12 &&\n                condition16\n            ) {\n                fetch(`https://api-product.kameleoon.com/productData?siteCode=ds1h54b9h1&eans=[\"${window.tc_vars.product_id}\"]/&all=true`)\n                    .then(response => response.json())\n                    .then(response => {\n                        const data = Object.values(response)[0],\n                            price = data.categoryId,\n                            timestamp = data.timesAndPricesSortedAscTime &&\n                                data.timesAndPricesSortedAscTime[data.timesAndPricesSortedAscTime.length - 1] &&\n                                data.timesAndPricesSortedAscTime[data.timesAndPricesSortedAscTime.length - 1][0],\n                            reducedPrice = data.timesAndPricesSortedAscTime &&\n                                data.timesAndPricesSortedAscTime[data.timesAndPricesSortedAscTime.length - 1] &&\n                                data.timesAndPricesSortedAscTime[data.timesAndPricesSortedAscTime.length - 1][1];\n                        if (\n                            parseInt(price - reducedPrice) > 1 &&\n                            (new Date() - new Date(timestamp)) / 3600000 < discountRange\n                        ) {\n                            sessionStorage.setItem('KamDev_BaisseDePrix_PDP', window.tc_vars.product_id);\n                            Kameleoon.API.Events.trigger('BaisseDePrix_pdp');\n                        }\n                    });\n            }\n        });\n    }\n    //Implementation\n    Kameleoon.API.Core.runWhenConditionTrue(\n        () => window.tc_vars && window.tc_vars.product_id,\n        callback\n    );\n};\n\nconst BDPslider = () => {\n    const regexpSearchPage = /SearchResult|#bl=|fnac\\.com(\\/)?$/i,\n        regexpPrId = /\\d{7}\\//,\n        tabletWidth = 768,\n        regexpPromo = /Bon Plan/i,\n        regexpAchorId = /\\/a(\\d+)\\//i,\n        discountRange = 259200000;\n\n    const checkForSelector = function () {\n        if (regexpSearchPage.test(location.href) && innerWidth > tabletWidth) return '.thumbnail-content';\n        else if (regexpPrId.test(location.href) && innerWidth > tabletWidth) return '.miniFA';\n        else if (innerWidth <= tabletWidth) return '.mini-FA';\n        else return 'body';\n    };\n    function callback() {\n        const listOfProperIds = [];\n        window.bdp_slider = {};\n        document.querySelectorAll(checkForSelector()).forEach((sliderProduct, index) => {\n            const condition13 = sliderProduct.querySelector('.js-ProductThumbnail .miniFA__seller');\n            const condition15 = sliderProduct.querySelector('.js-ProductThumbnail .stimuliOPC');\n            const condition15_BonPlan = condition15 && regexpPromo.test(condition15.textContent);\n            const anchor = sliderProduct.querySelector('.mini-FA .title a') &&\n                sliderProduct.querySelector('.mini-FA .title a').getAttribute('href');\n            const id = innerWidth > tabletWidth ?\n                sliderProduct.getAttribute('data-prid') :\n                anchor &&\n                anchor.match(regexpAchorId) &&\n                anchor.match(regexpAchorId)[1];\n            // For QA Fr\n            window.bdp_slider[index] = {\n                'condition13': !condition13,\n                'condition15': !condition15 || condition15_BonPlan,\n                id,\n            };\n\n            if (!condition13 &&\n                id &&\n                (!condition15 || condition15_BonPlan)\n            ) {\n                listOfProperIds.push(id);\n            }\n        });\n        if (listOfProperIds.length) {\n            fetch(`https://api-product.kameleoon.com/productData?siteCode=ds1h54b9h1&eans=${JSON.stringify(Array.from(listOfProperIds))}/&all=true`)\n                .then(response => response.json())\n                .then(response => {\n                    return Object.entries(response).reduce((accumulator, value) => {\n                        const element = value[1];\n                        const price = element.categoryId,\n                            timestamp = element.timesAndPricesSortedAscTime &&\n                                element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1] &&\n                                element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1][0],\n                            reducedPrice = element.timesAndPricesSortedAscTime &&\n                                element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1] &&\n                                element.timesAndPricesSortedAscTime[element.timesAndPricesSortedAscTime.length - 1][1];\n                        if (\n                            element.category === 'Informatique' &&\n                            parseInt(price - reducedPrice) > 1 &&\n                            (new Date() - new Date(timestamp)) / 3600000 < discountRange\n                        ) {\n                            accumulator.push(value[0]);\n                        }\n                        return accumulator;\n                    }, []);\n                })\n                .then(response => {\n                    if (response && response.length) {\n                        sessionStorage.setItem('KamDev_BaisseDePrix_slider', response);\n                        Kameleoon.API.Events.trigger('BaisseDePrix_slider');\n                    }\n                });\n        }\n    }\n    //Implementation\n    setTimeout(() => {\n        callback();\n    }, 0);\n};\n\nconst BDPgoals = () => {\n    Kameleoon.API.Core.runWhenConditionTrue(\n        () => window.tc_vars &&\n            window.tc_vars.template_type,\n        callback\n    );\n    function callback() {\n        const goals = {\n            'Liste - ajout panier new': 229106,\n            'Page produit - ajout panier new': 229107,\n            'Search Ajout Panier new': 229118,\n        };\n        //Selectors\n        const selectorListAndSearch = '.js-ProductBuy-add';\n        const selectorPDP = innerWidth > 768 ? '.ff-button.js-ProductBuy-add' : '.js-ProductBuy-add';\n        //Conditions\n        const pageType = window.tc_vars.template_type;\n        const conditionList = pageType === 'sous_home';\n        const conditionPDP = pageType === 'fiches';\n        const conditionSearch = pageType === 'moteur';\n        //Implementation\n        triggerGoal(conditionList, selectorListAndSearch, goals['Liste - ajout panier new']);\n        triggerGoal(conditionPDP, selectorPDP, goals['Page produit - ajout panier new']);\n        triggerGoal(conditionSearch, selectorListAndSearch, goals['Search Ajout Panier new']);\n    }\n    function triggerGoal(condition, selector, goal) {\n        if (condition) {\n            document.addEventListener('mousedown', ({ target }) => {\n                if (target.closest(selector)) {\n                    Kameleoon.API.Goals.processConversion(goal);\n                }\n            });\n        }\n    }\n};\n\n//Baisse de Prix Slider \ndocument.onreadystatechange = function () {\n    if (document.readyState === 'complete') {\n        BDPslider();\n        if (/SearchResult|#bl=/.test(location.href)) BDPsearch();\n        else if (/\\d{7}\\//.test(location.href)) BDPpdp();\n    }\n};\n\nBDPgoals();\n\n\t//Baisse de Prix\n\n    //[FNAC IA] Push Fnac + Add to basket\n    (function () {\n        const currentLink = window.location.href;\n\n        if (currentLink.match(/secure\\.fnac\\.com\\/orderpipe\\/pop\\/panier/)) {\n            console.log('link true');\n\n            Kameleoon.API.Core.runWhenConditionTrue(\n                () => {\n                    return tc_vars !== undefined && tc_vars.express_plus !== undefined && tc_vars.express_plus !== 'Oui' && tc_vars.order_products !== undefined;\n                },\n                () => {\n                    Kameleoon.API.Events.trigger('ExpressPlusNotOui');\n                    console.log('tr1');\n                    if (tc_vars.order_products.find((product) => product[16] === '00000000-0000-0000-0000-000000000000')) {\n                        Kameleoon.API.Events.trigger('SellerFnacInBasket');\n                        console.log('tr2');\n                    }\n                },\n                500\n            );\n        }\n    })();\n};\nif ('complete' == document.readyState || 'interactive' == document.readyState) {\n    globalScript();\n} else {\n    Kameleoon.API.Utils.addEventListener(\n        document,\n        'DOMContentLoaded',\n        function () {\n            globalScript();\n        },\n        false\n    );\n}\n;\ntry {var kameleoonEventsTracker = [{ 'id': 228778, 'selector': '#kameleoonScenarioLayerContainer41054', }, { 'id': 216524, 'selector': '#kameleoonElement852373 > a:first-child > img:first-child', }, { 'id': 162280, 'selector': '#kameleoonScenarioLayerContainer27938', }, { 'id': 138663, 'selector': '.ff-button--green.js-ProductRetreat-popup', }, { 'id': 138663, 'selector': '.fnacButton--blue.js-ProductRetreat-withFnacPlus.fnacButton', }, { 'id': 138663, 'selector': '.ff-button--dark.js-ProductRetreat-popup', }, { 'id': 138663, 'selector': '.fnacButton--black.js-Retrait1J-GratuitMag.fnacButton', }, { 'id': 214243, 'selector': '#kameleoonScenarioLayerContainer33279', }, { 'id': 227236, 'selector': 'a:contains(\"Vie\")', }, { 'id': 227236, 'selector': 'button:contains(\"Fnac 2nde Vie\")', }, { 'id': 138738, 'selector': 'u:contains(\"Voir détails\")', }, { 'id': 223256, 'selector': '#kameleoonScenarioLayerContainer36803', }, { 'id': 138666, 'selector': '.thumbnail-btnCart', }, { 'id': 193731, 'selector': '#kameleoonScenarioLayerContainer30084', }, { 'id': 163037, 'selector': '#kameleoonScenarioLayerContainer27983', }, { 'id': 190081, 'selector': 'body > div:nth-of-type(4) > div:first-child > div:nth-of-type(4) > div:first-child > div:nth-of-type(1) > a:nth-of-type(1)', }, { 'id': 212681, 'selector': '#account > header:first-child > a:nth-of-type(1)', }, { 'id': 220482, 'selector': 'body > div:nth-of-type(1) > footer:nth-of-type(1) > div:nth-of-type(2) > dl:nth-of-type(2) > dd:nth-of-type(5) > a:first-child', }, { 'id': 222018, 'selector': '#kameleoonScenarioLayerContainer36203', }, { 'id': 213727, 'selector': '#kameleoonScenarioLayerContainer33104', }, { 'id': 201831, 'selector': '#kameleoonScenarioLayerContainer30939', }, { 'id': 147402, 'selector': '#page__summary > section:first-child > div:nth-of-type(2) > form:nth-of-type(1) > button:first-child', }, { 'id': 228791, 'selector': '#kameleoonScenarioLayerContainer41069', }, { 'id': 197875, 'selector': '#kameleoonScenarioLayerContainer30439', }, { 'id': 147400, 'selector': '#root > section:first-child > div:nth-of-type(1) > div:first-child > div:first-child > a:first-child', }, { 'id': 212929, 'selector': '#kameleoonElement826863', }, { 'id': 212682, 'selector': 'body > div:nth-of-type(3) > div:first-child > section:nth-of-type(2) > header:first-child > a:first-child', }, { 'id': 205262, 'selector': '#kameleoonScenarioLayerContainer31407', }, { 'id': 203284, 'selector': '#kameleoonScenarioLayerBase31194', }, { 'id': 213739, 'selector': '#kameleoonScenarioLayerBase33104', }, { 'id': 138737, 'selector': '#chkExpressPlus', }, { 'id': 193663, 'selector': '#kameleoonScenarioLayerContainer30083', }, { 'id': 228841, 'selector': '#kameleoonScenarioLayerContainer41162', }, { 'id': 138701, 'selector': '.ma-AdherentInfo-btnSubscribe', }, { 'id': 152026, 'selector': '.ff-button--block', }, { 'id': 196519, 'selector': '#header', }, { 'id': 198360, 'selector': '#kameleoonScenarioLayerContainer30439', }, { 'id': 188293, 'selector': '#kameleoonScenarioLayerContainer29809', }, { 'id': 196522, 'selector': 'header', }, { 'id': 228957, 'selector': '#kameleoonScenarioLayerContainer40985', }, { 'id': 212683, 'selector': 'body > div:nth-of-type(1) > div:first-child > section:nth-of-type(3) > header:first-child > a:first-child', }, { 'id': 221949, 'selector': '#onetrust-pc-btn-handler', }, { 'id': 221948, 'selector': '#onetrust-accept-btn-handler', }, { 'id': 145387, 'selector': 'body > div:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(2) > section:first-child > ul:nth-of-type(2) > li:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(2) > p:first-child > a:nth-of-type(2)', }, { 'id': 212680, 'selector': 'body > div:nth-of-type(3) > div:nth-of-type(1) > div:first-child > a:nth-of-type(1)', }, { 'id': 147401, 'selector': '#root > section:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(4) > div:first-child > div:first-child > button:nth-of-type(1)', }, { 'id': 192768, 'selector': '#kameleoonScenarioLayerContainer30042', }, { 'id': 153611, 'selector': 'body > div:nth-of-type(2) > div:first-child > div:nth-of-type(3)', }, { 'id': 138667, 'selector': '.FnacBtnAddBasket', }, { 'id': 186287, 'selector': '#kameleoonScenarioLayerBase29691', }, { 'id': 193730, 'selector': '#kameleoonScenarioLayerContainer30084', }, { 'id': 228736, 'selector': '#kameleoonScenarioLayerContainer40925', }, { 'id': 138734, 'selector': '.js-ProductStimulusChrono', }, { 'id': 143838, 'selector': '#kameleoonScenarioLayerContainer26720', }, { 'id': 212932, 'selector': '#kameleoonElement826849', }, { 'id': 186173, 'selector': '#kameleoonScenarioLayerContainer29687', }, { 'id': 145388, 'selector': 'body > div:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(2) > section:first-child > ul:nth-of-type(2) > li:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:nth-of-type(2) > p:first-child > a:first-child', }, { 'id': 205263, 'selector': '#kameleoonScenarioLayerBase31407', }, { 'id': 216125, 'selector': '#kameleoonElement849876', }, { 'id': 138657, 'selector': '.ff-button--green.js-buyBox-event', }, { 'id': 138657, 'selector': '.ff-button-label', }, { 'id': 138657, 'selector': '.ff-button--orange.js-buyBox-event', }, { 'id': 138657, 'selector': '.ff-button--black.js-buyBox-event', }, { 'id': 186286, 'selector': '#kameleoonScenarioLayerContainer29691', }, { 'id': 203283, 'selector': '#kameleoonScenarioLayerContainer31194', }, { 'id': 214212, 'selector': '#kameleoonScenarioLayerContainer33267', }, ];var createEventTracking=function(elements,goal){ var kameleoonEventTrackerCallback=function(event){ if(!Kameleoon.Internals.runtime.touchMoveEvent ){ Kameleoon.API.Goals.processConversion(goal.id); } }; for (var i=0; i < elements.length; ++i){ Kameleoon.Utils.addEventListener(elements[i], Kameleoon.Internals.runtime.mouseDownEvent, kameleoonEventTrackerCallback, true); } }; var kameleoonIntervalId = Kameleoon.Utils.setInterval(function () { for (var i = kameleoonEventsTracker.length - 1; i >= 0; --i) { var elements = Kameleoon.Utils.querySelectorAll(kameleoonEventsTracker[i].selector); if (elements.length > 0) { createEventTracking(elements, kameleoonEventsTracker[i]); kameleoonEventsTracker.splice(i, 1); } } if (kameleoonEventsTracker.length == 0) { window.clearInterval(kameleoonIntervalId); } }, 250); } catch (exception) { console.log('An error occurred in your custom JavaScript Kameleoon tracking function, please check your code.'); console.log(exception, exception.message); }","abortCustomScript":"return false;","maxNumberLocalVisits":25,"staticURL":"//static.kameleoon.eu/","kameleoonByteLength":107649,"trackerNodeSubdomains":["eu-tlp04","eu-tlp03","eu-tlp02","eu-tlp01","eu-tlp07","eu-tlp06","eu-tlp05"],"trackerNodeNumberLogParsers":[6,6,6,6,6,6,6],"track":true,"trackerExcludedIPRanges":[],"useAudience":true,"targetingSegments":[{"id":108968,"name":"Catalogue - Optin-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(window.tc_vars && window.tc_vars.user_subscription_newsletter)\nreturn window.tc_vars.user_subscription_newsletter === 'no';","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)orderpipe(.*)","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"targetingCondition":{"type":"TIME_SINCE_PAGE_LOAD","disabled":false,"weight":1,"include":true,"time":5000,"operator":"GREATER","timeUnit":"SECOND","pageURLRegExpToMatch":"(.*)fnac\\.com(.*)","pageURLRegExpNotToMatch":null}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"OPT-IN-Banner","value":null,"nameOperator":"CONTAINS","valueOperator":"OPTIONAL","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":2}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"BROWSER","disabled":false,"weight":1,"value":"IE","version":null,"operator":"EQUAL","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)sfdsf(.*)","include":true}}}}}}},{"id":115710,"name":"[FNAC] Roll over sur CTA-1","tree":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/pop/votre-commande(.*)","include":true}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/pop/panier(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (!!sessionStorage.getItem('multi-seller') && sessionStorage.getItem('multi-seller') == true) {\n  return false;\n} else {\n  return true;\n}","include":true,"domReady":false}}}}},{"id":116992,"name":"[FNAC FR] [EC mobile] Info factures -1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/MyAccount/Order(.*)","include":true}}}},{"id":123426,"name":"Segment for [FNAC FR] Nouvelle mire","tree":null},{"id":124728,"name":"[FNAC FR] [Search] Tirage photo-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/SearchResult/ResultList\\.aspx(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=tirage\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Livre\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Livre\\+photos(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Livres\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=livre\\+photo\\+cewe(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Album\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Créer\\+un\\+album\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Faire\\+un\\+album\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tirage\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tirages\\+photos(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tirage\\+photos(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Developpement\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Développement\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Impression\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Developpement\\+photos(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Developper\\+photos(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Poster(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Poster\\+photo(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Livres\\+photos\\+CEWE\\+création(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=photos\\+tirages(.*)","include":true}}}}}}}}}}}}}}}}}}}}}}},{"id":124730,"name":"[FNAC FR] [Search] Citroen AMI-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/SearchResult/ResultList\\.aspx(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=ami(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=voiture(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=automobile(.*)","include":true}}}}}},{"id":108964,"name":"Search - Test Moteur-1","tree":{"targetingCondition":{"type":"LANDING_PAGE","disabled":false,"weight":1,"value":"(.*)https\\://www\\.fnac\\.com/SearchResult(.*)","include":false}}},{"id":118802,"name":"[FNAC FR] Push Fnacplus header V2","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".Header__tabs-status","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/account/(.*)","include":false}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}}},{"id":126496,"name":"[FNAC FR] Wording popin garantie","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"h1:contains(\"Smartphone\")","include":false}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"h1:contains(\"Apple iPhone\")","include":false}}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com(.*)","include":false}}}},{"id":126653,"name":"[FNAC FR] Wording popin assurance","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"h1:contains(\"Smartphone\")","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"h1:contains(\"Apple iPhone\")","include":true}}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com(.*)","include":false}}}},{"id":132665,"name":"[FNAC FR] [Home] PERSO V2","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"NEW_VISITORS","disabled":false,"weight":1,"value":"RETURNING","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_TITLE","disabled":false,"weight":1,"value":"(.*)Fnac \\: Info(.*)","include":true}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"//4 PAGES ARTICLE VUES\nif (typeof window.obtainPageVisitNumberByFicheArticle !== 'undefined') \n{\n    if (window.obtainPageVisitNumberByFicheArticle() >= 4) return true;\n    else return undefined;\n}\nelse\n{\n    return undefined;\n}","include":true,"domReady":false}}}},{"id":127172,"name":"[FNAC FR] [Search] Disney Canal","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/SearchResult/ResultList\\.aspx(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=canal\\+plus(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=canalplus(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=canal\\+\\+(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=canal\\+(.*)","include":true}}}}}}},{"id":127999,"name":"[FNAC FR] Account toggle-1","tree":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/MyAccount/Order(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/MyAccount/order(.*)","include":true}}}},{"id":129728,"name":"[FNAC FR] SAV Whatsapp","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/account/dashboard(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/MyAccount/Order(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/Service/default\\.aspx(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/Contact(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/choisir-carte(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/help/contact(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/help/help(.*)","include":true}}}}}}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"UserIsFnacOneMember","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"1ac5a82ce-a995-6b33-e3bb-3a429fc75715"}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"1a4773f64-4011-13a3-95e7-fbeb5059d744"}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"13ea9f93e-1c6b-540d-24ed-041a0b713cff"}},"rightChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"19b08240d-3546-4e4b-9ad3-90fe013c638b"}}}}}}}},{"id":131623,"name":"[FNAC FR] [Panier]","tree":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)www\\.fnac\\.com(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com(.*)","include":true}}}},{"id":131499,"name":"Segment for [FNAC FR] Info ebook","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/MyAccount/EbookHistory/?([\\?#].*)?$","include":true}}},{"id":132191,"name":" [FNAC FR] Push App Kobo IOS","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)livre\\.fnac\\.com(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"span:contains(\"ebook\")","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"span:contains(\"Livre audio\")","include":true}}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (window.navigator && window.navigator.userAgent && /iPad|iPhone|iPod/i.test(window.navigator.userAgent)) {\nreturn true\n}","include":true,"domReady":false}}}}},{"id":133200,"name":" [FNAC FR] Push App Kobo Android","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)livre\\.fnac\\.com(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"span:contains(\"ebook\")","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"span:contains(\"Livre audio\")","include":true}}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (window.navigator && window.navigator.userAgent && /Android/i.test(window.navigator.userAgent)) {\nreturn true\n}\n\nelse return undefined;","include":true,"domReady":false}}}}},{"id":132757,"name":"[FNAC FR] [Search] TV Samsung","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/SearchResult/ResultList\\.aspx(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=the\\+frame(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=tv\\+the\\+frame(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=tv\\+samsung(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=tv\\+qled(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=The\\+frame(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tv\\+samsung(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tv\\+qled(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=Tv\\+the\\+frame(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"Search=TV+samsung|Tv+Samsung|tv+samsung|samsung tv","include":true}}}}}}}}}}}},{"id":134148,"name":"[Fnac] Info shipping fees Search+Panier","tree":{"orOperator":true,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof window.tc_vars !== \"undefined\" && window.tc_vars.user_email == \"\" && window.tc_vars.user_segment && window.tc_vars.user_segment === \"Non-Adherent\") return true;\nelse return \"undefined\";","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=livre(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof window.tc_vars !== \"undefined\" && window.tc_vars.user_email == \"\" && window.tc_vars.user_segment && window.tc_vars.user_segment === \"Non-Adherent\") return true;\nelse return \"undefined\";","include":true,"domReady":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"var links = [].slice.call(document.querySelectorAll('.Article-desc a'));\nif (links.some(link => link.href.match('https://livre.fnac.com/'))) return true;\nelse return 'undefined';","include":true,"domReady":false}}}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof window.tc_vars !== \"undefined\" && window.tc_vars.user_email == \"\" && window.tc_vars.user_segment && window.tc_vars.user_segment === \"Non-Adherent\" && window.tc_vars.arbo_niv2 && window.tc_vars.arbo_niv2 === \"Livre\") return true;\nelse return \"undefined\";","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://livre\\.fnac\\.com/(.*)","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"TABLET","include":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof window.tc_vars !== \"undefined\" && window.tc_vars.user_email == \"\" && window.tc_vars.user_segment && window.tc_vars.user_segment === \"Non-Adherent\") return true;\nelse return \"undefined\";","include":true,"domReady":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/panier(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof window.tc_vars !== \"undefined\" && window.tc_vars.order_products && window.tc_vars.order_products.length) {\n    var sum = 0;\n    for (var i = 0; i < window.tc_vars.order_products.length; i++) {\n        if (window.tc_vars.order_products[i][16] === \"00000000-0000-0000-0000-000000000000\") {\n            sum += (parseFloat(window.tc_vars.order_products[i][5]) * parseFloat(window.tc_vars.order_products[i][4]));\n        }\n    }\n    if(sum > 0 && sum  < 10) return true;\nelse return 'undefined'\n}","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof window.tc_vars !== \"undefined\" && window.tc_vars.order_products) {\n    return window.tc_vars.order_products.every(product => {\n        return (product[9] === null || product[13] === 'Livre');\n    })\n}","include":true,"domReady":false}}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"TABLET","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/panier(.*)","include":true}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof window.tc_vars !== \"undefined\" && window.tc_vars.order_amount && window.tc_vars.order_amount < 10) return true;\nelse return undefined;","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof window.tc_vars !== \"undefined\" && window.tc_vars.order_products) {\n    return window.tc_vars.order_products.every(product => {\n        return (product[9] === null || product[13] === 'Livre');\n    })\n}","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(Kameleoon.API.Data.readLocalData('KameleoonDev__freeDeliveryBook') === 'freeDelivery') {\n    return true;\n} else return 'undefined';","include":true,"domReady":false}}}}}}}}},{"id":135649,"name":"[FNAC FR] Toutes les pages mobile","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)www\\.fnac\\.com(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com(.*)","include":true}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}}},{"id":134251,"name":"[FNAC] Info shopping fees","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"TABLET","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://livre\\.fnac\\.com/(.*)","include":true}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof tc_vars !== \"undefined\" && tc_vars.user_segment && tc_vars.user_segment === \"Non-Adherent\" && tc_vars.user_email == \"\"  && tc_vars.product_discount_ati && tc_vars.product_discount_ati < 10) return true;\nelse return \"undefined\";","include":true,"domReady":false}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(document.querySelector('div.f-buyBox-shipping') && document.querySelector('div.f-buyBox-shipping').innerText && document.querySelector('div.f-buyBox-shipping').innerText === \"Livraison à partir de 1€99\") return true;\nelse return 'undefined';","include":true,"domReady":false}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(document.querySelector('.priceDelivery') && document.querySelector('.priceDelivery').innerText && document.querySelector('.priceDelivery').innerText === \"Livraison à partir de 1.99€\") return true;\nelse return 'undefined';","include":true,"domReady":false}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(document.querySelector('div.priceDelivery') && document.querySelector('div.priceDelivery').innerText && document.querySelector('div.priceDelivery').innerText === \"Livraison à partir de 1€99\") return true;\nelse return 'undefined';","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(document.querySelector('div.priceDelivery') && document.querySelector('div.priceDelivery').innerText && document.querySelector('div.priceDelivery').innerText === \"Livraison à partir de 1.99€\") return true;\nelse return 'undefined';","include":true,"domReady":false}}}}}}},{"id":122318,"name":"[FNAC] Fnac+ add to basket","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".f-shopBox-MPInfoSellerItem.f-shopBox-MPInfoSellerTitle","include":false}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if((typeof window.tc_vars !== \"undefined\" && window.tc_vars.hasOwnProperty('express_plus')) && (window.tc_vars.express_plus === \"\" || window.tc_vars.express_plus == \"Non\")) return true;","include":true,"domReady":false}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/pop/panier(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)fnac\\.com/Contact(.*)","include":false}}}}}},{"id":136452,"name":"[FNAC FR] [Footer] SAV WhatsApp-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"UserIsFnacOneMember","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"1a4773f64-4011-13a3-95e7-fbeb5059d744"}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"13ea9f93e-1c6b-540d-24ed-041a0b713cff"}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"19b08240d-3546-4e4b-9ad3-90fe013c638b"}},"rightChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":15,"operator":"EXACT","include":true,"value":"1ac5a82ce-a995-6b33-e3bb-3a429fc75715"}}}}}}}},{"id":126662,"name":"[FNAC FR] Popin panier CTA JAUNE","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com(.*)","include":false}}}},{"id":127250,"name":" [FR] HP sans menu V3","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (window.tc_vars && window.tc_vars.page_name && window.tc_vars.page_name=='Home Accueil') {\n    return true;\n } else {\n     return undefined;\n }","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"TABLET","include":true}}}},{"id":139255,"name":"[FNAC FR] Seconde Vie","tree":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (document.querySelector('a[href*=\"Fnac-2nde-vie\"]') !== null || document.querySelector('a[href*=\"Darty-Occasion\"]') !== null) {\nreturn true;\n}","include":true,"domReady":false}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (Array.from(document.querySelectorAll('.seller-name__label.seller-name__value--mp')).some(node => {\n    if(node.innerText===\"Fnac 2nde vie\" ||\n        node.innerText===\"Darty Occasion\" ||\n        node.innerText===\"Darty Occasion DGE\" ||\n        node.innerText===\"Darty Occasion DGO\" ) \n         \n      return true;\n})){return true}","include":true,"domReady":false}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (Array.from(document.querySelectorAll('.seller')).some(node => {\n    if(node.innerText===\"Fnac 2nde vie\" ||\n        node.innerText===\"Darty Occasion\" ||\n        node.innerText===\"Darty Occasion DGE\" ||\n        node.innerText===\"Darty Occasion DGO\" ) \n         \n      return true;\n})){return true;}","include":true,"domReady":false}},"rightChild":{"orOperator":true,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (Array.from(document.querySelectorAll('.mp-label')).some(node => {\n    if(node.innerText===\"Fnac 2nde vie\" ||\n        node.innerText===\"Darty Occasion\" ||\n        node.innerText===\"Darty Occasion DGE\" ||\n        node.innerText===\"Darty Occasion DGO\" ) \n         \n      return true;\n})){ return true;}","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"body.home-page","include":true}}}}}}},{"id":142163,"name":"[FNAC FR] [EC CMD] Hide toggle","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/MyAccount/Order(.*)","include":true}}},{"id":142667,"name":"Segment for CD NEW TEST A BLANC","tree":null},{"id":142938,"name":"kam-Global","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"kameleoonGlobalQA386","value":"true","nameOperator":"CONTAINS","valueOperator":"CONTAINS","include":true}}},{"id":143130,"name":"[FNAC FR] [FA] Hide offres complementaires-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/Console-Sony-PS5-Edition-Standard/a14119956/w-4(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.fnac\\.com/Console-Sony-PS5-Edition-Digital/a14119961/w-4(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://jeux-video\\.fnac\\.com/Manette-PS4-sans-fil-Nacon-Revolution-Unlimited-Pro-Controller-Call-Of-Duty/a15163029/w-4(.*)","include":true}}}}}},{"id":144702,"name":"Segment for Setup Goals Fnac IA","tree":null},{"id":145208,"name":"[FNAC FR] [EC] Modif txt légal-1","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/account/alerting(.*)","include":true}}},{"id":147650,"name":"[FNAC FR] [Search] JBL-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)Search\\=(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)jbl(.*)","include":true}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}}},{"id":148287,"name":"[FNAC FR] [FA] Picto livraison 25E","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/a(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".f-shopBox-MPInfoSeller","include":false}}}},{"id":139997,"name":"[FNAC FR] [Panier] Opé Fnacplus","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/orderpipe/pop/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if((typeof window.tc_vars !== \"undefined\" && window.tc_vars.hasOwnProperty('express_plus')) && (window.tc_vars.express_plus === \"\" || window.tc_vars.express_plus == \"Non\")) return true;","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"TIME_RANGE","disabled":false,"weight":1,"gte":1612767600737,"lt":1614639000738,"include":true}}}},{"id":108741,"name":"Segment for [FNAC FR] [DESKTOP] BANNIÈRE REDIRECTION PAYS","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"TIME_SINCE_PAGE_LOAD","disabled":false,"weight":1,"include":true,"time":3000,"operator":"GREATER","timeUnit":"SECOND","pageURLRegExpToMatch":"(.*)fnac\\.com(.*)","pageURLRegExpNotToMatch":null}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof Kameleoon.API.CurrentVisit.customData[\"Country\"] != \"undefined\" && typeof Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] != \"undefined\")           {\nvar country_user = Kameleoon.API.CurrentVisit.customData[\"Country\"]; \nvar navigator_language = Kameleoon.API.CurrentVisit.customData[\"Navigator language\"];               \nif(  (country_user == \"Belgium\")\n   || (country_user == \"Switzerland\" && ( navigator_language == \"fr\" || navigator_language == \"fr-CH\") ) \n   || ( country_user == \"Spain\" && (navigator_language == \"es\" || navigator_language == \"es-ES\") )\n   || ( country_user == \"Portugal\" && (navigator_language == \"pt\" || navigator_language == \"pt-PT\" ) ) \n  ){ \n        return true; }\n    else{ return undefined; \n        }   }","include":true,"domReady":false}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Portugal","region":null,"city":null,"include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Switzerland","region":null,"city":null,"include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Spain","region":null,"city":null,"include":true}},"rightChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Belgium","region":null,"city":null,"include":true}}}}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"kBandeauCountry","value":null,"nameOperator":"CONTAINS","valueOperator":"OPTIONAL","include":false}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}}}}},{"id":108740,"name":"Mobile - redirection Pays","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"TIME_SINCE_PAGE_LOAD","disabled":false,"weight":1,"include":true,"time":3000,"operator":"GREATER","timeUnit":"SECOND","pageURLRegExpToMatch":"(.*)fnac\\.com(.*)","pageURLRegExpNotToMatch":null}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof Kameleoon.API.CurrentVisit.customData[\"Country\"] != \"undefined\" && typeof Kameleoon.API.CurrentVisit.customData[\"Navigator language\"] != \"undefined\") {\n    var country_user = Kameleoon.API.CurrentVisit.customData[\"Country\"];\n    var navigator_language = Kameleoon.API.CurrentVisit.customData[\"Navigator language\"];\n    if ((country_user == \"Belgium\")\n        || (country_user == \"Switzerland\" && (navigator_language == \"fr\" || navigator_language == \"fr-CH\"))\n        || (country_user == \"Spain\" && (navigator_language == \"es\" || navigator_language == \"es-ES\"))\n        || (country_user == \"Portugal\" && (navigator_language == \"pt\" || navigator_language == \"pt-PT\"))\n    ) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}","include":true,"domReady":false}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Portugal","region":null,"city":null,"include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Switzerland","region":null,"city":null,"include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Spain","region":null,"city":null,"include":true}},"rightChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"country":"Belgium","region":null,"city":null,"include":true}}}}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"kBandeauCountry","value":null,"nameOperator":"CONTAINS","valueOperator":"OPTIONAL","include":false}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}}}},{"id":108742,"name":"Segment for [FNAC FR] Script Highco page conf cmd","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)pop/merci(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"TIME_RANGE","disabled":false,"weight":1,"gte":1606863600906,"lt":1609714800906,"include":true}}}},{"id":110073,"name":"Segment for [FNAC FR] MOBILE VISITOR - NPS","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":4}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":false}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com/(.*)","include":false}}}},{"id":110086,"name":"Segment for [FNAC FR] DESKTOP BUYER - NPS","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof tc_vars !== 'undefined') {\n  if(tc_vars['user_auth'] == 1) {\n    return true;\n  }\n}","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/orderpipe/pop/merci(.*)","include":true}}}},{"id":110094,"name":"Segment for [FNAC FR] MOBILE BUYER - NPS","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(typeof tc_vars !== 'undefined') {\n  if(tc_vars['user_auth'] == 1) {\n    return true;\n  }\n}","include":true,"domReady":true}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/orderpipe/pop/merci(.*)","include":true}}}},{"id":123189,"name":"Segment for [FNAC FR] Popup Razr ESIM","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/a14154237/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(window.location.href.indexOf('https://secure.fnac.com/orderpipe/pop/panier') !== -1 || window.location.href.indexOf('https://www.darty.com/nav/extra/basket_add') !== -1) {\n    var k_eaData = JSON.stringify(window.EA_data)\n    if(k_eaData && k_eaData.indexOf('14154237') !== -1) {\n        return true;\n    } else {\n        return undefined;\n    }\n}","include":true,"domReady":false}}},"rightChild":{"targetingCondition":{"type":"TIME_RANGE","disabled":false,"weight":1,"gte":1581922800658,"lt":1609369200658,"include":true}}}},{"id":124293,"name":"[FNAC FR] Popup Huawei","tree":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"var itemInTarget = undefined;\n    var items = [\n\"15118757\",\n\"15118756\",\n\"15118755\",\n\"14356153\",\n\"15059871\",\n\"14719771\",\n\"14719772\",\n\"14356140\",\n\"14474032\",\n\"14752981\",\n\"14474029\",\n\"14474033\",\n\"14474034\",\n\"14752982\",\n\"14474026\",\n\"14474027\",\n\"14752983\",\n\"14859051\",\n\"14859053\",\n\"14651829\",\n\"15230664\",\n\"15230666\",\n\"14206645\",\n\"14373769\",\n\"14117679\",\n\"14719800\",\n\"14719799\",\n\"14719798\",\n\"14802134\",\n\"14818269\",\n\"14818281\",\n\"14818276\",\n\"14818270\",\n\"14818277\",\n\"14818282\",\n\"14991033\",\n\"14991032\",\n\"15205466\",\n\"15237676\"\n    ];\n    var isInList = function isInList() {\n        if (window.tc_vars.product_id) {\n            items.indexOf(window.tc_vars.product_id) !== -1 ? itemInTarget = true : '';\n        }\n    };\n     function checkTypePage() {\nwindow.dataLayer.filter(item => {\n    for (let property in item[2]) {\n    if (item[2][property] === 'product') isInList();\n    }\n})\n}\n    Kameleoon.API.Core.runWhenConditionTrue(function () {\n        return window.tc_vars &&  window.tc_vars.product_id !== 'undefined' && window.dataLayer;\n    }, function () {\n        checkTypePage();\n    });\nreturn itemInTarget","include":true,"domReady":false}}},{"id":110064,"name":"Segment for [FNAC FR] Desktop Visitor - NPS","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":3}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)secure\\.fnac\\.com/(.*)","include":false}}}},{"id":131122,"name":"[FNAC FR] Popup Honor","tree":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/a14848231/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/a14848232/(.*)","include":true}}}},{"id":115738,"name":"[FNAC FR] Account Member V2","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)fnac\\.com(.*)","include":true}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/MyAccount/MemberShip/MemberShipHistory(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/account/dashboard(.*)","include":true}}}},"rightChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"UserIsFnacOneMember","include":true}}}},{"id":140707,"name":"[FNAC] Fnac+ add to basket avec Info.","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":false}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":".f-shopBox-MPInfoSellerItem.f-shopBox-MPInfoSellerTitle","include":false}},"rightChild":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"a:contains(\"Informatique\")","include":true}}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if((typeof window.tc_vars !== \"undefined\" && window.tc_vars.user_segment_type) && (window.tc_vars.user_segment_type === \"\" || window.tc_vars.user_segment_type === \"0\")) return true;","include":true,"domReady":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if((typeof window.tc_vars !== \"undefined\" && window.tc_vars.hasOwnProperty('express_plus')) && (window.tc_vars.express_plus === \"\" || window.tc_vars.express_plus == \"Non\")) return true;","include":true,"domReady":false}}},"rightChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/pop/panier(.*)","include":false}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)fnac\\.com/Contact(.*)","include":false}}}}}},{"id":148052,"name":"[FNAC IA P] Push Fnac + Add to basket","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://secure\\.fnac\\.com/orderpipe/pop/panier(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"ExpressPlusNotOui","include":true}}},"rightChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"SellerFnacInBasket","include":true}}},"rightChild":{"targetingCondition":{"type":"HEAT_SLICE","disabled":false,"weight":1,"keymoment":138430,"goal":150645,"computationIsDone":"TRUE","include":true,"start":16,"end":20}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (typeof window.predictif != \"undefined\"){\n    if(window.predictif == \"P\"){\n        return true;\n    }else{\n        return false;\n    }\n}\nreturn undefined;","include":true,"domReady":false}}}},{"id":44710,"name":"bo.buyer.personas.segment.dissatisfied.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":120000,"timeUnit":"SECOND","operator":"LOWER"}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"LOWER","include":true,"value":4}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEO","include":true}},"rightChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEM","include":true}}},"rightChild":{"targetingCondition":{"type":"MOUSE_OUT","disabled":false,"weight":1,"include":true}}}}},{"id":44711,"name":"bo.buyer.personas.segment.snooper.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"ACTIVE_SESSION","disabled":false,"weight":1,"include":true,"time":900000,"timeUnit":"SECOND","operator":"GREATER"}},"rightChild":{"targetingCondition":{"type":"PAGE_VIEWS","disabled":false,"weight":1,"operator":"GREATER","include":true,"value":8}}},"rightChild":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEO","include":true}},"rightChild":{"targetingCondition":{"type":"ORIGIN_TYPE","disabled":false,"weight":1,"value":"SEM","include":true}}}}},{"id":44712,"name":"bo.buyer.personas.segment.revenant.name","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"NEW_VISITORS","disabled":false,"weight":1,"value":"RETURNING","include":true}},"rightChild":{"targetingCondition":{"type":"BROWSER","disabled":false,"weight":1,"value":"IE","version":null,"operator":"EQUAL","include":true}}}},{"id":138430,"name":"KM - Page Panier","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25(.*)","include":false}},"trackMentalistPrediction":true,"mentalist":true},{"id":146179,"name":"KM - Homepage","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25$","include":false}},"trackMentalistPrediction":true,"mentalist":true}],"targetingSegmentIdToGoalIdsToKcs":{"138430":{"150645":{"16":0.5001,"20":1}}},"abtestConsent":"REQUIRED","abtestConsentOptout":"RUN","beforeAbtestConsent":"ALL","personalizationConsent":"REQUIRED","personalizationConsentOptout":"RUN","beforePersonalizationConsent":"ALL","scriptProduceTime":1614379728697}};
Kameleoon.Internals.configuration.Gatherer = "eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZW5hYmxlSW1hZ2VzRGV0ZWN0aW9uQ2FjaGVUaW1lb3V0Q29tcHV0YXRpb24iOmZhbHNlLCJkaXJlY3ROb25lUmVmZXJyZXJPbmx5Rmlyc3QiOmZhbHNlLCJjdXN0b21TY3JpcHRCZWZvcmUiOiJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignS2FtZWxlb29uOjpHbG9iYWxzY3JpcHQnLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnS0FNRUxFT09OIExPQURFRCcpO1xyXG59LCBmYWxzZSk7XHJcblxyXG5LYW1lbGVvb24uQVBJLkNvcmUucnVuV2hlbkNvbmRpdGlvblRydWUoZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiBLYW1lbGVvb24uSW50ZXJuYWxzLnJ1bnRpbWUuZ2F0aGVyZXJSdW4gJiYgd2luZG93Lk9uZXRydXN0QWN0aXZlR3JvdXBzICYmIE9uZXRydXN0QWN0aXZlR3JvdXBzLm1hdGNoKC9DMDAwMS8pO30sIGZ1bmN0aW9uKCkge1xyXG4gICAgS2FtZWxlb29uLkFQSS5Db3JlLmVuYWJsZUxlZ2FsQ29uc2VudChcIkJPVEhcIik7XHJcbn0pOyIsImludGVyZXN0cyI6e30sImludGVyZXN0c0ltYWdlc0xpc3RzIjpbXSwiaW50ZXJlc3RzSW1hZ2VzTGlzdHNGaWxlVXJsIjpudWxsLCJicm93c2VycyI6eyIyIjp7Im5hbWUiOiJGSVJFRk9YIn0sIjQiOnsibmFtZSI6Ik9QRVJBIn0sIjEiOnsibmFtZSI6IkVYUExPUkVSIn0sIjMiOnsibmFtZSI6IlNBRkFSSSJ9LCIwIjp7Im5hbWUiOiJDSFJPTUUifX0sIm9zcyI6eyIwIjp7Im5hbWUiOiJXSU5ET1dTIn0sIjMiOnsibmFtZSI6IkxJTlVYIn0sIjUiOnsibmFtZSI6IldJTkRPV1MgUEhPTkUifSwiMiI6eyJuYW1lIjoiSU9TIn0sIjQiOnsibmFtZSI6IkFORFJPSUQifSwiMSI6eyJuYW1lIjoiTUFDIn19LCJub1JlZmVycmVyUGFnZXMiOltdLCJyZWZlcnJlcnMiOnsiMiI6eyJuYW1lIjoiQmluZyBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmluZ1xcLlteL1xcLl0rLy4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn1dfSwiMCI6eyJuYW1lIjoiR29vZ2xlIEFkV29yZHMiLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3siYW5kTWV0aG9kIjoiIiwibWV0aG9kIjoiUkVGRVJSRVJfUkVHRVgiLCJhbmQiOmZhbHNlLCJhbmRQYXJhbWV0ZXJzIjoiIiwicGFyYW1ldGVycyI6Il4uK1xcLmdvb2dsZShcXC5jb20/KT9cXC5bXi9cXC5dKy9hY2xrKFtcXD8mI10uKnwpJCJ9LHsiYW5kTWV0aG9kIjoiIiwibWV0aG9kIjoiVVJMX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJbXFw/JiNdZ2NsaWQ9In1dfSwiMSI6eyJuYW1lIjoiR29vZ2xlIE9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvKD8hYWNsa3xpbWdyZXMpLipbXFw/JiNdcT0uKihbXFw/JiNdLip8KSQifSx7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvPyQifV19LCIzIjp7Im5hbWUiOiJZYWhvbyBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwueWFob29cXC5bXi9cXC5dKy8uKltcXD8mI11wPS4qKFtcXD8mI10uKnwpJCJ9XX0sIjQiOnsibmFtZSI6IkJhaWR1IE9yZ2FuaWMgU2VhcmNoIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5iYWlkdVxcLlteL1xcLl0rLy4qW1xcPyYjXXdkPS4qKFtcXD8mI10uKnwpJCJ9XX19LCJrZXlQYWdlcyI6e30sImtleVdvcmRzIjp7fSwiY3VzdG9tRGF0YSI6eyIxMyI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJFeHByZXNzIHBsdXMiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoiZXhwcmVzc19wbHVzIn0sIjI3Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJJQV91c2VyX3NlZ21lbnQiLCJudW1iZXJWYWx1ZXMiOjAsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJVTklRVUUiLCJsZWFybmFibGUiOnRydWV9LCI0Ijp7Im1ldGhvZCI6IlRDIiwibmFtZSI6IkF1dGhlbnRpZmljYXRpb24iLCJudW1iZXJWYWx1ZXMiOjEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoidXNlcl9hdXRoIn0sIjE3Ijp7Im1ldGhvZCI6IlRDIiwibmFtZSI6IkNvdXQgZnJhaXMgZGUgcG9ydCIsIm51bWJlclZhbHVlcyI6MCwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6Im9yZGVyX3NoaXBfYXRpIn0sIjUiOnsibWV0aG9kIjoiQ1VTVE9NX0NPREUiLCJuYW1lIjoiQ291bnRyeSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJVTklRVUUiLCJjdXN0b21FdmFsQ29kZSI6ImlmKEthbWVsZW9vbi5BUEkuQ3VycmVudFZpc2l0Lmdlb2xvY2F0aW9uICYmIHR5cGVvZiBLYW1lbGVvb24uQVBJLkN1cnJlbnRWaXNpdC5nZW9sb2NhdGlvbi5jb3VudHJ5ICE9IFwidW5kZWZpbmVkXCIgJiYgS2FtZWxlb29uLkFQSS5DdXJyZW50VmlzaXQuZ2VvbG9jYXRpb24uY291bnRyeSAhPSBudWxsKXtcbiAgICByZXR1cm4ge1widmFsdWVcIjogS2FtZWxlb29uLkFQSS5DdXJyZW50VmlzaXQuZ2VvbG9jYXRpb24uY291bnRyeSwgXCJvdmVyd3JpdGVcIjogdHJ1ZX07XG59IGVsc2Uge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufSJ9LCIxNCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiQWNjZXMgUGFnZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiQ09VTlRfTElTVCJ9LCIxIjp7Im1ldGhvZCI6IkNVU1RPTV9DT0RFIiwibmFtZSI6IklEIFByb2R1aXRzIGFjaGV0w6lzIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUiLCJjdXN0b21FdmFsQ29kZSI6ImlmICh0eXBlb2YgdGNfdmFycyAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB0Y192YXJzLm9yZGVyX3Byb2R1Y3QgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgdGNfdmFycy5vcmRlcl9wcm9kdWN0c1swXSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB0Y192YXJzLm9yZGVyX3Byb2R1Y3RzWzBdWzBdICE9IFwidW5kZWZpbmVkXCIpe1xuXHR2YXIga19pZHNfbGlzdCA9IFwiXCI7XG4gIFxuXHR0Y192YXJzLm9yZGVyX3Byb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpe1xuXHRcdGlmIChrX2lkc19saXN0ID09IFwiXCIpe1xuXHRcdFx0a19pZHNfbGlzdCA9IGVsZW1lbnRbMF07XG4gICAgICAgIH1cblx0XHRlbHNle1xuXHRcdFx0a19pZHNfbGlzdCA9IGtfaWRzX2xpc3QrXCItXCIrZWxlbWVudFswXTtcbiAgICAgICAgfVxuXHR9KTtcblx0XG4gIHJldHVybiB7XCJ2YWx1ZVwiOiBrX2lkc19saXN0LCBcIm92ZXJ3cml0ZVwiOiB0cnVlfTtcbn1lbHNle1xuICByZXR1cm4gbnVsbDtcbn0ifSwiMTkiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InN0YXR1c19zdWJzY3JpcHRpb24iLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCIyMCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoic3Vic2NyaXB0aW9uX3R5cGUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCIxMCI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJUZW1wbGF0ZSB0eXBlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJWSVNJVE9SIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InRlbXBsYXRlX3R5cGUifSwiMyI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiaXNEZWZpVXNlciIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVQiLCJ0eXBlIjoiVU5JUVVFIn0sIjI2Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJJQSBzdGF0dXNfbWVtYmVyc2hpcCIsIm51bWJlclZhbHVlcyI6MCwic2NvcGUiOiJWSVNJVE9SIiwidHlwZSI6IlVOSVFVRSIsImxlYXJuYWJsZSI6dHJ1ZX0sIjE2Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJQYWdlIE5hbWUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IkNPVU5UX0xJU1QiLCJsb2NhbE9ubHkiOnRydWV9LCIyNSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiSUEgYmFza2V0X2Ftb3VudCIsIm51bWJlclZhbHVlcyI6MCwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUiLCJsZWFybmFibGUiOnRydWV9LCIxMSI6eyJtZXRob2QiOiJDVVNUT01fQ09ERSIsIm5hbWUiOiJpc01vYmlsZUFwcGxpY2F0aW9uIiwibnVtYmVyVmFsdWVzIjotMiwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUiLCJjdXN0b21FdmFsQ29kZSI6ImlmICggdHlwZW9mIHdpbmRvdy5pc01vYmlsZUFwcGxpY2F0aW9uICE9IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmlzTW9iaWxlQXBwbGljYXRpb24gIT0gXCJ1bmRlZmluZWRcIil7XG4gICAgIHJldHVybiBpc01vYmlsZUFwcGxpY2F0aW9uID09IHRydWUgPyB0cnVlIDogdW5kZWZpbmVkO30ifSwiNyI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJQcml4IiwibnVtYmVyVmFsdWVzIjowLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoicHJvZHVjdF9kaXNjb3VudF9hdGkifSwiMjIiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6Im5vbWJyZSBkZSBwcm9kdWl0IGRhbnMgbGUgcGFuaWVyIiwibnVtYmVyVmFsdWVzIjowLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI2Ijp7Im1ldGhvZCI6IkNVU1RPTV9DT0RFIiwibmFtZSI6Ik5hdmlnYXRvciBsYW5ndWFnZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJVTklRVUUiLCJjdXN0b21FdmFsQ29kZSI6ImlmKHR5cGVvZiBuYXZpZ2F0b3IubGFuZ3VhZ2UgIT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2UgIT0gbnVsbCl7XG4gICAgcmV0dXJuIHtcInZhbHVlXCI6IG5hdmlnYXRvci5sYW5ndWFnZSwgXCJvdmVyd3JpdGVcIjogdHJ1ZX07XG59IGVsc2Uge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufSJ9LCIyIjp7Im1ldGhvZCI6IlRDIiwibmFtZSI6IlVESUQiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSIsInZhcmlhYmxlTmFtZSI6InVzZXJfaWQifSwiOCI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJOb20gcHJvZHVpdCIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJVTklRVUUiLCJ2YXJpYWJsZU5hbWUiOiJwcm9kdWN0X25hbWUifSwiOSI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJDYXTDqWdvcmllIHByb2R1aXQiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoiYXJib19uaXYxIn0sIjE1Ijp7Im1ldGhvZCI6IlRDIiwibmFtZSI6InVzZXJfaWQiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIiwidmFyaWFibGVOYW1lIjoidXNlcl9pZCJ9LCIxMiI6eyJtZXRob2QiOiJUQyIsIm5hbWUiOiJBZGhlcmVudCIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJVTklRVUUiLCJ2YXJpYWJsZU5hbWUiOiJ1c2VyX3NlZ21lbnQifX19";
Kameleoon.Internals.configuration.MentalistFeatures = {"keyWords":[],"code":"jyw477ez1e","languages":[],"inputGoalIds":[150645,225387,225388,225389,225390,225391,225392,225393,225394,225395,225396],"keyPages":[],"experiments":{},"customData":[25,26,27],"browsers":[0,1,2,3,4],"oss":[0,1,2,3,4,5],"numberValuesByCustomDatum":{"25":0,"26":0,"27":0},"maxNumberPreviousVisits":10,"referrers":[0,1,2,3,4,5],"maxAbsoluteValueAfterStandardization":5,"outputGoalIds":[150645,225387,225388,225389,225390,225391,225392,225393,225394,225395,225396],"interests":[],"targetingSegments":{"138430":{"inputGoalIds":[150645],"outputGoalIds":[150645]},"146179":{"inputGoalIds":[225387,225388,225389,225390,225391,225392,225393,225394,225395,225396],"outputGoalIds":[225387,225388,225389,225390,225391,225392,225393,225394,225395,225396]}},"timeZoneGroups":[]}; Kameleoon.Internals.configuration.MentalistLearner = {"version":20181211,"experiments":{},"targetingSegments":{"138430":{"probabilityLearner":{"inputDimension":162,"outputDimension":1,"standarizeInputs":true,"beforeMean":[0.03034,0.2188,0.3891,0.00068,0.000034,0.000008712,0,0.01951,0.178,0.312,0.0004372,0.00001714,0.000004434,0,0.01454,0.1473,0.2579,0.0003048,0.000009396,0.00000288,0,0.1164,1.307,2.282,0.002415,0.00007929,0.00002223,0,3.29,353500000,293600000,3.823,509700000,350300000,0.6851,0.6217,0.58,14.2,14.2,217400000,300200000,0,0.001037,0.1778,0,0,0,0,0,0,0,6.938e-9,9.812e-9,6.745,3.647,293,0.4544,62.36,2.021,1015,0.5695,3.951,0.2462,55.63,4.028,4.029,0.001663,1.287,0.07182,1.235,0.005125,1268,0.003817,0.2389,0.4291,0.0009642,0.0000267,0.00000807,0,0.000786,0.0007542,0.0008604,0.000001511,7.129e-8,1.426e-8,0,0.00003188,0.00001738,0.000009011,1.426e-8,0,0,0,0.004648,0.2397,0.43,0.0009658,0.00002678,0.000008084,0,0.6078,525.3,8.104,0.9918,0.01809,0.0006473,1.011,1.011,3006,84.46,0,0,0,0,0,0,0,0,0,2.76,0,0,0,0,0,4.025,1.298,1.242,0.000006445,0.001429,997200000,9.807,1,0.004761,0.2406,0.4319,0.001083,0.00002722,0.000008155,0.3894,1,1,0.5321,0.002652,0.08273,0.3171,0.006295,0.05911,59.69,0.6257,0.2636,0.09252,0.2706,0.006876,0.3536,0.00004993,0.0129,822.5,704.9,837.2,846.7,0.01593],"beforeDeviation":[0.1715,0.4134,0.4875,0.02607,0.005831,0.002952,0,0.1383,0.3825,0.4633,0.0209,0.00414,0.002106,0,0.1197,0.3544,0.4375,0.01746,0.003065,0.001697,0,0.5207,2.697,3.871,0.1269,0.01652,0.009368,0,4.86,903800000,647100000,3.951,1106000000,676500000,0.4645,0.485,0.4936,20.59,20.59,665100000,580400000,0,0.04233,16.15,0,0,0,0,0,0,0,0.00004809,0.00006801,10.14,7.316,4.281,1.14,17.34,5,5.569,1.58,2.104,0.6265,34.31,10.33,0.1667,0.02867,0.6293,0.2351,0.4211,0.04723,30250,0.06167,0.4264,0.4949,0.03104,0.005168,0.002841,0,0.02803,0.02745,0.02932,0.001229,0.000267,0.0001194,0,0.005646,0.004169,0.003002,0.0001194,0,0,0,0.07073,0.4284,0.4967,0.03111,0.005186,0.002848,0,0.4932,23720,2063,0.09038,0.1333,0.02543,0.1709,0.1709,55730,6483,0,0,0,0,0,0,0,0,0,4.895,0,0,0,0,0,0.1593,0.6824,0.4281,0.002544,1.221,2638000000,35.92,2.326e-13,0.06883,0.4275,0.4953,0.03289,0.005217,0.002856,0.4876,2.326e-13,2.326e-13,0.499,0.05143,0.2755,0.4653,0.07909,0.2358,35.04,0.4839,0.4406,0.2898,0.4442,0.08264,0.4781,0.007066,0.1128,583.9,159.7,613.9,162.6,0.1252],"trainingOutputVectorTargetNbUpdates":70136822,"trainingOutputVectorTargetMean":[0.0001982],"weights":[[0.05912,0.04494,0.08081,0.1047,0.009843,0.106,0.06292,-0.004277,0.05559,-0.03205,0.0241,-0.04354,-0.1839,-0.0326,-0.1,0.05557,0.07884,-0.08336,-0.1388,0.03267,-0.02896,-0.04683,-0.06226,-0.02075,-0.1422,0.06985,-0.01915,-0.1781,0.04247,-0.04015,-0.04869,-0.1356,0.1191,0.001882,-0.04727,0.07825,0.06542,0.03431,-0.007134,-0.2592,-0.0748,0.0227,0.4857,-0.02949,0.1545,0.1878,0.1565,0.1028,-0.108,0.09451,0.04155,-0.04876,-0.1523,0.125,0.04826,-0.06165,-0.1431,-0.002965,0.1009,0.01853,-0.08669,0.1463,0.0339,-0.01808,0.08084,-0.0104,-0.003134,0.2265,-0.01187,0.2151,0.0254,-0.00121,0.2041,0.132,0.1746,0.1897,0.1214,0.08668,-0.04189,0.188,0.05215,0.08066,0.02523,0.1142,0.1821,-0.09036,0.1089,0.173,-0.106,-0.08774,0.02638,0.1259,0.168,-0.003405,-0.001297,0.1332,-0.117,0.06731,0.2039,-0.1096,-0.6799,-0.08364,0.1373,0.1041,-0.01123,0.06199,0.1808,-0.0428,-0.08714,0.03168,-0.07535,0.00411,-0.08733,0.1707,0.03336,0.1908,-0.00258,0.168,0.002908,0.1543,0.04118,-0.1142,-0.0868,0.1516,0.02748,0.06347,-0.02282,0.0424,0.1832,0.2515,0.02359,-0.02061,0.05616,0.2604,0.2192,0.2756,0.1159,0.1364,0.1609,0.5023,0.1022,0.1173,-0.02397,0.188,0.04392,0.2203,-0.07131,0.02809,0.2053,0.1121,0.33,0.2954,-0.116,-0.0314,-0.03586,-0.04181,-0.2491,0.03844,0.05063,0.06532,-0.05585,-0.8124]],"bias":[-9.063]},"visitHistoryVectorDimension":59,"previousVisitsHistoryVectorDimension":71},"146179":{"probabilityLearner":{"inputDimension":198,"outputDimension":10,"standarizeInputs":true,"beforeMean":[0.03021,0.2187,0.3892,0.0006802,0.00003406,0.000008685,0,0.01946,0.1779,0.3121,0.0004373,0.00001716,0.000004421,0,0.01451,0.1472,0.258,0.000305,0.000009401,0.000002862,0,0.1161,1.307,2.283,0.002412,0.00007943,0.00002214,0,3.291,353800000,293900000,3.817,509900000,350400000,0.6844,0.6209,0.5793,14.2,14.2,217400000,300200000,0,0.01342,0.002683,0.001525,0.0002501,0.001957,0.001513,0.0004808,0.002141,0.0009258,0.003076,0.376,0.101,0.3294,0.08702,0.1793,0.07774,0.05748,0.1123,0.3863,0.9216,0,0,0,0,0,0,0,6.971e-9,9.858e-9,6.745,3.65,293,0.4541,62.37,2.02,1015,0.5693,3.951,0.2461,55.64,4.026,4.029,0.001665,1.287,0.07192,1.235,0.005107,1306,0.003806,0.2394,0.4303,0.0009726,0.00002681,0.000008085,0,0.0007873,0.0007864,0.0009001,0.000001517,7.154e-8,1.431e-8,0,0.00003225,0.00001955,0.0000118,1.431e-8,0,0,0,0.004638,0.2402,0.4312,0.0009742,0.00002689,0.000008099,0,0.6093,539,9.085,0.9929,0.01863,0.0007185,1.012,1.012,3063,92.93,0,0,0,0,0,0,0,0,0,2.768,0,0,0,0,0,4.026,1.298,1.243,0.00002716,0.000003606,0.000003634,6.153e-7,0.000002518,0.000002447,0.00000103,0.000003177,0.000001989,0.000005995,0.0007532,0.0001278,0.0008934,0.0002092,0.0001972,0.00009711,0.0001343,0.0001208,0.000692,0.001727,998900000,9.797,1,0.00475,0.2408,0.4326,0.001084,0.00002724,0.00000817,0.3886,1,1,0.5327,0.002651,0.08279,0.3168,0.006303,0.05875,59.74,0.6251,0.264,0.09257,0.2703,0.006885,0.3533,0.00004995,0.01291,823.2,705,837.8,846.7,0.01595],"beforeDeviation":[0.1712,0.4134,0.4876,0.02607,0.005836,0.002947,0,0.1381,0.3824,0.4633,0.02091,0.004142,0.002103,0,0.1196,0.3543,0.4375,0.01746,0.003066,0.001692,0,0.5196,2.696,3.872,0.1266,0.01654,0.009342,0,4.861,904200000,647400000,3.95,1106000000,676600000,0.4647,0.4852,0.4937,20.6,20.6,665400000,580500000,0,0.1586,0.06789,0.04729,0.01882,0.05543,0.0475,0.02608,0.0614,0.04258,0.06881,6.429,6.277,25.57,27.22,28.82,45.9,6.063,36.84,33.11,67.3,0,0,0,0,0,0,0,0.0000482,0.00006817,10.15,7.322,4.28,1.139,17.34,4.999,5.569,1.58,2.103,0.6263,34.32,10.33,0.1667,0.02869,0.6294,0.2353,0.4215,0.04715,30690,0.06157,0.4267,0.4951,0.03117,0.005178,0.002843,0,0.02805,0.02803,0.02999,0.001232,0.0002675,0.0001196,0,0.005679,0.004421,0.003436,0.0001196,0,0,0,0.07067,0.4289,0.4969,0.03124,0.005196,0.002851,0,0.493,23980,2170,0.0841,0.1352,0.0268,0.1731,0.1731,56140,6787,0,0,0,0,0,0,0,0,0,4.911,0,0,0,0,0,0.1603,0.6836,0.429,0.005225,0.001899,0.001914,0.0007844,0.001587,0.001564,0.001015,0.001782,0.00141,0.002449,0.2054,0.09322,1.02,0.4533,0.2252,0.09211,0.2674,0.09187,1.005,1.587,2641000000,35.91,2.306e-13,0.06876,0.4276,0.4954,0.03291,0.00522,0.002858,0.4874,2.306e-13,2.306e-13,0.4989,0.05142,0.2756,0.4652,0.07914,0.2352,35.03,0.4841,0.4408,0.2898,0.4441,0.08269,0.478,0.007068,0.1129,584.2,159.6,614.2,162.6,0.1253],"trainingOutputVectorTargetNbUpdates":69886811,"trainingOutputVectorTargetMean":[0.005528,0.0007647,0.0006282,0.00009448,0.0005205,0.0004855,0.0001744,0.0005812,0.0003133,0.001142],"weights":[[-0.01324,-0.007972,0.0349,0.06627,-0.1328,-0.1107,-0.1034,-0.06089,-0.06513,-0.01932,0.0171,0.04605,-0.1461,0.06406,-0.03467,-0.00002942,0.02684,-0.032,-0.009226,0.01313,-0.03029,0.06487,-0.05833,-0.03592,-0.002548,-0.0335,-0.1314,-0.05107,0.237,-0.005464,-0.03099,-0.3337,0.2065,0.1653,0.01306,0.1174,0.1931,0.148,0.0303,-0.2353,-0.1596,-0.1137,0.3258,0.05848,0.02235,0.002365,-0.01078,0.004374,0.00212,-0.001216,-0.05861,-0.03699,0.08207,-0.01717,-0.04097,-0.04334,-0.1168,-0.1021,0.07631,-0.06218,-0.07577,-0.1342,0.1452,-0.128,0.1088,-0.03536,0.008118,-0.06041,-0.1167,-0.07987,0.1319,0.05003,-0.04441,-0.01597,-0.05312,-0.006973,-0.1238,-0.02443,-0.02494,-0.0457,0.01336,-0.01166,-0.04229,-0.1754,0.04253,0.1198,-0.02873,0.1997,0.04245,0.08117,0.2286,-0.0395,0.1906,-0.08732,0.01111,0.0777,0.09098,0.1004,-0.09104,-0.07313,-0.06978,-0.02535,0.115,0.1391,-0.1613,0.1376,0.1619,0.04959,-0.007218,-0.005965,-0.1499,-0.1139,-0.02983,-0.07286,0.119,-0.08543,0.05741,-0.0166,-0.3755,-0.1241,0.1233,-0.1326,-0.006763,-0.02308,0.17,0.04085,-0.04537,-0.09013,0.0009765,0.08983,0.133,-0.1677,0.164,0.07408,-0.08129,-0.1572,-0.06111,0.07443,-0.04297,-0.07458,-0.1594,0.1197,0.03865,-0.1363,-0.1686,0.1411,-0.01216,-0.1684,0.05288,0.1054,-0.1235,-0.03571,-0.1481,-0.1295,-0.06446,-0.03794,-0.06228,-0.02889,-0.1309,-0.06891,-0.1301,-0.07521,0.1465,-0.09043,-0.05031,-0.1286,0.03324,-0.3581,-0.07752,0.3404,0.3448,0.4628,0.2236,-0.06863,0.01942,0.3992,0.02836,0.007994,-0.02416,-0.1975,0.1041,0.1949,0.0001352,0.4482,1.195,-0.0612,0.8575,0.6284,-1.243,0.3693,-0.1561,0.1047,0.2441,0.2352,-0.09994,0.1214,-0.1608,-1.108],[0.1164,-0.08394,-0.02401,0.09959,0.0826,-0.08471,0.004834,-0.006083,-0.03415,0.04225,-0.01997,-0.09401,-0.09677,0.06609,-0.006561,-0.08338,0.007392,-0.0279,-0.1528,0.06202,-0.07932,-0.04643,-0.005006,-0.1092,-0.09013,0.05328,0.112,-0.01593,0.09811,-0.01633,-0.03261,-0.2381,0.2593,0.07845,0.008957,0.1846,0.2654,0.1862,0.03953,-0.3047,-0.07308,0.06114,0.07089,0.3075,-0.05095,-0.05184,-0.003023,-0.07059,-0.09101,0.1107,0.00001037,0.01246,0.09941,0.1684,-0.1392,-0.1001,-0.06797,-0.09558,-0.02802,-0.07883,-0.04038,-0.1609,-0.08774,0.1458,0.09274,-0.007193,-0.1685,-0.1115,0.1273,-0.1546,-0.1596,-0.006603,-0.138,0.1411,-0.01,0.01693,0.04317,-0.08429,0.0779,-0.05763,-0.01002,0.03936,-0.01134,-0.3003,0.06619,0.16,-0.1128,0.149,0.05404,-0.003729,0.2357,0.2009,0.2016,0.2174,-0.01695,0.08105,0.0541,0.1366,0.09212,0.05088,0.04626,-0.07653,0.06499,0.004233,0.1305,0.131,0.1511,-0.03106,0.09768,0.01078,-0.1653,0.01069,-0.0533,0.0654,-0.01824,0.09915,-0.02514,-0.1566,-0.3975,-0.1398,0.136,-0.16,-0.05801,0.0009109,0.2431,0.09221,-0.06157,0.02737,-0.1463,0.05576,-0.06716,0.04637,0.04372,-0.03003,0.1385,-0.1495,0.0341,0.0506,0.009624,-0.1653,-0.02963,-0.1634,-0.1242,0.009819,-0.1667,0.07854,-0.1578,0.08224,0.02883,-0.1385,-0.1317,0.07991,-0.1716,0.05127,0.121,-0.06528,-0.08696,0.04876,0.09191,-0.109,0.1183,-0.02946,-0.06167,0.06359,-0.1229,-0.1245,-0.04794,-0.05538,-0.1241,0.1052,0.2631,0.3822,0.1636,0.009818,-0.0388,0.4324,-0.006912,0.2001,0.03782,0.05107,0.1255,0.006725,0.002756,0.3816,0.9387,-0.6241,0.6379,0.506,-0.6477,0.3198,-0.1189,0.1099,0.1599,0.174,-0.1545,0.1335,-0.1825,-0.6802],[-0.03895,0.0507,0.02277,-0.04982,-0.1269,-0.1052,-0.1187,-0.05618,0.01713,-0.0593,0.004681,-0.05717,0.0355,0.1533,0.04095,-0.03302,0.007271,-0.1867,0.08479,0.1294,-0.1122,0.05315,-0.02032,0.02031,-0.0007593,0.1105,0.06262,-0.07293,0.01239,0.02382,-0.05985,-0.3782,-0.03607,0.0448,0.0293,0.1152,0.1084,-0.02609,0.1888,-0.1439,-0.02138,-0.1587,-0.01805,-0.01317,0.5398,0.1286,-0.05289,0.01236,0.1113,-0.07598,0.01825,0.04859,-0.1228,-0.1446,0.009527,-0.01478,-0.1582,0.03536,0.02373,-0.1908,-0.08463,-0.01034,-0.00216,-0.1629,0.07426,0.08369,-0.01198,0.04773,0.04659,-0.0495,0.1154,0.07625,0.04769,0.03534,0.1124,0.09064,0.01598,-0.1086,0.07547,0.05298,-0.0838,0.07649,0.05592,-0.1248,-0.03178,-0.04218,0.04738,0.05278,-0.01528,0.1803,0.1105,0.1847,0.05401,0.1095,0.1062,-0.09817,-0.08229,0.04468,0.02059,-0.04775,0.1409,0.0829,0.1409,-0.1416,0.07302,-0.007461,0.08242,0.07178,0.0006079,0.1027,0.1174,-0.08961,-0.1131,-0.01114,0.03283,-0.1411,0.05944,0.04187,-0.3042,-0.1143,0.06719,-0.1208,0.003242,-0.02085,0.288,0.1345,0.0005202,-0.02536,0.1315,0.02799,0.07673,-0.09832,0.004672,-0.1585,0.00794,0.03086,0.1314,0.06804,0.06316,0.02236,0.006341,-0.1571,0.02517,-0.129,-0.2086,0.09563,-0.1211,-0.1067,0.1465,0.1388,-0.1344,-0.1194,0.05459,-0.03965,-0.1155,0.01633,0.01483,-0.08034,0.06305,-0.07655,-0.1104,0.0815,-0.1065,-0.03018,0.0671,0.01188,0.01165,-0.4369,0.0363,-0.0678,0.2881,0.1798,-0.03342,0.01748,0.1527,0.09092,0.08894,0.164,0.1305,-0.05172,0.1468,-0.07698,0.1085,0.3465,0.9278,-0.4746,0.7264,0.4164,-0.5325,0.2643,-0.002721,-0.0743,0.2076,0.3043,-0.153,0.1582,-0.3144,-0.5893],[0.06426,0.06337,-0.01263,-0.1076,-0.1228,-0.0004403,0.05335,0.02656,-0.01939,-0.03423,0.06866,-0.01468,-0.1442,-0.04398,0.005386,0.0533,-0.01575,-0.1067,0.01626,-0.03617,-0.1541,0.09368,-0.06225,0.02157,0.06085,-0.06085,0.01864,-0.09546,0.007154,0.02267,0.01326,-0.3964,0.08941,0.003755,0.05463,0.112,0.08012,-0.03146,0.09436,-0.1625,-0.09082,-0.03939,0.02493,0.0827,0.1232,0.5965,-0.08601,-0.05541,0.002166,-0.101,0.1562,0.0739,-0.014,-0.1003,-0.005388,0.06144,-0.03458,0.1067,0.1577,-0.05943,-0.03519,-0.02442,0.07425,-0.03897,0.04352,0.04428,-0.1326,-0.02066,-0.1688,-0.1181,0.09775,0.01901,-0.03425,-0.1053,0.1367,-0.02378,-0.007287,-0.01801,0.04387,0.03118,-0.04179,-0.01007,0.01768,-0.0313,-0.02964,0.03048,0.03322,0.07426,-0.026,0.0224,0.1474,0.1995,0.1041,0.0542,0.1237,-0.04502,-0.05306,-0.00801,-0.05517,0.03022,-0.09922,-0.1061,-0.1107,-0.1498,-0.04776,0.05763,0.07906,-0.1531,-0.108,0.06048,-0.1645,0.02899,0.05912,0.02369,-0.02387,0.1603,0.03521,0.122,-0.2671,-0.01428,0.1642,-0.2105,-0.01807,0.08549,0.1703,0.01069,0.05396,-0.04908,0.03604,-0.1577,0.02791,-0.06893,-0.08769,-0.0004561,-0.09921,-0.01086,0.1344,0.0676,0.06108,-0.04125,0.05879,0.07684,-0.01967,0.003955,-0.2637,0.1574,-0.04774,0.02379,0.1483,-0.03891,0.03721,-0.133,-0.007076,0.04799,-0.1197,0.1263,-0.07002,0.1062,-0.05837,-0.08319,-0.123,0.03654,-0.1126,0.03288,0.1552,0.0501,-0.07278,-0.2876,0.0459,0.06596,0.1544,0.0929,0.1506,-0.1036,0.05566,0.1228,0.1234,0.0266,0.5001,0.08791,0.4075,-0.1636,0.1205,0.1651,0.6451,-0.3584,0.5423,0.4112,-0.1308,0.211,-0.4747,0.1006,0.1261,0.1694,-0.138,0.2426,-0.2266,-0.3242],[0.05974,0.1136,0.02684,0.003517,-0.09252,-0.1033,-0.01626,-0.1004,-0.08415,0.01601,-0.1351,-0.1416,0.09015,-0.05969,-0.01155,-0.04894,-0.009462,-0.002127,-0.04048,-0.0986,0.1368,0.03761,-0.09896,-0.1263,-0.1386,-0.08575,-0.06232,-0.1034,-0.0618,0.0296,-0.07281,-0.1286,0.05979,-0.004016,0.04026,0.05491,0.1807,0.1022,0.1902,-0.2689,-0.03208,-0.1159,-0.008117,-0.02091,-0.04236,-0.04557,0.3593,0.05372,-0.08399,0.0438,-0.04383,0.04681,-0.04573,-0.04293,-0.1291,-0.09378,0.1353,-0.06884,0.1075,-0.05983,0.02776,0.08319,-0.04471,0.01036,-0.05043,0.1417,-0.1596,0.04922,0.01115,-0.1186,-0.08089,0.1022,0.02849,-0.073,0.004017,-0.1006,0.01087,-0.0813,-0.05963,0.05322,-0.02567,0.03577,-0.02669,-0.1111,-0.01417,0.1451,-0.01761,0.2427,-0.1056,0.002719,0.108,0.07744,0.2373,0.2343,-0.06505,0.1213,-0.08393,0.06316,0.02102,0.01317,0.1563,-0.0123,-0.02323,-0.06509,0.1273,0.1654,0.2346,-0.07791,-0.1072,0.1543,0.1614,-0.1486,-0.03185,-0.1233,0.03521,-0.1145,-0.04871,0.005783,-0.5108,-0.09303,-0.03755,-0.1652,-0.1681,0.05559,0.1775,0.1396,-0.1161,0.069,0.1365,0.1412,-0.1424,-0.01328,-0.01341,0.1015,0.06186,0.0572,-0.06201,0.1121,-0.116,0.1434,-0.1625,-0.05642,-0.1149,0.08776,-0.007276,0.169,0.04613,-0.1178,0.1484,-0.07377,0.1187,0.1331,-0.09149,-0.02773,-0.02096,0.0952,-0.05407,-0.1349,-0.03724,-0.08044,0.007773,-0.06622,-0.1185,0.08512,0.06071,0.05035,-0.01268,-0.09176,-0.0429,0.2959,0.2874,0.2597,0.01667,0.06754,-0.03102,0.2512,-0.06694,0.1144,0.04132,-0.0002626,0.08018,0.01279,0.2395,0.2419,0.8281,-0.4857,0.5818,0.3041,-0.4508,0.2294,-0.1532,0.1589,0.1367,0.2892,-0.08657,0.153,-0.1496,-0.5955],[-0.02818,0.03792,0.02887,0.07246,0.05708,-0.008035,0.0564,0.1017,0.07098,-0.019,-0.03584,0.1406,-0.15,0.125,-0.007619,0.06622,-0.1092,-0.02653,-0.01229,-0.04891,-0.1606,0.1103,-0.03138,-0.2375,-0.05718,-0.1667,0.06302,-0.07802,0.2123,0.02141,0.02256,-0.3415,0.1364,0.07338,0.1238,0.132,0.07082,0.02564,0.1354,-0.06129,0.04999,0.02235,0.05014,0.1529,-0.0007431,0.04003,0.1137,0.4434,-0.02681,-0.01042,0.002323,-0.002827,0.02569,-0.1261,-0.1236,-0.06584,-0.1423,0.2161,-0.05636,-0.1488,-0.0505,-0.09805,0.06113,-0.07176,0.1539,-0.06833,-0.04606,-0.07792,-0.003329,0.08591,-0.008008,0.04388,0.07135,-0.06327,-0.0315,-0.03252,-0.06544,-0.001021,0.0273,0.03727,0.05239,-0.01981,-0.05415,-0.2079,0.09809,0.0924,-0.02709,0.1609,0.05159,0.122,0.1379,0.1812,0.04075,0.176,-0.0804,0.09758,0.1647,0.237,0.006936,-0.05089,0.08799,0.07603,0.09678,0.05307,0.1421,0.1022,0.1646,-0.1373,0.1448,0.0888,-0.1636,-0.01443,0.0792,-0.01093,-0.02173,0.07124,-0.01858,-0.1549,-0.3348,-0.06204,0.05394,-0.1661,-0.05641,0.06062,0.1012,0.2096,-0.03275,-0.05193,-0.02541,-0.07266,-0.02759,-0.1643,-0.1566,-0.1136,-0.1386,-0.01246,0.08561,0.1622,-0.08987,-0.1028,-0.07182,0.07845,-0.01299,0.13,-0.08966,0.06457,-0.07926,0.02434,-0.0261,0.07179,-0.1677,0.04871,-0.001077,-0.08966,0.008262,0.01342,0.07738,-0.1056,-0.03822,-0.08114,0.05365,0.1373,0.06321,0.01271,-0.0529,-0.1734,0.08075,-0.1366,0.02765,0.0129,0.24,0.04453,-0.02704,0.04296,0.004375,0.05819,0.01893,-0.05085,0.1242,0.04158,0.253,-0.1144,0.0713,0.514,0.7104,-0.4361,0.5088,0.5007,-0.4791,0.4021,-0.04481,-0.1042,0.1272,0.3554,-0.135,0.1484,-0.1049,-0.5869],[-0.07021,0.07624,0.06069,0.005984,0.0963,-0.1522,0.08585,-0.06776,0.04151,-0.06713,0.03112,0.1537,0.03326,0.06695,-0.07737,0.06441,-0.03868,-0.08137,0.1411,0.05838,-0.07361,0.1038,-0.02592,-0.03633,-0.004945,-0.01177,0.009011,0.006303,0.0383,0.0174,0.02208,-0.4556,0.1216,-0.03169,0.034,0.1069,0.1833,-0.000741,0.1026,-0.1341,-0.03305,-0.08662,-0.06249,-0.004023,0.1839,0.1003,-0.02616,0.005134,0.5207,-0.04877,0.07525,0.06512,0.003342,-0.01428,-0.1174,0.06807,-0.00186,-0.05272,0.0671,-0.01996,-0.05834,-0.03279,0.1102,-0.0746,-0.07186,0.1645,0.06718,0.08742,-0.1409,-0.1198,-0.1235,0.1505,-0.05117,0.003509,0.1048,0.01888,0.07031,0.1518,0.003356,0.08937,-0.07849,-0.1394,0.01238,-0.001089,-0.01748,0.09329,0.02477,0.01502,0.01985,0.03714,0.1922,0.2148,0.1505,0.09539,-0.05416,0.06588,0.01437,0.09498,-0.01615,0.0217,-0.127,-0.05382,-0.009952,-0.1145,0.1455,0.1297,0.1537,0.01205,0.08675,0.1574,0.04692,-0.0791,0.01448,-0.02596,0.04057,0.1095,0.08497,0.1198,-0.3009,-0.1295,-0.07069,-0.1552,0.05137,0.03436,0.1948,-0.004718,0.09639,-0.06367,-0.1198,0.0001137,-0.07204,0.02841,-0.1171,0.1427,0.05286,0.1018,0.01803,0.1058,-0.1075,0.04027,0.09406,0.1504,0.05047,0.06434,-0.1365,0.1745,-0.01953,0.002554,-0.08788,0.115,-0.04067,-0.0541,-0.02805,0.07874,-0.04328,-0.0711,-0.09783,0.03326,0.04048,-0.1486,0.05501,0.001778,0.2854,0.07864,-0.06185,-0.05789,0.006887,-0.431,0.06561,0.04095,0.197,0.1415,0.08866,-0.001231,-0.08424,0.1672,0.1079,-0.01835,0.3596,0.03158,0.2293,-0.2426,0.01578,0.1712,0.6361,-0.5551,0.6156,0.4683,-0.1217,0.3187,-0.3546,0.2146,0.2719,0.1875,-0.1265,0.2062,-0.2639,-0.4172],[-0.01154,0.039,-0.02092,0.01005,-0.07415,0.01576,-0.03984,-0.01035,-0.06797,-0.1525,0.03736,0.05524,0.1367,-0.05767,0.07939,-0.07158,0.0558,0.01565,-0.04966,-0.1575,-0.1222,-0.06428,-0.07588,0.02735,-0.01381,0.01832,0.06767,-0.1383,0.07228,-0.0761,-0.02246,-0.2527,0.3098,0.1426,-0.05043,0.1314,0.2745,0.1828,0.08562,-0.3086,-0.1958,-0.1432,0.01303,0.09974,-0.05504,0.01746,-0.03926,-0.03244,-0.1029,0.3478,-0.02685,-0.005167,0.04479,-0.09367,-0.1353,-0.05348,0.01324,-0.1009,0.08112,0.2712,-0.02706,-0.01148,-0.05696,-0.06614,0.1472,-0.1264,-0.1117,0.09205,0.0312,-0.07963,0.09214,0.01385,-0.08238,0.01794,0.0317,-0.0005693,-0.2585,0.05,-0.002104,-0.1298,-0.02716,-0.01839,0.0724,-0.1443,0.1043,0.06996,0.05823,0.2211,-0.02352,0.07657,0.1496,0.06403,0.04968,0.1587,0.04699,0.1219,0.09491,0.1725,-0.07575,-0.03073,0.03295,0.1655,-0.09253,-0.1349,0.1834,0.1047,0.08794,-0.0288,-0.113,-0.1258,-0.06104,-0.06503,0.07584,0.0999,0.0554,0.1383,-0.1282,-0.1017,-0.4673,-0.1574,0.115,-0.1124,0.00151,-0.0002874,0.1332,0.06071,-0.0002224,-0.04471,0.02806,-0.1598,-0.1347,0.1594,-0.1493,0.04935,0.002782,-0.01177,-0.1443,0.08264,-0.1163,0.08914,0.04677,-0.1649,0.03312,0.09388,-0.08458,0.007006,-0.08757,-0.1078,-0.05776,-0.07052,-0.1206,0.08488,-0.05477,0.2429,-0.002615,0.08366,-0.1196,0.07223,0.1726,-0.09238,-0.1315,0.04179,0.08593,0.08708,0.00755,-0.04272,-0.05654,-0.02178,0.05349,0.1805,0.2792,0.3058,0.1581,0.05644,-0.1569,0.3183,0.06706,0.01463,0.06498,0.09119,0.2028,-0.08877,0.09864,0.4651,0.9679,-0.4716,0.5947,0.4169,-0.4858,0.2952,-0.008093,0.05734,0.01349,0.1858,-0.101,0.256,-0.09577,-0.6086],[0.008228,0.03544,0.06314,0.04255,-0.056,-0.1513,0.1476,0.005351,0.01628,0.008171,-0.006747,-0.1437,0.03194,-0.1068,-0.01024,0.04843,-0.04087,-0.07057,0.05705,0.02335,-0.0235,0.05853,-0.1293,-0.03992,-0.1026,-0.1245,0.06002,0.14,0.0007801,0.1318,-0.0237,-0.2576,0.02486,-0.008177,0.09849,-0.02212,0.08252,-0.002418,0.1669,-0.152,-0.00303,0.07079,-0.02517,-0.1448,-0.002374,0.02404,0.2238,-0.02535,-0.01716,-0.1048,0.3333,-0.008389,0.07334,0.004677,0.01471,0.09387,0.1537,0.01091,0.07865,-0.03695,0.00219,0.06917,0.04235,-0.132,-0.08215,0.1268,-0.06892,0.167,-0.00222,-0.03604,0.06968,0.1111,0.0005605,-0.09497,0.01185,0.0545,-0.02922,0.01934,-0.03217,0.0004792,0.07806,-0.04137,-0.05967,-0.07797,-0.0379,0.09616,0.0004391,0.1114,-0.06133,0.05725,0.245,0.1003,0.09078,0.0002118,-0.07039,0.05047,-0.07588,0.1472,0.05504,-0.1021,0.09058,-0.04669,-0.03857,0.08087,0.03134,0.1116,0.179,-0.05219,0.1489,0.111,-0.001194,-0.03089,-0.0242,0.02638,-0.01546,0.1565,0.007623,-0.0382,-0.6088,-0.09674,0.05859,-0.1057,-0.09218,0.05638,0.1872,0.04718,-0.007518,-0.08941,-0.02309,0.079,0.04831,0.01283,-0.02808,-0.1397,-0.0844,-0.07377,-0.09849,0.09852,-0.1198,-0.1207,-0.07408,-0.0277,0.1046,0.09846,-0.07807,0.08937,-0.01394,-0.02541,-0.1307,-0.0605,-0.05655,0.02378,-0.07363,0.01023,0.1669,-0.1523,0.0229,0.09633,0.006759,0.1572,-0.04718,0.02846,0.02001,-0.08674,0.1343,0.1046,-0.03927,-0.07188,-0.1437,0.1103,0.1623,0.2118,0.1463,0.0113,0.08678,0.4149,-0.05176,-0.1877,0.3069,0.04422,0.1633,-0.2138,0.1186,0.2319,0.8204,-0.5362,0.4756,0.4583,-0.4953,0.2144,-0.3944,0.179,0.08105,0.2339,-0.05298,0.189,-0.1023,-0.5475],[0.04424,0.02768,0.05213,0.05454,0.05132,-0.07366,0.1568,-0.1064,0.01017,0.03367,0.07364,-0.06124,-0.03794,0.1252,-0.04576,-0.009112,0.02764,0.04203,-0.09443,-0.1256,-0.02449,0.07062,-0.06967,-0.1133,-0.018,0.01043,0.1111,0.08355,0.03998,0.08721,-0.01175,-0.388,0.01146,0.001167,0.01317,0.1074,0.1574,0.06267,0.1947,-0.1803,-0.04274,0.01169,-0.01961,-0.03654,0.08524,-0.04163,-0.03951,-0.003276,0.01128,-0.01874,0.0002902,0.3665,-0.03477,-0.02362,-0.1021,0.001948,0.006103,-0.06257,-0.07027,-0.07327,-0.03897,0.05365,0.1299,-0.1415,-0.03368,-0.07759,0.02741,-0.0285,-0.1537,-0.118,-0.0609,0.03498,0.01724,-0.0808,0.04586,-0.01307,0.05572,0.005759,-0.08356,0.07348,-0.00538,0.09769,0.01648,0.06927,-0.03052,0.109,-0.004821,0.08562,0.006509,0.1247,0.196,0.1667,0.2208,0.0213,0.08133,0.0334,0.04931,0.2578,0.09929,-0.0542,-0.09449,-0.05654,0.14,0.08895,0.1336,0.1527,0.137,0.1644,0.1102,-0.02495,-0.04132,-0.1566,0.04315,0.01183,0.01438,-0.05445,0.0551,-0.07773,-0.4035,-0.07619,0.004127,-0.04377,0.05412,0.03667,0.003751,0.1257,0.02739,0.005099,-0.1203,0.06206,-0.01389,-0.09853,0.1099,0.1094,0.147,-0.1304,0.0196,0.2306,-0.1557,0.08166,-0.1357,0.003075,0.01796,0.03458,-0.1756,0.07699,-0.01182,-0.0814,-0.2039,0.09053,-0.01183,0.03241,-0.06904,-0.1057,0.1064,0.09371,-0.2093,0.005391,0.08878,0.0003171,-0.04716,0.05609,-0.04373,0.1288,-0.1633,0.005969,-0.03289,-0.2242,0.04561,0.1043,0.2112,0.1758,0.1489,-0.0942,-0.1444,0.3504,0.08685,-0.01297,-0.02688,0.06423,0.03017,0.01357,0.04327,0.3807,1.126,-0.4873,0.6573,0.5207,-0.7393,0.2133,-0.2016,-0.05969,0.08133,0.1996,-0.1547,0.3322,-0.05995,-0.774]],"bias":[-7.93,-9.52,-9.671,-10.97,-9.856,-9.863,-10.65,-9.803,-10.17,-9.313]},"visitHistoryVectorDimension":77,"previousVisitsHistoryVectorDimension":89}},"startOfVisitLearner":{"inputDimension":123,"outputDimension":11,"standarizeInputs":true,"beforeMean":[0.03597,0.2201,0.3897,0.0007079,0.00003426,0.000009826,0,0.02332,0.1786,0.312,0.0004545,0.00001732,0.000005016,0,0.01731,0.1476,0.2577,0.0003163,0.000009444,0.000003225,0,0.1361,1.304,2.271,0.002497,0.00007971,0.00002539,0,3.299,359300000,297400000,3.866,516100000,355900000,0.6945,0.63,0.5876,14.32,14.32,219600000,304600000,0,0.001056,0.01393,0.002728,0.001584,0.0002624,0.002007,0.001563,0.0005028,0.002157,0.0009701,0.003227,0.1848,0.3913,0.1032,0.3483,0.09098,0.1886,0.07936,0.06038,0.1129,0.4119,0.9806,0,0,0,0,0,0,0,8.925e-8,2.573e-7,6.833,3.683,293.1,0.4536,62.34,2.018,1015,0.5681,3.951,0.2458,55.6,4.023,4.03,0.001712,1.287,0.07188,1.237,0.005137,958900000,9.769,1,0.02117,0.2319,0.4159,0.001042,0.00002631,0.000007845,0.3951,1,1,0.5263,0.002658,0.08358,0.3166,0.006299,0.06459,59.63,0.6125,0.266,0.09601,0.268,0.006821,0.343,0.00004905,0.02012,831.8,706,847.1,847.9,0.01668],"beforeDeviation":[0.1862,0.4143,0.4877,0.0266,0.005853,0.003135,0,0.1509,0.383,0.4633,0.02131,0.004161,0.00224,0,0.1304,0.3547,0.4374,0.01778,0.003073,0.001796,0,0.5938,2.682,3.842,0.1274,0.01647,0.01002,0,4.83,916500000,654100000,3.95,1117000000,684400000,0.4606,0.4828,0.4923,20.57,20.57,670500000,586600000,0,0.04249,0.161,0.0685,0.04819,0.01932,0.056,0.04818,0.02667,0.06157,0.04298,0.0703,16.43,6.634,6.44,26.37,27.05,31.58,44.88,6.28,36.36,34.58,69,0,0,0,0,0,0,0,0.0002451,0.0007248,10.34,7.431,4.282,1.139,17.34,4.996,5.568,1.577,2.104,0.626,34.33,10.33,0.1689,0.0291,0.6292,0.2355,0.4227,0.04727,2601000000,35.89,2.552e-13,0.1439,0.4221,0.4929,0.03226,0.005129,0.002801,0.4889,2.552e-13,2.552e-13,0.4993,0.05149,0.2768,0.4652,0.07911,0.2458,35.05,0.4872,0.4419,0.2946,0.4429,0.08231,0.4747,0.007003,0.1404,586.3,160.2,616.7,163.1,0.1281],"trainingOutputVectorTargetNbUpdates":73169743,"trainingOutputVectorTargetMean":[0.0001957,0.005312,0.0007347,0.0006044,0.00009093,0.0005001,0.0004665,0.0001677,0.0005585,0.0003015,0.001098],"weights":[[0.05634,0.07332,0.08407,0.04182,-0.1781,-0.1635,-0.06366,-0.0143,0.09174,0.01327,-0.04049,-0.1342,0.07767,0.14,-0.126,0.06641,0.07939,-0.1422,-0.1166,0.1766,-0.114,-0.07369,-0.06825,-0.01096,-0.03798,0.1627,0.144,0.2021,0.02038,-0.08205,-0.06024,-0.05904,0.1367,-0.01072,-0.05511,0.0638,0.07976,0.1162,-0.08336,-0.2524,-0.08509,0.02519,0.6506,-0.1375,-0.02255,-0.05571,0.01616,-0.04266,-0.1109,0.148,-0.06697,0.06265,0.008827,-0.05867,0.08461,-0.02232,0.12,-0.01151,0.08257,0.04224,-0.0487,-0.1311,0.02107,-0.01443,0.1257,-0.08189,-0.03833,0.2111,-0.01683,-0.03318,0.0501,0.1835,-0.01354,0.1418,0.05537,-0.1211,-0.08134,-0.1003,0.0151,-0.09552,0.02039,0.03233,0.02137,0.03417,0.006138,-0.05967,-0.02205,0.2007,0.02581,0.2963,0.02496,0.04217,0.01209,0.2795,0.1857,0.3285,0.5362,0.1842,0.1296,-0.1667,1.243,0.02074,0.08949,-0.03827,0.2317,0.03611,0.1386,-0.09156,-0.0102,0.1355,0.1375,0.3287,0.302,-0.07021,-0.03181,-0.0501,0.1157,-0.3839,0.01964,0.02124,0.03387,-0.07564,-0.9117],[-0.03775,0.01445,0.02857,0.08887,-0.1511,-0.05282,-0.01863,-0.09186,-0.08652,-0.04462,0.05194,0.006855,-0.0301,0.03819,-0.03983,0.03352,0.04109,-0.01335,0.1711,-0.1983,-0.177,0.0709,-0.03176,0.0001845,0.01249,-0.07691,-0.2243,0.1585,0.1946,-0.02741,-0.07011,-0.2824,0.2131,0.1971,0.003117,0.1073,0.2177,-0.03163,0.2363,-0.2478,-0.1979,0.04739,-0.06062,0.3678,0.06669,0.03903,0.004548,0.006854,0.04995,-0.01255,-0.01416,-0.07388,-0.05843,0.07331,0.06846,-0.04436,-0.03385,-0.02846,-0.1156,-0.1363,0.05169,-0.03847,-0.09165,-0.1801,0.1187,0.1671,-0.001548,-0.05758,-0.1166,0.1712,0.02946,0.1584,0.03658,0.06402,-0.03702,-0.04791,-0.07578,0.002681,-0.1616,-0.06716,-0.01909,-0.0631,0.01933,0.002172,-0.03879,-0.1388,0.0368,-0.003158,-0.0481,0.3367,0.01996,0.02266,-0.3526,-0.04108,0.344,0.2891,0.5889,0.2414,-0.1094,0.133,0.7645,-0.08201,-0.006796,0.2805,-0.2511,0.2409,0.07536,0.09066,0.2997,0.7537,0.2274,0.9945,0.7115,-1.26,0.4163,-0.2026,0.2045,0.2127,0.2969,-0.1098,0.1749,-0.179,-1.2],[0.1692,-0.1058,-0.03678,0.1298,0.06662,0.1785,0.1618,0.01645,-0.03138,0.05486,-0.02894,0.05363,-0.00117,0.1671,-0.01224,-0.1037,0.004897,-0.02701,0.1875,-0.1355,-0.1558,-0.05293,-0.01617,-0.1,-0.1304,-0.1529,-0.1041,-0.05856,0.05955,-0.03435,-0.03775,-0.2195,0.2657,0.09801,0.01123,0.2001,0.2828,0.1895,0.06071,-0.3185,-0.1007,0.1589,-0.06127,0.09619,0.2888,-0.04299,-0.01409,0.02083,-0.08755,-0.1193,0.1265,-0.02583,0.03517,-0.00381,0.09174,0.1466,-0.158,-0.1901,-0.08987,-0.08014,-0.05925,-0.1168,-0.03169,-0.1843,-0.122,-0.1515,-0.018,-0.01624,0.1641,-0.2073,-0.1391,0.08332,-0.04428,-0.02335,-0.1547,0.1493,-0.02996,-0.005897,-0.02854,-0.1337,0.1228,-0.05783,0.03752,0.07206,-0.03608,-0.3111,0.03458,0.04354,-0.1826,0.2182,0.0709,-0.03404,-0.05122,-0.01693,0.2182,0.4017,0.6395,0.3527,-0.04909,0.1102,0.8378,0.1498,-0.05603,0.0932,0.08258,0.1621,-0.04671,-0.01327,0.2469,0.7265,-0.5074,0.7845,0.6535,-0.7462,0.395,-0.06523,0.08366,0.1449,0.168,-0.1541,0.1511,-0.1932,-0.7957],[-0.02496,0.0487,0.02591,-0.04921,-0.1092,-0.1183,-0.1309,-0.03645,0.01246,-0.07097,-0.01009,0.1391,0.1243,0.1292,0.04324,-0.04983,0.03697,-0.2162,-0.042,-0.1925,-0.09255,0.1028,-0.01662,0.07767,0.01845,-0.06326,0.1247,-0.1517,-0.04074,0.01958,-0.09204,-0.3461,-0.0767,0.05975,0.01384,0.1217,0.1432,0.06978,0.15,-0.1537,-0.00762,0.09572,0.1177,-0.02192,0.01388,0.5442,0.1429,-0.07228,0.0251,0.112,-0.07558,-0.006923,0.02797,0.008983,-0.1413,-0.1972,-0.009821,-0.0008708,-0.1562,-0.1017,0.01741,-0.2375,-0.07801,0.03229,-0.08972,0.1051,0.006209,-0.07647,0.004873,0.07123,-0.08529,-0.1593,-0.05234,0.09467,0.08733,0.009385,0.208,0.0464,-0.05355,-0.1822,0.1251,0.05479,-0.1031,0.09637,0.08965,-0.1531,-0.04007,-0.2137,0.0296,0.1458,-0.04264,-0.03005,-0.3996,-0.1226,-0.0905,0.3604,0.1771,0.09552,0.1392,0.1896,0.3636,0.1804,0.2185,0.1941,-0.08655,0.1653,-0.1834,0.1118,0.1829,0.6429,-0.5086,0.6664,0.3689,-0.7806,0.248,-0.07061,0.181,0.1097,0.2746,-0.1653,0.1639,-0.341,-0.7037],[0.06994,0.08469,-0.0004608,0.1399,0.02918,-0.07022,0.01738,0.01481,-0.02965,-0.03687,0.05911,0.08508,0.1934,-0.06129,0.01007,0.03576,-0.00861,-0.07938,0.1936,0.169,-0.135,0.08544,-0.06232,-0.007419,-0.1505,0.05321,0.09327,-0.07682,-0.007454,0.01327,0.01748,-0.4233,0.09747,-0.03976,0.01811,0.111,0.08524,0.09639,-0.003336,-0.1702,-0.09751,-0.01459,0.1031,-0.006354,0.07796,0.09082,0.5945,-0.1066,0.02484,0.1421,-0.09384,0.137,0.07543,0.08783,-0.009779,-0.08455,0.05911,0.05715,-0.0234,-0.002599,-0.001801,-0.1255,-0.03437,-0.03727,-0.1456,-0.1348,-0.01843,0.2017,-0.123,0.1102,-0.03323,-0.1372,0.03678,-0.01544,-0.0564,-0.1633,0.1389,-0.06288,-0.01913,-0.0003603,-0.1093,-0.06031,0.08526,-0.09895,0.022,-0.04988,-0.07026,-0.1685,-0.02522,0.2149,-0.04982,-0.08336,-0.3073,0.108,0.08908,0.3929,0.2309,0.1415,-0.1238,0.08764,0.401,0.1869,-0.05495,0.3883,0.05734,0.3757,-0.3659,0.07028,-0.05482,0.6111,-0.4932,0.506,0.3846,-0.2599,0.1938,-0.4688,0.1806,0.06412,0.1164,-0.1347,0.2436,-0.2493,-0.419],[0.07878,0.1256,-0.01108,-0.07213,-0.1735,-0.003601,-0.06356,-0.1215,-0.105,0.03351,-0.1663,0.07085,-0.1953,0.05432,-0.02739,-0.06783,-0.02294,-0.04629,-0.1154,0.1096,-0.009416,0.03426,-0.1277,-0.1185,-0.1126,-0.07259,0.03523,-0.196,-0.1011,0.02813,-0.09291,-0.1281,0.0116,0.006631,0.01595,0.03706,0.2243,0.3049,0.07024,-0.2887,-0.02182,-0.04389,-0.001521,-0.01619,-0.01991,-0.05167,-0.01714,0.371,0.03717,-0.01151,0.04498,-0.0516,0.05766,-0.02499,-0.08152,-0.05757,-0.1442,-0.1476,0.1331,-0.09787,0.03665,-0.05328,0.0355,0.08581,0.002364,0.1668,0.09798,-0.1522,-0.1796,-0.133,0.1169,-0.06581,-0.1514,0.1231,0.0325,-0.0684,0.03044,-0.136,0.0004243,-0.08076,0.0353,0.06336,-0.07307,0.04165,-0.1051,-0.1125,-0.03573,0.1459,-0.03006,0.3581,-0.1454,-0.008365,-0.03559,0.1096,0.1258,0.3838,0.4031,0.2945,0.2158,0.2439,0.7587,0.04764,-0.08835,-0.05639,-0.05635,0.0607,-0.1112,0.2209,0.05612,0.7537,-0.3572,0.6879,0.3872,-0.6055,0.3034,-0.1535,-0.009825,0.1334,0.2565,-0.08572,0.1614,-0.1532,-0.7175],[-0.01944,0.03118,0.04025,0.0009355,-0.1609,-0.06997,0.1984,0.08982,0.1075,-0.02003,-0.04904,-0.01059,0.05374,-0.09116,0.008108,0.101,-0.1272,-0.09715,0.04415,-0.1785,-0.1342,0.1376,-0.04156,-0.2069,0.02355,-0.1318,-0.1136,0.02956,0.1746,0.01315,0.00961,-0.3468,0.141,0.08214,0.1535,0.1413,0.08588,0.1096,0.05039,-0.06503,0.04813,-0.101,0.07714,0.09242,0.1716,0.002135,0.05158,0.1364,0.4278,-0.1515,-0.03524,-0.0001612,-0.01738,0.007302,0.02648,-0.1395,-0.1383,-0.1466,-0.1566,0.2505,0.006261,-0.1802,-0.08735,-0.09961,0.02239,-0.1815,0.1662,-0.1775,-0.101,0.03925,-0.1331,-0.1783,-0.1773,0.04009,0.0746,-0.03325,-0.06313,0.01037,-0.04321,0.01436,0.03843,0.0179,0.03924,0.009636,-0.003552,-0.2435,0.08197,0.02913,-0.0389,0.211,0.05042,0.0986,-0.1076,0.125,0.04562,0.4665,0.1249,0.1405,0.07082,0.224,0.3863,-0.115,-0.02951,0.2804,0.08184,0.3579,-0.1186,0.1368,0.4815,0.4777,-0.4414,0.3798,0.4794,-0.7141,0.4113,-0.1182,0.1397,-0.01421,0.3858,-0.1494,0.1766,-0.09196,-0.701],[-0.08008,0.0847,0.09263,0.1238,-0.1278,0.1868,0.04269,-0.07449,0.03471,-0.06703,0.01575,-0.1292,-0.1534,-0.1684,-0.1327,0.07498,-0.0556,-0.01449,0.03629,-0.09257,-0.1494,0.1123,-0.03232,-0.05152,-0.1226,-0.08321,-0.1002,-0.0603,0.0563,0.01195,0.03704,-0.4679,0.1282,-0.04447,0.01566,0.1174,0.2187,0.07476,0.06853,-0.1269,-0.05106,0.0816,0.1318,-0.07632,-0.02831,0.153,0.08081,-0.03917,0.02816,0.5099,-0.05442,0.06021,0.0427,-0.1521,-0.01198,-0.001438,-0.1329,0.07775,0.06816,-0.146,0.06938,-0.07172,-0.09287,-0.03713,0.08528,0.05601,-0.1082,-0.1348,0.1971,0.07727,0.1497,-0.1989,-0.02556,0.1898,-0.04844,-0.08932,0.03186,-0.193,0.1175,0.1343,-0.1394,-0.0312,-0.01082,-0.05185,0.04233,-0.003365,-0.03039,-0.01242,0.02339,0.1835,0.009939,-0.008925,-0.4386,0.1208,0.1211,0.4105,0.2372,0.1901,0.1066,0.009704,0.4918,0.127,-0.01914,0.3642,0.02107,0.2573,-0.2662,-0.009295,0.01703,0.5856,-0.6458,0.6002,0.4595,-0.2624,0.3128,-0.3015,-0.01398,0.2875,0.1578,-0.1537,0.2327,-0.3033,-0.5161],[0.0171,0.02418,-0.001586,-0.04065,0.183,-0.04403,-0.07794,-0.01223,-0.07556,-0.1866,0.03233,-0.1057,0.1044,-0.1236,0.1108,-0.08241,0.04488,-0.009402,-0.1344,-0.1492,-0.1951,-0.02822,-0.09253,0.04752,0.03464,-0.07231,0.09071,-0.02999,0.04576,-0.06281,-0.02075,-0.25,0.33,0.1711,-0.05105,0.1217,0.2731,0.1393,0.124,-0.2824,-0.2179,-0.1574,0.04267,-0.01263,0.103,-0.0733,0.03204,-0.03999,-0.06637,-0.08897,0.3368,-0.02765,0.005174,-0.0701,0.02768,-0.09453,-0.1345,-0.1389,0.01222,-0.005737,0.1034,0.2846,-0.0351,0.02475,0.1276,-0.1079,-0.03297,0.07161,-0.09165,-0.1243,0.01096,0.1716,-0.04136,-0.0009211,-0.09178,-0.02747,-0.05198,-0.01766,-0.1258,0.06875,-0.04935,-0.1375,-0.06127,-0.05279,0.04879,-0.0827,0.1668,0.05878,0.03579,0.2241,-0.04774,-0.04544,-0.02342,-0.04024,0.1534,0.4149,0.5393,0.3799,0.1324,-0.1428,0.7878,0.1214,0.06482,0.1165,0.07837,0.2083,-0.07765,0.1093,0.4302,0.8607,-0.2556,0.6995,0.4614,-0.7771,0.3487,-0.1046,-0.09131,-0.08075,0.1546,-0.09271,0.2999,-0.08801,-0.712],[-0.008677,0.03665,0.02452,-0.04481,-0.1518,0.04165,-0.1565,0.0115,0.07409,0.01779,-0.02897,-0.1016,-0.1057,0.1156,-0.03335,0.02944,-0.04064,-0.0659,-0.08825,0.1877,-0.1798,0.05911,-0.1265,-0.05825,-0.03775,0.07357,-0.1243,-0.005639,-0.0126,0.1616,-0.02362,-0.2283,-0.00374,-0.01466,0.1157,-0.06445,0.08495,0.1236,0.1066,-0.1377,0.009182,-0.00357,0.02102,0.003977,-0.1244,-0.02573,-0.05765,0.2699,-0.004656,-0.03556,-0.1148,0.3639,-0.04753,-0.01384,0.1292,-0.0347,0.06478,0.1556,0.1163,-0.03851,0.1282,-0.1109,-0.04207,0.09869,-0.1373,-0.07929,-0.1122,-0.1116,0.1708,-0.1907,0.207,-0.03376,-0.1579,0.117,0.03012,-0.06234,-0.1,0.09958,0.08211,0.01663,-0.08832,-0.05175,-0.003657,-0.02677,0.05333,-0.09104,-0.0667,0.04585,0.001105,0.2112,-0.07751,-0.03124,0.03384,-0.1958,0.1184,0.2902,0.3728,0.1826,-0.1701,0.1562,1.001,-0.2978,-0.007642,0.3918,0.1161,0.1981,-0.1879,0.1332,0.1203,0.7725,-0.6298,0.6123,0.5298,-0.5241,0.2617,-0.2058,0.2503,0.03447,0.251,-0.05237,0.1656,-0.06226,-0.6582],[0.05655,0.02693,0.0444,0.03101,-0.1036,0.1822,0.06506,-0.1071,0.01447,0.06106,0.09491,-0.09929,0.1726,-0.1934,-0.04858,-0.01358,0.04496,0.05039,0.0566,-0.08902,-0.1175,0.07542,-0.08136,-0.07778,0.03251,-0.1536,-0.1793,0.1379,0.0008926,0.09749,-0.02006,-0.3746,0.007937,0.009321,-0.01083,0.08452,0.2143,0.1088,0.1782,-0.1461,-0.04056,0.1621,0.1612,-0.02178,-0.04048,0.0516,-0.03757,-0.05531,-0.009762,-0.04022,-0.01441,-0.03253,0.348,-0.1461,-0.04356,-0.04086,-0.1146,-0.02516,0.02181,-0.05079,-0.04208,-0.05986,-0.02492,0.05048,-0.04727,-0.1979,-0.1704,-0.1643,-0.1408,-0.1589,0.2028,0.1408,0.01862,0.02276,0.01715,-0.0811,0.08603,-0.0366,0.04479,0.004369,-0.07468,0.1095,-0.05926,0.1354,0.042,0.06316,-0.04751,-0.01162,-0.02162,0.1473,-0.002216,-0.051,-0.1604,0.2458,0.1095,0.4054,0.3849,0.2008,-0.129,-0.04238,0.7159,-0.01869,-0.00002441,0.07894,0.09222,0.07647,-0.1038,0.0766,0.2351,0.8701,-0.4159,0.7534,0.5995,-0.9204,0.2473,-0.2062,-0.00755,0.02746,0.2091,-0.1627,0.3582,-0.05298,-0.9002]],"bias":[-8.932,-7.997,-9.646,-9.83,-11.16,-9.833,-9.996,-10.79,-9.957,-10.37,-9.306]},"numberTrainingVisits":73169743,"visitHistoryVectorDimension":79,"previousVisitsHistoryVectorDimension":91,"middleOfVisitLearner":null};})();if (window.kameleoonLightIframe){if (window.kameleoonExternalIFrameLoadedData) { eval(window.kameleoonExternalIFrameLoadedData); Kameleoon.Analyst.load();}}else{Kameleoon.Analyst.load();}}