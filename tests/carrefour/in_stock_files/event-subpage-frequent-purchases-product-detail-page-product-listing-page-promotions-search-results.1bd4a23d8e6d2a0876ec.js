(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{lslW:function(t,e,n){"use strict";n("VRzm"),n("rGqo"),n("yt8O"),n("RW0V"),n("ls82"),n("91GP"),n("xfY5"),n("7h0T"),n("Z2Ku"),n("L9s1");var r=n("L2JU"),o=n("YOU7"),i=n("PWEz"),s=n("ugd9"),a=n("Sp0H");function c(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"Recommendations",components:{DsTitle:s.default,DsProductCard:o.default,DsCarousel:i.a},props:{vars:{type:Object,default:function(){return{}}},pageContext:{type:String,validator:function(t){return["plp","pdp"].includes(t)},default:"plp"},zone:{type:String,validator:function(t){return t.trim().length&&!Number.isNaN(Number(t))},default:"1"},renderContext:{type:Object,default:function(){return{}}}},data:function(){return{localRenderContext:Object.assign({},this.renderContext),isTrackingCompleted:!1}},computed:u({},Object(r.c)({PLPrecommendation:"search/recommendation",PDPrecommendation:"search/recommendations",hasFilter:"search/hasFilter",isReloadingProductsList:"search/isLoadingProducts"}),{isPLP:function(){return"plp"===this.pageContext},recommendation:function(){return this.isPLP?this.PLPrecommendation:this.PDPrecommendation[this.zone]||{}},products:function(){return this.recommendation.products||[]},title:function(){return this.recommendation.title||""},hasProducts:function(){return this.products.length>0},layout:function(){return this.isPLP?"horizontal":"vertical"},shouldTrackOnLoad:function(){return this.isPLP},shouldShowRecommandation:function(){return this.hasProducts&&!this.hasFilter&&!this.isReloadingProductsList},shouldRenderOrigin:function(){return!!this.hasProducts&&this.products.some(function(t){return!!t.attributes.origin})}}),created:function(){var t=this;a.a.$on("recommendationsInView",function(e){t.shouldTrackOnLoad||t.zone!==e||t.trackCrossSellLoad()})},mounted:function(){var t,e=(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localRenderContext.crosssell=Number(this.zone),this.localRenderContext.eventIndex="1"===this.zone?"":this.zone,this.isPLP){t.next=5;break}return t.next=5,this.getRecommendations({vars:this.vars,pageContext:this.pageContext,zone:this.zone});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(t){c(i,r,o,s,a,"next",t)}function a(t){c(i,r,o,s,a,"throw",t)}s(void 0)})});return function(){return e.apply(this,arguments)}}(),updated:function(){!this.isTrackingCompleted&&this.hasProducts&&(this.indexEntity({type:"crossSell",data:{productList:this.products,executionDuration:this.recommendation.executionDuration||null,productsListName:this.vars.categories?this.vars.categories.join(" "):null},id:"crossSell_".concat(this.zone)}),this.shouldTrackOnLoad&&this.trackCrossSellLoad())},methods:u({},Object(r.b)({getRecommendations:"search/getRecommendations",indexEntity:"analytics/indexEntity",analyticsTrackEvent:"analytics/trackEvent"}),{trackCrossSellLoad:function(){!this.isTrackingCompleted&&this.hasProducts&&(this.analyticsTrackEvent({eventName:"crossSellLoad",entities:{crossSell:"crossSell_".concat(this.zone)},context:this.localRenderContext}),this.isTrackingCompleted=!0)}})},h=n("KHd+"),m=Object(h.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shouldShowRecommandation?n("div",{staticClass:"recommendations",attrs:{"data-zone":t.zone}},[t.title?n("ds-title",{staticClass:"recommandations__title",attrs:{tag:"h2",weight:"light"}},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),t._v(" "),n("ds-carousel",{attrs:{progress:"scrollbar","content-sizing":"264px","opacity-gradient-color":"grey"}},t._l(t.products,function(e,r){return n("ds-product-card",{key:e.attributes.ean,attrs:{index:r,product:e,layout:t.layout,"render-context":t.localRenderContext,"should-render-origin":t.shouldRenderOrigin,lazy:!0}})}),1)],1):t._e()},[],!1,null,null,null);e.a=m.exports}}]);