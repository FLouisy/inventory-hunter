(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"96EZ":function(t,e,i){"use strict";i("VRzm"),i("yt8O"),i("RW0V"),i("ls82"),i("rGqo"),i("XfO3"),i("HEwt"),i("dRSK"),i("OEbY"),i("91GP");var a=i("L2JU"),n=i("idjV"),o=i.n(n),r=i("GG0Y"),s=i.n(r),l=i("PWWy"),c=i("rVGs"),d=i("ugd9"),u=i("F8+0"),p=(i("9VmF"),i("a1Th"),i("rE2o"),i("ioFf"),i("Jzu6"));function h(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b={name:"DsVisualPicker",components:{VueImage:p.default},props:{classes:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},src:{type:String,required:!0},alt:{type:String,default:""},lazy:{type:Boolean,default:!1},label:{type:String,default:null},link:{type:String,default:null},target:{type:String,default:null},tag:{type:String,default:"div"}},computed:{classNames:function(){return[].concat(h(this.classes),[this.disabled?"ds-visual-picker--disabled":"",this.selected?"ds-visual-picker--selected":""])}},methods:{handleClick:function(t){t.preventDefault(),this.$emit("clicked",t)}}},f=i("KHd+"),m=Object(f.a)(b,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.link?"a":t.tag,{tag:"component",staticClass:"ds-visual-picker",class:t.classNames,attrs:{href:!!t.link&&t.link,target:!(!t.link||!t.target)&&t.target},on:{click:t.handleClick}},[t.label?i("span",{staticClass:"ds-visual-picker__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),i("vue-image",{staticClass:"ds-visual-picker__image",attrs:{src:t.src,alt:t.alt}})],1)},[],!1,null,null,null).exports,v=i("U+CG"),g=i("pykY");function _(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y={name:"ProductZoom",components:{Newcarousel:v.a,VueImage:p.default},props:{images:{type:Array,default:function(){return[]}},isOpen:{type:Boolean,default:!1}},data:function(){return{show:!1}},watch:{isOpen:function(t){t?this.openZoom():this.removeZoom()}},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){_(t,e,i[e])})}return t}({},Object(a.b)({setIsProductZoomOpen:"shop/setIsProductZoomOpen"}),{openZoom:function(){Object(g.hidePageOverflow)(!0),this.show=!0,this.setIsProductZoomOpen(!0)},removeZoom:function(){Object(g.hidePageOverflow)(!1),this.show=!1,this.setIsProductZoomOpen(!1),this.$emit("close")}})},C=Object(f.a)(y,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-zoom",class:{"product-zoom--open":t.show}},[i("div",{staticClass:"product-zoom__cross",on:{click:t.removeZoom}},[t._v("\n    ✕\n  ")]),t._v(" "),i("div",{staticClass:"product-zoom__content"},[t.images.length>1?i("newcarousel",{attrs:{offset:!1,"per-page":{320:1},"should-sync":!0,progress:"dots"}},t._l(t.images,function(t,e){return i("div",{key:e,staticClass:"product-zoom__img-container"},[i("vue-image",{staticClass:"product-zoom__image",attrs:{lazy:!0,src:t.largest,placeholder:"/images/loader-dots.svg"}})],1)}),0):i("div",{staticClass:"product-zoom__img-container"},[i("vue-image",{staticClass:"product-zoom__image",attrs:{lazy:!0,src:t.images[0].largest,placeholder:"/images/loader-dots.svg"}})],1)],1)])},[],!1,null,null,null).exports,k=i("Ba9o"),P=i("Er9Q"),S=i("ThbH"),O={components:{FreshnessBadge:P.a,ZoomableImage:k.a,DsVisualPicker:m,Newcarousel:v.a,ProductZoom:C},props:{ean:{type:String,default:""},images:{type:Array,default:function(){return[]}},flags:{type:Array,default:function(){return[]}},freshness:{type:Object,default:function(){}},title:{type:String,default:""},hasThumbs:{type:Boolean,default:!0},shouldSync:{type:Boolean,default:!0},isMiniPdp:{type:Boolean,default:!1}},data:function(){return{activeSlide:0,isZoomOpen:!1}},methods:{setActiveSlide:function(t){this.activeSlide=t},showFresnessDetails:function(){var t=g.DSViewport.isTabletPortrait()?60:20;Object(S.b)({elementId:"freshness-details",gap:t})}},computed:{nutriscore:function(){return this.flags.find(function(t){return t.startsWith("flag.nutriscore")})}}},w=Object(f.a)(O,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pdp-hero"},[i("product-zoom",{key:"img-"+t.ean,attrs:{images:t.images,"is-open":t.isZoomOpen},on:{close:function(e){t.isZoomOpen=!1}}}),t._v(" "),t.images.length>1&&t.hasThumbs?i("div",{staticClass:"pdp-hero__thumbs"},t._l(t.images.slice(0,t.nutriscore?6:7),function(e,a){return i("ds-visual-picker",{key:a,staticClass:"pdp-hero__thumb",attrs:{src:e["43x43"],alt:t.title,selected:a===t.activeSlide,link:"#"},on:{clicked:function(e){return t.setActiveSlide(a)}}})}),1):t._e(),t._v(" "),i("div",{staticClass:"pdp-hero__images",class:{"pdp-hero__images--mini-pdp":t.isMiniPdp},attrs:{id:"data-produit-image"}},[t.images.length>1?i("newcarousel",{key:t.images[0]["540x540"],attrs:{progress:"dots",offset:!1,"per-page":{320:1},"should-sync":t.shouldSync,active:t.activeSlide,"is-mini-pdp":t.isMiniPdp},on:{change:t.setActiveSlide}},t._l(t.images.slice(0,7),function(e,a){return i("zoomable-image",{key:"zoom-img-"+t.ean+"-"+a,staticClass:"pdp-hero__image",attrs:{src:e["540x540"],"zoomed-src":e["1500x1500"],alt:t.title},nativeOn:{click:function(e){t.isZoomOpen=!0}}})}),1):i("div",{staticClass:"single-image__wrapper",class:{"single-image__wrapper--mini-pdp":t.isMiniPdp}},[i("zoomable-image",{key:"zoom-img-"+t.ean,staticClass:"pdp-hero__image",attrs:{src:t.images[0]["540x540"],"zoomed-src":t.images[0]["1500x1500"],alt:t.title},nativeOn:{click:function(e){t.isZoomOpen=!0}}})],1),t._v(" "),t.freshness&&t.freshness.value>0?i("freshness-badge",{attrs:{freshness:t.freshness,size:"l"},on:{clicked:t.showFresnessDetails}}):t._e()],1)],1)},[],!1,null,null,null).exports,x=i("pT8Y"),A=i("mwIZ"),E=i.n(A),j=i("Sp0H"),T=i("70Jh"),M=i("Rja4");function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var D={name:"PdpButtonContainer",components:{AddToCart:T.a,DsButton:M.a},props:{product:{type:Object,default:null},isSubstitutionButton:{type:Boolean,default:!1},renderContext:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isMiniPdp:{type:Boolean,default:!1},isCheckable:{type:Boolean,default:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){B(t,e,i[e])})}return t}({},Object(a.c)({store:"manage/getStore"}),{offerServiceId:function(){return E()(this.product,"attributes.offerServiceId",null)},isClickAndCollect:function(){return this.isCheckable&&E()(this.product,"attributes.availability.purchasable",!1)},bestQuantity:function(){var t,e,i;return(null===(t=this.product)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:null===(i=e.promotion)||void 0===i?void 0:i.bestQuantity)||0},hasPromo:function(){return this.bestQuantity>1},addQuantityWhenPromo:function(){var t,e,i=null===(t=this.product)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:e.promotion;return i&&i.isCrescendo?i.crescendo[0].bundle:this.bestQuantity}}),methods:{toggleSubstitutions:function(){j.a.$emit("showSubstitutions",this.product.attributes.ean)}}},I=Object(f.a)(D,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pdp-button-container",class:{"pdp-button-container--substitution":t.isSubstitutionButton}},[t.isSubstitutionButton?i("ds-button",{attrs:{label:t._f("trans")("action.replace"),disabled:t.disabled,icon:"replace"},nativeOn:{click:function(e){return t.toggleSubstitutions(e)}}}):i("add-to-cart",{attrs:{"is-click-and-collect":t.isClickAndCollect,"offer-service-id":t.offerServiceId,"render-context":t.renderContext,disabled:t.disabled,"is-pdp":"","is-mini-pdp":t.isMiniPdp,"has-promo":t.hasPromo,"promo-quantity":t.addQuantityWhenPromo,product:t.product}})],1)},[],!1,null,null,null).exports,R=i("DyLT"),L=i("g201");function z(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var F={name:"PdpPricing",components:{DsBodyText:c.default,ProductCardPrice:x.a,PromotionDescription:R.a,PromotionFeedback:L.a,PdpButtonContainer:I},props:{product:{type:Object,required:!0},coupon:{type:Object,default:null},store:{type:Object,default:null},isMiniPdp:{type:Boolean,default:!1},isFoodPurchasable:{type:Boolean,default:!1},isPurchasable:{type:Boolean,default:!1},isCacom:{type:Boolean,default:!1},isCheckable:{type:Boolean,default:!1},hasPromotion:{type:Boolean,default:!1},isCncPurchasable:{type:Boolean,default:!1},hasSubstitution:{type:Boolean,default:!1},localRenderContext:{type:Object,default:function(){return{}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){z(t,e,i[e])})}return t}({},Object(a.c)({catalogue:"catalogues/getSelectedCatalogue"}))},N=Object(f.a)(F,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pdp-pricing"},[t.hasPromotion||t.coupon?i("div",{staticClass:"pdp-pricing__promotion-description"},[i("promotion-description",{attrs:{product:t.product,coupon:t.coupon,"render-context":t.localRenderContext}})],1):t._e(),t._v(" "),i("div",{staticClass:"pdp-pricing__group"},[i("div",{staticClass:"pdp-pricing__block-left"},[i("product-card-price",{attrs:{price:t.product.attributes.price,promotion:t.product.attributes.promotion,coupon:t.coupon}}),t._v(" "),t.product.attributes.price.perUnitLabel?i("ds-body-text",{attrs:{size:"s"}},[t._v("\n        "+t._s(t.product.attributes.price.perUnitLabel)+"\n      ")]):t._e(),t._v(" "),t.product.attributes.price.taxMessage?i("ds-body-text",{staticClass:"pdp-pricing-ecotaxe",attrs:{size:"xs"}},[t._v("\n        "+t._s(t.product.attributes.price.taxMessage)+"\n      ")]):t._e()],1),t._v(" "),i("div",{staticClass:"pdp-pricing__block-right"},[t.isMiniPdp?[t.isCacom?i("pdp-button-container",{attrs:{disabled:!0,product:t.product,"render-context":t.localRenderContext,"is-mini-pdp":t.isMiniPdp}}):t.store.isVirtual&&!t.isCheckable?i("pdp-button-container",{attrs:{product:t.product,"render-context":t.localRenderContext,"is-mini-pdp":t.isMiniPdp}}):t.isFoodPurchasable||t.hasSubstitution||t.isCncPurchasable?i("pdp-button-container",{attrs:{product:t.product,"render-context":t.localRenderContext,"is-substitution-button":t.hasSubstitution}}):t._e()]:t.isFoodPurchasable||t.hasSubstitution||t.isCncPurchasable?i("pdp-button-container",{attrs:{product:t.product,"render-context":t.localRenderContext,"is-substitution-button":t.hasSubstitution}}):t._e(),t._v(" "),t.isPurchasable||t.isCncPurchasable?i("promotion-feedback",{attrs:{ean:t.product.attributes.ean,"no-badge":!0}}):t._e()],2),t._v(" "),t.isMiniPdp?[t.isCacom?i("div",{staticClass:"pdp-pricing__availibility"},[i("ds-body-text",{attrs:{size:"s"}},[t._v("\n          "+t._s(t._f("trans")("catalogues.reader.shop.availability"))+"\n        ")])],1):t._e()]:t._e()],2)])},[],!1,null,null,null).exports,$=i("sT+p"),V=(i("Z2Ku"),i("L9s1"),i("pIFo"),i("IB+b")),U=i("+hws"),Z=i("ZUcm"),H=["available","critical","unavailable"],q={name:"AvailabilityIndicator",components:{DsBodyText:c.default},props:{stock:{type:String,required:!0,validator:function(t){return H.includes(t)}},isCnc:{type:Boolean,default:!1},isLad:{type:Boolean,default:!1}},computed:{variant:function(){return this.isLad&&"unavailable"===this.stock?".delivery":this.isCnc?".in-store":""}}},K=Object(f.a)(q,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["availability-indicator--"+this.stock,"availability-indicator"]},[e("ds-body-text",{attrs:{weight:"bold",size:"s"}},[this._v("\n    "+this._s(this._f("trans")("product.stock."+this.stock+this.variant))+"\n  ")])],1)},[],!1,null,null,null).exports;function Y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){W(t,e,i[e])})}return t}function W(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Q={name:"ProductAvailabilityCard",components:{StoreOpening:Z.a,AvailabilityIndicator:K,DsBodyText:c.default,AddToCart:T.a},filters:{distance:function(t){return t?"".concat(t.replace(".",",")," km"):""},currency:function(t){return t?"".concat(Object(V.e)(t),"€"):""},dateMonth:function(t){return Object(U.d)(t)}},props:{offer:{type:Object,required:!0},product:{type:Object,default:function(){return{}}},showDistance:{type:Boolean,default:!0},showPrice:{type:Boolean,default:!1},renderContext:{type:Object,default:function(){return{}}}},data:function(){return{localRenderContext:{}}},computed:Y({},Object(a.c)({isClickAndCollectEnabled:"shop/isClickAndCollectEnabled"}),{hasPromotion:function(){return!!this.offer.attributes.promotion&&this.offer.attributes.promotion.isPrixBarre},facility:function(){return this.offer.attributes.facility},stock:function(){return this.offer.attributes.stock},inStock:function(){return["available","critical"].includes(this.stock)},isClickAndCollect:function(){return o.a.get(this.offer,"attributes.facility.clickAndCollect",!1)},offerServiceId:function(){return o.a.get(this.offer,"attributes.offerServiceId",null)},shipmentKey:function(){return"product.availability.".concat(this.isClickAndCollect&&this.isClickAndCollectEnabled?"cnc":"checkonly")},directionURL:function(){var t=this.formatAddress(this.facility.address),e=this.facility.address.geoCoordinates,i=e.latitude,a=e.longitude,n="&origin=".concat(i,",").concat(a),o="&destination=".concat(t);return encodeURI("".concat("https://maps.google.com/maps/dir/?api=1").concat(n).concat(o))},finalPrice:function(){return this.hasPromotion?o.a.get(this.offer,"attributes.promotion.messageArgs.discountedPrice",0):o.a.get(this.offer,"attributes.price.price",0)},basketServiceId:function(){return o.a.get(this.offer,"attributes.basketServiceId",null)}}),mounted:function(){this.localRenderContext.storeId=this.facility.id},methods:Y({},Object(a.b)({analyticsTrackEvent:"analytics/trackEvent"}),{trackDirectionsClick:function(){this.analyticsTrackEvent({eventName:"checkOnlyMap",context:this.localRenderContext})},formatAddress:function(t){var e=t.postalCode,i=t.city,a=t.address1,n=t.address2;return e&&i&&a?"".concat(e," ").concat(i," ").concat(a," ").concat(n):"".concat(t.geoCoordinates.latitude,",").concat(t.geoCoordinates.longitude)}})},G=Object(f.a)(Q,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-availability-card",class:{"product-availability-card--cnc":t.isClickAndCollectEnabled,"product-availability-card--checkonly":!t.isClickAndCollectEnabled}},[i("div",{staticClass:"product-availability-card__left"},[i("h3",{staticClass:"product-availability-card__name"},[t._v("\n      "+t._s(t.facility.name)+"\n    ")]),t._v(" "),t.isClickAndCollectEnabled?i("div",{staticClass:"product-availability-card__opening"},[i("store-opening",{attrs:{store:t.facility,"show-icon":!t.isClickAndCollectEnabled}})],1):t._e(),t._v(" "),i("div",{staticClass:"product-availability-card__infos"},[i("div",{staticClass:"product-availability-card__availability"},[t.isClickAndCollectEnabled?t._e():i("div",{staticClass:"product-availability-card__opening"},[i("store-opening",{attrs:{store:t.facility,"show-icon":!t.isClickAndCollectEnabled}})],1),t._v(" "),i("div",{staticClass:"product-availability-card__stock"},[i("availability-indicator",{attrs:{stock:t.stock}})],1),t._v(" "),t.isClickAndCollectEnabled&&t.isClickAndCollect?i("div",{staticClass:"product-availability-card__shipment"},[t.inStock?i("ds-body-text",{attrs:{size:"s",weight:"bold",color:"standard-2"}},[t._v("\n            "+t._s(t._f("trans")(t.shipmentKey))+"\n          ")]):t._e()],1):t._e(),t._v(" "),!t.isClickAndCollect&&t.inStock?i("div",{staticClass:"product-availability-card__instore"},[i("ds-body-text",{attrs:{size:"s",weight:"bold",color:"standard-2"}},[t._v("\n            "+t._s(t._f("trans")("product.availability.instore"))+"\n          ")])],1):t._e()]),t._v(" "),t.isClickAndCollectEnabled&&t.inStock&&t.isClickAndCollect?i("div",{staticClass:"product-availability-card__cta"},[i("add-to-cart",{attrs:{"is-click-and-collect":t.isClickAndCollect&&t.isClickAndCollectEnabled,"offer-service-id":t.offerServiceId,"basket-service-id":t.basketServiceId,"render-context":t.renderContext,product:t.product}})],1):t._e()]),t._v(" "),t.showPrice?i("div",{staticClass:"product-availability-card__price"},[i("span",{staticClass:"product-availability-card__final-price",class:{"product-availability-card__final-price--discounted":t.hasPromotion}},[t._v("\n        "+t._s(t._f("currency")(t.finalPrice))+"\n      ")]),t._v(" "),t.hasPromotion?[i("span",{staticClass:"product-availability-card__initial-price"},[i("s",[t._v(t._s(t._f("currency")(t.offer.attributes.price.price)))])]),t._v(" "),i("span",{staticClass:"product-availability-card__promo-validity"},[t._v("\n          "+t._s(t._f("dateMonth")(t.offer.attributes.promotion.messageArgs.endDate))+"\n        ")])]:t._e()],2):t._e()]),t._v(" "),t.showDistance?i("div",{staticClass:"product-availability-card__right"},[i("a",{staticClass:"product-availability-card__gps",attrs:{href:t.directionURL,target:"_blank"},on:{click:t.trackDirectionsClick}})]):t._e()])},[],!1,null,null,null).exports,J=i("nM4t");function X(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){tt(t,e,i[e])})}return t}function tt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var et={name:"ProductAvailabilityList",components:{DsButton:M.a,ProductAvailabilityCard:G,StoreSearch:$.a,Loader:J.a},props:{ean:{type:String,required:!0},currentOffer:{type:Object,default:null},isCheckonly:{type:Boolean,default:!1},showPrice:{type:Boolean,default:!0},product:{type:Object,default:function(){return{}}},renderContext:{type:Object,default:function(){return{}}}},data:function(){return{searchOpened:!0,reset:!0,currentLocation:null,currentPage:1}},computed:X({},Object(a.c)({productAvailabilitySearchResults:"shop/productAvailabilitySearchResults",productAvailabilityLoading:"shop/productAvailabilityLoading",productAvailabilityNoMoreResult:"shop/productAvailabilityNoMoreResult",productAvailabilityErrorResult:"shop/productAvailabilityErrorResult",isClickAndCollectEnabled:"shop/isClickAndCollectEnabled",links:"links",store:"manage/getStore"}),{titleTransKey:function(){return this.isClickAndCollectEnabled?"product.availability.searchstore":this.isCheckonly?"product.availability.onlyinstore":"product.availability.alsoinstore"},hasNoResults:function(){return 0===this.productAvailabilitySearchResults.length},dataResponse:function(){return this.productAvailabilityErrorResult?{class:"product-availability-list__icon--error",message:this.$trans("product.offers.error")}:{class:"product-availability-list__icon--no-result",message:this.$trans("product.offers.no_result")}}}),mounted:function(){var t=o.a.get(this.currentOffer,"attributes.stock",0),e=o.a.get(this.store,"isVirtual",!0),i=o.a.get(this.store,"isLad",!0),a=o.a.get(this.store,"isOoshop",!0),n=o.a.get(this.store,"address.geoCoordinates.lat",0),r=o.a.get(this.store,"address.geoCoordinates.lon",0);t||e||i||a||(this.geoloc={lat:n,lng:r},this.searchAction(this.geoloc))},methods:X({},Object(a.b)({analyticsTrackEvent:"analytics/trackEvent",productAvailabilitySearch:"shop/productAvailabilitySearch"}),{toggleSearch:function(){this.searchOpened=!this.searchOpened},searchAction:function(t){this.page=1,this.analyticsTrackEvent({eventName:"checkOnlySelectAddress"}),this.productAvailabilitySearch({ean:this.ean,location:t,page:this.page,reset:!0}),this.currentLocation=t,this.reset=!1},moreResultAction:function(){this.productAvailabilityErrorResult||(this.page+=1),this.analyticsTrackEvent({eventName:"checkOnlyExtendStore"}),this.productAvailabilitySearch({ean:this.ean,location:this.currentLocation,page:this.page,reset:!1})},geolocateAction:function(){this.analyticsTrackEvent({eventName:"checkOnlyGeoloc"})}})},it=Object(f.a)(et,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-availability-list",attrs:{id:"data-produit-offer-locator"}},[i("h3",{staticClass:"product-availability-list__title",class:{"product-availability-list__title--checkonly":!t.isClickAndCollectEnabled}},[t._v("\n    "+t._s(t._f("trans")(t.titleTransKey))+"\n  ")]),t._v(" "),i("div",{staticClass:"product-availability-list__availability"},[t.currentOffer&&!t.isClickAndCollectEnabled?i("div",{staticClass:"product-availability-list__current-store-offer"},[i("product-availability-card",{attrs:{offer:t.currentOffer,"show-distance":!1,"show-price":!1,product:t.product}})],1):t._e(),t._v(" "),t.isClickAndCollectEnabled?t._e():i("div",{staticClass:"product-availability-list__search-toggle",class:{"product-availability-list__search-toggle--opened":t.searchOpened},on:{click:t.toggleSearch}},[t._v("\n      "+t._s(t._f("trans")("product.availability.searchstore"))+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchOpened,expression:"searchOpened"}],staticClass:"product-availability-list__search"},[i("div",{staticClass:"product-availability-list__search-field"},[i("store-search",{attrs:{"full-width":"",bordered:"",links:t.links,placeholder:t._f("trans")("store.locator.autocomplete.placeholder")},on:{search:t.searchAction,geolocate:t.geolocateAction,reset:function(e){t.reset=!0}}})],1),t._v(" "),t.reset?t._e():[t.productAvailabilityErrorResult?i("div",{staticClass:"product-availability-list__text"},[i("span",{staticClass:"product-availability-list__icon",class:t.dataResponse.class}),t._v(" "),i("span",{staticClass:"product-availability-list__message",domProps:{innerHTML:t._s(t.dataResponse.message)}})]):t._e(),t._v(" "),t.productAvailabilityLoading&&t.hasNoResults?i("div",{staticClass:"product-availability-list__text"},[i("loader")],1):t.hasNoResults?t._e():i("div",{staticClass:"product-availability-list__search-results"},[t._l(t.productAvailabilitySearchResults,function(e){return i("div",{key:e.id,staticClass:"product-availability-list__search-result"},[i("product-availability-card",{attrs:{offer:e,"show-price":t.showPrice,product:t.product,"render-context":t.renderContext}})],1)}),t._v(" "),t.productAvailabilityNoMoreResult?t._e():[t.productAvailabilityLoading?i("loader",{staticClass:"product-availability-list__search-more"}):i("ds-button",{staticClass:"product-availability-list__search-more",attrs:{modifiers:["secondary"],label:t._f("trans")("product.offers.more_result")},on:{clicked:t.moreResultAction}})]],2)]],2)])])},[],!1,null,null,null).exports,at=i("b/YL"),nt=i("TPQ+"),ot={name:"MarketplaceShippingInfo",components:{SvgIcon:nt.default,DsBodyText:c.default,DsTitle:d.default},props:{marketplace:{type:Object,required:!0},isLight:{type:Boolean,default:!1}},computed:{defaultShippingCharge:function(){return"number"==typeof this.marketplace.defaultShippingCharge?this.$trans("marketplace.shipping.chargeDefault",{defaultShippingCharge:this.marketplace.defaultShippingCharge}):""},freeShippingMinimum:function(){return"number"==typeof this.marketplace.freeShippingMinimum?this.$trans("marketplace.shipping.chargeFree",{freeShippingMinimum:this.marketplace.freeShippingMinimum}):""},shippingTime:function(){return"number"==typeof this.marketplace.shippingTimeMin&&"number"==typeof this.marketplace.shippingTimeMax?this.$trans("marketplace.shipping.time",{shippingTimeMin:this.marketplace.shippingTimeMin,shippingTimeMax:this.marketplace.shippingTimeMax}):""}}},rt=Object(f.a)(ot,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"marketplace-shipping-info",class:{"marketplace-shipping-info--light":t.isLight}},[i("svg-icon",{attrs:{name:"82",size:"l"}}),t._v(" "),i("div",[t.defaultShippingCharge||t.freeShippingMinimum?i("ds-title",{attrs:{tag:"span",size:"xs",weight:"bold"}},[t._v("\n      "+t._s(t.defaultShippingCharge)+"\n      "),t.defaultShippingCharge&&t.freeShippingMinimum?i("br"):t._e(),t._v("\n      "+t._s(t.freeShippingMinimum)+"\n    ")]):t._e(),t._v(" "),t.shippingTime?i("ds-body-text",{attrs:{tag:"span",size:"s"}},[t._v("\n      "+t._s(t.shippingTime)+"\n    ")]):t._e()],1)],1)},[],!1,null,null,null).exports;function st(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var lt={name:"MarketplaceSellerLabel",components:{PlLink:i("SjhC").a,SvgIcon:nt.default,DsBodyText:c.default},props:{sellerName:{type:String,required:!0},sellerLink:{type:String,required:!0},isLight:{type:Boolean,default:!1}},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){st(t,e,i[e])})}return t}({},Object(a.b)({analyticsTrackEvent:"analytics/trackEvent"}),{trackLink:function(){this.analyticsTrackEvent({eventName:"navEcommerce",context:{action:"vendeur",label:Object(V.a)(this.sellerName)}})}})},ct=Object(f.a)(lt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["marketplace-seller-label",{"marketplace-seller-label--light":t.isLight}],attrs:{"data-testid":"marketplace-seller-label"}},[i("span",{staticClass:"marketplace-seller-label__shipping-by"},[i("svg-icon",{attrs:{name:"82",size:"m"}}),t._v(" "),i("ds-body-text",{attrs:{tag:"span"}},[t._v("\n      "+t._s(t._f("trans")("marketplace.soldBy"))+"\n    ")])],1),t._v(" "),i("pl-link",{staticClass:"marketplace-seller-label__link",attrs:{href:t.sellerLink,title:t.$trans("marketplace.seller.backToShop")},on:{click:t.trackLink}},[t._v("\n    "+t._s(t.sellerName)+"\n  ")])],1)},[],!1,null,null,null).exports,dt=i("x2J8"),ut=i("lBY2");function pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){ht(t,e,i[e])})}return t}function ht(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var bt={name:"AddToCartConfirmationPopin",components:{DsTitle:d.default,PlButton:dt.default,VueModal:ut.default,VueImage:p.default},data:function(){return{localRenderContext:Object.assign({},this.renderContext)}},props:{showAddToCartConfirmation:{type:Boolean,default:!1},storeName:{type:String,default:""},lastBasketModifiedId:{type:String,default:""},renderContext:{type:Object,default:function(){return{}}}},computed:pt({},Object(a.c)({links:"links"})),methods:pt({},Object(a.b)({analyticsTrackEvent:"analytics/trackEvent"}),{onClose:function(t){t&&this.track(t),this.$emit("close")},track:function(t){this.analyticsTrackEvent({eventName:"ccAddToCart",context:Object.assign({},this.localRenderContext,{label:t})})},viewCart:function(){this.track("voir-mon-panier"),window.location.assign("".concat(this.links.cart,"/").concat(this.lastBasketModifiedId))}})},ft=Object(f.a)(bt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-to-cart-confirmation-popin"},[i("vue-modal",{directives:[{name:"show",rawName:"v-show",value:t.showAddToCartConfirmation,expression:"showAddToCartConfirmation"}],attrs:{"with-close":!0,"with-header":!1,"with-body":!0,"with-action":!1,"is-loading":!1},on:{close:function(e){return t.onClose("fermer")}}},[i("template",{slot:"body"},[i("vue-image",{attrs:{lazy:!1,alt:"",src:"/images/confirmation-add-to-cart.svg",classes:"add-to-cart-confirmation-popin__img"}}),t._v(" "),i("ds-title",{staticClass:"add-to-cart-confirmation-popin__msg",attrs:{tag:"h5"}},[t._v("\n        "+t._s(t.$trans("checkout.cc.cart.confirmation.add.product",{store:t.storeName}))+"\n      ")]),t._v(" "),i("pl-button",{on:{clicked:function(e){return t.onClose("continuer-mes-achats")}}},[t._v("\n        "+t._s(t._f("trans")("checkout.cc.cart.confirmation.other.title"))+"\n      ")]),t._v(" "),i("pl-button",{attrs:{variation:"tertiary"},on:{clicked:t.viewCart}},[t._v("\n        "+t._s(t._f("trans")("common.basketpanel.goto"))+"\n      ")])],1)],2)],1)},[],!1,null,null,null).exports,mt=i("7AAn"),vt=i("ML/U"),gt=i("BnyZ"),_t=i("OuO7"),yt=i("4Arf"),Ct=i("VFs4");function kt(t,e,i,a,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(a,n)}function Pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){St(t,e,i[e])})}return t}function St(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ot={name:"MainDetails",components:{DsBodyText:c.default,DsTitle:d.default,AddToShoppinglist:u.a,PdpHero:w,VueImage:p.default,ProductCardHighlightlabel:l.a,PdpButtonContainer:I,ProductAvailabilityList:it,AvailabilityIndicator:K,MarketplaceShippingInfo:rt,MarketplaceSellerLabel:ct,SvgIcon:nt.default,PlButton:dt.default,PdpPricing:N,AddToCartConfirmationPopin:ft,AddToCartMarketplacePopin:mt.a,InnitScore:vt.a,InnitPopinContainer:gt.a,AddToCartSellerPopin:_t.a,ProductBadge:yt.a,InnitScoreInfo:Ct.b},props:{product:{type:Object,required:!0},pageLinks:{type:Object,required:!1,default:null},renderContext:{type:Object,default:function(){return{}}},isFloating:{type:Boolean,default:!0},hasThumbs:{type:Boolean,default:!0},shouldSync:{type:Boolean,default:!0},isMiniPdp:{type:Boolean,default:!1},isWishable:{type:Boolean,default:!0},hasHighlightLabel:{type:Boolean,default:!0}},data:function(){return{localRenderContext:Object.assign({},this.renderContext),events:["scroll","resize"],footer:document.getElementById("colophon"),cardFloating:!1,cardMobileFloating:!1,scrollingEvent:null,pageIsLoaded:!1,displayAvailabilityButton:!0,hintVisible:!1,showAddToCartConfirmation:!1,lastStoreName:"",lastBasketModifiedId:"",innitScoreDiameter:37,showInnitPopin:!1,showSellerPopin:!1,sellerPopinData:null,showInnitScore:!1,lastYPos:null,analyticsTrackData:{labels:{goToScoreDetail:"score-innit",knowMore:"plus-info-innit",knowMorePopin:"plus-info-innit-affichage"}}}},watch:{coupon:function(t,e){!e&&t&&this.analyticsTrackEvent({eventName:"couponDisplayed",entities:{product:this.product.attributes.ean},context:Object.assign({},this.localRenderContext,{coupon:t})})},cardMobileFloating:function(t){this.localRenderContext.floating=t?2:0},cardFloating:function(t){this.localRenderContext.floating=t?1:0},isLoadedUser:{immediate:!0,handler:function(t){t&&this.getInnitCustomScore()}}},computed:Pt({},Object(a.c)({couponForEan:"shop/couponForEan",isClickAndCollectEnabled:"shop/isClickAndCollectEnabled",store:"manage/getStore",links:"links",catalogue:"catalogues/getSelectedCatalogue",UnablePurchaseMarketplaceProduct:"shop/UnablePurchaseMarketplaceProduct",isLoadedUser:"manage/isLoadedUser",innitCustomProductScore:"manage/innitCustomProductScore"}),{shoppingListEnabled:function(){var t,e,i;return Boolean(null===(t=this.product)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:null===(i=e.features)||void 0===i?void 0:i.shoppingList)},hasPromotion:function(){return!!this.product.attributes.promotion},isPurchasable:function(){return this.product.attributes.availability.purchasable},isCheckable:function(){return this.product.attributes.availability.checkable},isUnpublished:function(){return this.product.attributes.availability.suspended},isCheckonly:function(){return this.isCheckable&&!this.isPurchasable},isMarketplace:function(){return this.product.type===at.MARKETPLACE_ITEM},sellerPlpLink:function(){var t,e;return null===(t=this.pageLinks)||void 0===t?void 0:null===(e=t.seller)||void 0===e?void 0:e.products},isNonFood:function(){return this.product.type===at.NONFOOD_PRODUCT_ITEM},isCacom:function(){return"cacom"===this.product.type},currentStoreOffer:function(){return this.product.attributes.availability.currentStoreOffer},checkOnlyStock:function(){return this.currentStoreOffer?this.currentStoreOffer.attributes.stock:"unavailable"},isCncPurchasable:function(){return this.isCheckable&&this.isPurchasable},isFoodPurchasable:function(){return this.isPurchasable&&!this.isCheckable},hasSubstitution:function(){return this.product.relationships.substitution&&this.product.relationships.substitution.data.length>0},coupon:function(){if(!this.product.attributes.promotion)return this.couponForEan(this.product.attributes.ean)},isTabletDevice:function(){return g.DSViewport.isTabletPortrait()||g.DSViewport.isTabletLandscape()},isPortableDevice:function(){return g.DSViewport.isMobile()||this.isTabletDevice},cardFixedMobile:function(){return this.isPortableDevice&&this.product.type&&(this.isPurchasable||this.isCheckonly&&this.displayAvailabilityButton&&!this.isMiniPdp&&!this.isTabletDevice)},isHighlightLabeled:function(){return(this.product.attributes.highlightLabel||this.coupon)&&this.hasHighlightLabel},showPrice:function(){return null===this.product.attributes.promotion&&null===this.product.attributes.availability.currentStoreOffer},mustBeDelivered:function(){var t;return"HOME_DELIVERY"===(null===(t=this.store)||void 0===t?void 0:t.orderType)},selectStoreKey:function(){return this.catalogue?"product.availability.withdraw.selectStore":"product.availability.withdraw.".concat(this.store.isVirtual?"selectStore":"selectOtherStore")},unavailableKey:function(){var t;return"product.info.stopped"===(null===(t=this.product.attributes.highlightLabel)||void 0===t?void 0:t.key)?"product.info.stopped":"product.info.soon"},showAvailabilityIndicator:function(){return!this.catalogue&&!this.store.isVirtual},innitScore:function(){var t,e,i;return this.showInnitScore?this.innitCustomProductScore?this.innitCustomProductScore.score:(null===(t=this.product.attributes)||void 0===t?void 0:null===(e=t.innit)||void 0===e?void 0:null===(i=e.score)||void 0===i?void 0:i.value)>=0?this.product.attributes.innit.score:null:null},nutriscore:function(){var t,e;return null===(t=this.product.attributes)||void 0===t?void 0:null===(e=t.flags)||void 0===e?void 0:e.find(function(t){return 0===t.indexOf("flag.nutriscore")})},hasNutritionsValues:function(){var t,e;return null===(t=this.product.attributes)||void 0===t?void 0:null===(e=t.composition)||void 0===e?void 0:e.nutritions},isPromoTypeRi:function(){var t,e;return"ri"===(null===(t=this.product.attributes)||void 0===t?void 0:null===(e=t.promotion)||void 0===e?void 0:e.type)}}),methods:Pt({},Object(a.b)({indexEntity:"analytics/indexEntity",analyticsTrackEvent:"analytics/trackEvent",setUnablePurchaseMarketplaceProduct:"shop/setUnablePurchaseMarketplaceProduct",getUser:"manage/getUser",getInnitCustomScoreSingleProduct:"manage/getInnitCustomScoreSingleProduct"}),{sendTrackEvent:function(t){this.analyticsTrackEvent({eventName:"navEcommerce",context:{action:"info-produit",label:t}})},handleClickKnowMorePopin:function(){this.showInnitPopin=!0,this.sendTrackEvent(this.analyticsTrackData.labels.knowMorePopin),this.sendTrackEvent(this.analyticsTrackData.labels.knowMore)},fixedPDPCardMobile:function(){var t=this.$refs.mainDetailClickCollect,e=t?"ClickCollect":this.isCncPurchasable?"PdpPricing":"Pricing",i=this.$refs["mainDetail".concat(e)],a=this.$refs.mainDetailRight.getBoundingClientRect().bottom;i&&(t&&a>=200?this.resetCTAWrapper(i):(i.classList.add("main-details__pricing--fixed-mobile"),this.footer.style.marginBottom="".concat(i.offsetHeight,"px"),this.cardMobileFloating=!0))},floatingPDPCard:function(){var t=document.querySelector(".pdp-card");if(t)if(window.innerWidth>=1280){var e=document.querySelector(".pdp__main"),i=t.offsetHeight+t.offsetTop,a=this.footer.offsetTop-i-48;e.getBoundingClientRect().bottom<540?window.scrollY<=a||window.scrollY<=this.lastYPos?(t.removeAttribute("style"),this.cardFloating=!0,this.lastYPos=a-48):(t.style.position="absolute",t.style.top="".concat(this.lastYPos,"px")):this.cardFloating=!1}else this.cardFloating=!1},recommendationsTracker:function(){var t=document.querySelectorAll(".recommendations");(t=Array.from(t)).forEach(function(t){t&&Object(g.isElementInViewport)(t,-200)&&j.a.$emit("recommendationsInView",t.dataset.zone)})},scrollHandler:function(){!this.isCheckable&&this.isFloating&&this.floatingPDPCard(),this.cardFixedMobile&&this.$refs.mainDetailClickCollect&&this.fixedPDPCardMobile(),this.recommendationsTracker()},resetCTAWrapper:function(t){t.classList.remove("main-details__pricing--fixed-mobile"),this.footer.style.marginBottom=0,this.cardMobileFloating=!1},handleClickAvailabilityButton:function(){this.displayAvailabilityButton=!1,this.hintVisible=!1;var t=this.$refs.mainDetailClickCollect;this.isPortableDevice&&t&&(this.resetCTAWrapper(t),s()(t,{cancelOnUserAction:!1,maxDuration:500}))},displayTooltip:function(){var t=this.$refs.mainDetailAvailabilityButton.getBoundingClientRect().width;this.$refs.mainDetailTooltip.style.right="".concat(t,"px")},displaySellerPopin:function(t){var e=t.detail.seller;this.sellerPopinData=e,this.showSellerPopin=!0},getInnitCustomScore:function(){var t,e=(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasNutritionsValues){t.next=3;break}return this.showInnitScore=!0,t.abrupt("return");case 3:return t.next=5,this.getInnitCustomScoreSingleProduct(this.product.attributes.ean);case 5:this.showInnitScore=!0;case 6:case"end":return t.stop()}},t,this)}),function(){var e=this,i=arguments;return new Promise(function(a,n){var o=t.apply(e,i);function r(t){kt(o,a,n,r,s,"next",t)}function s(t){kt(o,a,n,r,s,"throw",t)}r(void 0)})});return function(){return e.apply(this,arguments)}}()}),mounted:function(){var t=this;this.cardFixedMobile&&this.fixedPDPCardMobile(),this.localRenderContext.business=this.isNonFood?"non-grocery":"alimentaire",this.localRenderContext.action="check"===this.product.meta.cta?"check-only":"click_product",this.localRenderContext.cnc=this.isCheckable,this.localRenderContext.basketServiceId=this.currentStoreOffer&&this.currentStoreOffer.attributes.basketServiceId,this.product&&this.indexEntity({type:"product",id:this.product.attributes.ean,data:this.product}),this.scrollingEvent=Object(n.throttle)(this.scrollHandler,10),this.events.forEach(function(e){window.addEventListener(e,t.scrollingEvent)}),window.addEventListener("load",function(){t.pageIsLoaded=!0}),this.isPortableDevice||this.isMiniPdp||!this.isCheckonly||(this.hintVisible=!0,this.displayTooltip()),document.addEventListener("onFirstAddToCncCart",function(e){t.lastStoreName=e.detail.storeName,t.lastBasketModifiedId=e.detail.lastBasketModifiedId,t.showAddToCartConfirmation=!0,t.analyticsTrackEvent({eventName:"ccAddToCart",context:Object.assign({},t.localRenderContext,{label:"affichage"})})}),document.addEventListener("firstSellersProductAdded",this.displaySellerPopin)},beforeDestroy:function(){var t=this;this.events.forEach(function(e){window.removeEventListener(e,t.scrollingEvent)}),document.removeEventListener("firstSellersProductAdded",this.displaySellerPopin)}},wt=Object(f.a)(Ot,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-details"},[i("meta",{attrs:{itemprop:"name",content:t.product.attributes.title}}),t._v(" "),i("meta",{attrs:{itemprop:"description",content:t.product.attributes.packaging||""}}),t._v(" "),i("meta",{attrs:{itemprop:"url",content:t.links.self.path}}),t._v(" "),i("meta",{attrs:{itemprop:"gtin13",content:t.product.attributes.ean}}),t._v(" "),i("span",{attrs:{itemscope:"itemscope",itemtype:"http://schema.org/Thing",itemprop:"brand"}},[i("meta",{attrs:{itemprop:"name",content:t.product.attributes.brand}})]),t._v(" "),i("span",{attrs:{itemscope:"itemscope",itemtype:"http://schema.org/Offer",itemprop:"offers"}},[i("meta",{attrs:{itemprop:"priceCurrency",content:t.$trans("common.currency")}}),t._v(" "),i("meta",{attrs:{itemprop:"availability",content:t.isPurchasable||t.isCncPurchasable?"InStock":"InStoreOnly"}}),t._v(" "),i("meta",{attrs:{itemprop:"itemCondition",content:"NewCondition"}}),t._v(" "),t.hasPromotion?[i("meta",{attrs:{itemprop:"priceValidUntil",content:t.product.attributes.promotion.messageArgs.endDate}}),t._v(" "),i("meta",{attrs:{itemprop:"validFrom",content:t.product.attributes.promotion.messageArgs.startDate}}),t._v(" "),i("meta",{attrs:{itemprop:"price",content:t.isPromoTypeRi?t.product.attributes.price.price:t.product.attributes.promotion.messageArgs.discountedPrice}}),t._v(" "),i("meta",{attrs:{itemprop:"eligibleQuantity",content:t.product.attributes.promotion.messageArgs.quantity}})]:i("meta",{attrs:{itemprop:"price",content:t.product.attributes.price.price}})],2),t._v(" "),i("div",{staticClass:"main-details__wrap"},[i("div",{staticClass:"main-details__header mobile-only"},[t.isHighlightLabeled||t.isMarketplace?i("div",{staticClass:"main-details__highlightlabel"},[t.isHighlightLabeled?i("product-card-highlightlabel",{attrs:{ean:t.product.attributes.ean,data:t.product.attributes.highlightLabel,coupon:t.coupon}}):t._e(),t._v(" "),t.isMarketplace?i("marketplace-seller-label",{attrs:{"seller-name":t.product.attributes.seller,"seller-link":t.sellerPlpLink,"is-light":t.cardFloating}}):t._e()],1):t._e(),t._v(" "),t.product.attributes.brand&&t.isNonFood?i("ds-title",{staticClass:"pdp-card__brand",attrs:{tag:"span",size:"m",weight:"light"}},[t._v("\n        "+t._s(t.product.attributes.brand)+"\n      ")]):t._e(),t._v(" "),i("ds-title",{attrs:{tag:"h1",size:"l",weight:"light"}},[t._v("\n        "+t._s(t.product.attributes.title)+"\n      ")]),t._v(" "),t.product.attributes.packaging?i("ds-body-text",{attrs:{tag:"span",color:"standard-2",weight:"bold"}},[t._v("\n        "+t._s(t.product.attributes.packaging)+"\n      ")]):t._e(),t._v(" "),t.product.attributes.origin?i("ds-title",{staticClass:"main-details__origin",attrs:{size:"l",weight:"medium",color:"standard-3"}},[t._v("\n        "+t._s(t.product.attributes.origin)+"\n      ")]):t._e(),t._v(" "),t.shoppingListEnabled?i("div",{staticClass:"main-details__shoppinglist",class:{"main-details__shoppinglist--mini-pdp mobile-only":t.isMiniPdp}},[t.isWishable?i("add-to-shoppinglist",{attrs:{id:"data-produit-favoris-mobile",ean:t.product.attributes.ean,"render-context":t.localRenderContext}}):t._e()],1):t._e()],1),t._v(" "),i("div",{staticClass:"main-details__left image"},[i("pdp-hero",{attrs:{ean:t.product.attributes.ean,images:t.product.attributes.images,title:t.product.attributes.title,flags:t.product.attributes.flags,freshness:t.product.attributes.freshness,"has-thumbs":t.hasThumbs,"should-sync":t.shouldSync,"is-mini-pdp":t.isMiniPdp}}),t._v(" "),t.hasSubstitution?i("div",{staticClass:"unavailable-layer"},[i("div",{staticClass:"unavailable-layer__block",class:{"unavailable-layer__block--visible":t.pageIsLoaded}},[i("ds-body-text",{attrs:{size:"s",color:"standard-2",weight:"bold"}},[t._v("\n            "+t._s(t._f("trans")(t.unavailableKey))+"\n          ")]),t._v(" "),i("ds-body-text",{attrs:{size:"xs"}},[t._v("\n            "+t._s(t._f("trans")("product.info.soon.substitute"))+"\n          ")]),t._v(" "),i("pdp-button-container",{attrs:{product:t.product,"render-context":t.localRenderContext,"is-substitution-button":t.hasSubstitution,variation:"primary"}})],1)]):t._e()],1),t._v(" "),i("div",{ref:"mainDetailRight",staticClass:"main-details__right",class:{"main-details__right--mini-pdp":t.isMiniPdp}},[i("div",{staticClass:"pdp-card",class:{"pdp-card--floating":t.cardFloating,"pdp-card--mini-pdp":t.isMiniPdp},attrs:{id:"data-produit-card"}},[i("div",{staticClass:"pdp-card__header desktop-only"},[i("div",{staticClass:"pdp-card__header--text"},[i("div",{staticClass:"main-details__highlightlabel"},[t.isHighlightLabeled?i("product-card-highlightlabel",{attrs:{ean:t.product.attributes.ean,data:t.product.attributes.highlightLabel,coupon:t.coupon}}):t._e(),t._v(" "),t.isMarketplace?i("marketplace-seller-label",{attrs:{"seller-name":t.product.attributes.seller,"seller-link":t.sellerPlpLink,"is-light":t.cardFloating}}):t._e()],1),t._v(" "),t.product.attributes.brand&&t.isNonFood?i("ds-title",{staticClass:"pdp-card__brand",attrs:{tag:"span",size:"m",weight:"light"}},[t._v("\n              "+t._s(t.product.attributes.brand)+"\n            ")]):t._e(),t._v(" "),i("ds-title",{staticClass:"pdp-card__title",attrs:{tag:"h1",size:"l",weight:"light"}},[t._v("\n              "+t._s(t.product.attributes.title)+"\n            ")]),t._v(" "),t.product.attributes.packaging?i("ds-body-text",{attrs:{tag:"span",color:"standard-2",weight:"bold"}},[t._v("\n              "+t._s(t.product.attributes.packaging)+"\n            ")]):t._e(),t._v(" "),t.product.attributes.origin?i("ds-title",{staticClass:"main-details__origin",attrs:{size:"l",weight:"medium"}},[t._v("\n              "+t._s(t.product.attributes.origin)+"\n            ")]):t._e()],1),t._v(" "),i("div",{staticClass:"pdp-card__header--thumb"},[i("vue-image",{staticClass:"pdp__image",attrs:{lazy:!0,src:t.product.attributes.images[0]["150x150"],alt:t.product.attributes.title,placeholder:"/images/loader-dots.svg"}})],1),t._v(" "),t.shoppingListEnabled?i("div",{staticClass:"main-details__shoppinglist"},[t.isWishable?i("add-to-shoppinglist",{attrs:{id:"data-produit-favoris",ean:t.product.attributes.ean,"render-context":t.localRenderContext}}):t._e()],1):t._e()]),t._v(" "),!t.isUnpublished&&!t.isCheckable||t.isCheckable&&t.isPurchasable?i("div",{ref:"mainDetailPricing",staticClass:"main-details__pricing"},[i("div",{ref:"mainDetailPdpPricing",staticClass:"main-details__pdp-pricing"},[i("pdp-pricing",{attrs:{product:t.product,store:t.store,coupon:t.coupon,"is-checkable":t.isCheckable,"is-mini-pdp":t.isMiniPdp,"is-cacom":t.isCacom,"local-render-context":t.localRenderContext,"is-food-purchasable":t.isFoodPurchasable,"has-substitution":t.hasSubstitution,"is-cnc-purchasable":t.isCncPurchasable,"is-purchasable":t.isPurchasable,"has-promotion":t.hasPromotion}})],1),t._v(" "),t.isCheckable?[i("div",{staticClass:"main-details__current-store"},[i("availability-indicator",{attrs:{stock:t.checkOnlyStock,"is-cnc":t.isCheckable,"is-lad":t.mustBeDelivered}})],1),t._v(" "),i("product-availability-list",{attrs:{ean:t.product.attributes.ean,"current-offer":t.currentStoreOffer,"is-checkonly":t.isCheckonly,"show-price":t.showPrice,"render-context":t.localRenderContext,product:t.product}})]:t._e()],2):t._e(),t._v(" "),i("div",{staticClass:"main-details__scores"},[t.nutriscore?[i("product-badge",{attrs:{flag:t.nutriscore}}),t._v(" "),i("ds-body-text",{staticClass:"main-details__nutriscore-title",attrs:{size:"s"}},[t._v("\n              "+t._s(t._f("trans")("flag.nutriscore.common.title"))+"\n            ")])]:t._e(),t._v(" "),t.showInnitScore&&t.innitScore?[t.innitScore.value>=0?i("a",{attrs:{href:"#innit-panel","data-testid":"innit-anchor-panel"},on:{click:function(e){return t.sendTrackEvent(t.analyticsTrackData.labels.goToScoreDetail)}}},[i("innit-score",{staticClass:"innit",attrs:{diameter:t.innitScoreDiameter,numerator:t.innitScore.value,grade:"innit--"+t.innitScore.rating.key}})],1):t._e(),t._v(" "),i("innit-score-info",{attrs:{"score-key":t.innitCustomProductScore&&t.innitCustomProductScore.score.rating.key||null,"score-value":t.innitCustomProductScore&&t.innitCustomProductScore.score.value||null,"show-more-popin":"","go-to-panel":""},on:{"innit-score-info":t.handleClickKnowMorePopin}})]:t._e()],2),t._v(" "),!t.isCheckable||t.isPurchasable||t.isUnpublished?t._e():i("div",{staticClass:"main-details__availability"},[i("div",{class:["main-details__click-collect",{"main-details__click-collect--mini-pdp":t.isMiniPdp}]},[i("div",{staticClass:"main-details__click-collect-header"},[i("svg-icon",{attrs:{name:"27",color:"color-standard-1"}}),t._v(" "),i("ds-title",{staticClass:"main-details__click-collect-title",attrs:{size:"s",variant:"bright"}},[t._v("\n                "+t._s(t._f("trans")("product.availability.withdraw.title"))+"\n              ")])],1),t._v(" "),i("div",{ref:"mainDetailClickCollect",staticClass:"main-details__click-collect-content"},[i("pdp-pricing",{attrs:{product:t.product,coupon:t.coupon,"is-mini-pdp":t.isMiniPdp,"is-cacom":t.isCacom,"is-checkable":!0,"local-render-context":t.localRenderContext,"is-food-purchasable":t.isFoodPurchasable,"has-substitution":t.hasSubstitution,"is-cnc-purchasable":t.isCncPurchasable,"is-purchasable":t.isPurchasable,"has-promotion":t.hasPromotion,store:t.store}}),t._v(" "),i("div",{ref:"mainDetailTooltip",staticClass:"main-details__hint",class:{"main-details__hint--hidden":!t.hintVisible}},[t.hintVisible?i("div",[i("svg-icon",{staticClass:"main-details__hint-close",attrs:{name:"08",color:"color-standard-1",size:"xs"},nativeOn:{click:function(e){t.hintVisible=!1}}}),t._v(" "),i("ds-body-text",{attrs:{weight:"bold",color:"inherit"}},[t._v("\n                    "+t._s(t._f("trans")("product.availability.hint.title"))+"\n                  ")]),t._v(" "),i("ds-body-text",{staticClass:"main-details__hint-text",attrs:{color:"inherit"}},[t._v("\n                    "+t._s(t._f("trans")("product.availability.hint.subtitle"))+"\n                  ")]),t._v(" "),i("pl-button",{staticClass:"main-details__hint-button",attrs:{variation:"tertiary",light:""},on:{clicked:function(e){t.hintVisible=!1}}},[t._v("\n                    "+t._s(t._f("trans")("action.close"))+"\n                  ")])],1):t._e()]),t._v(" "),t.showAvailabilityIndicator?i("div",{staticClass:"main-details__current-store"},[i("availability-indicator",{attrs:{stock:t.checkOnlyStock,"is-cnc":t.isCheckable,"is-lad":t.mustBeDelivered}})],1):t._e(),t._v(" "),t.displayAvailabilityButton?i("div",{ref:"mainDetailAvailabilityButton",staticClass:"main-details__click-collect-button"},[i("pl-button",{on:{clicked:t.handleClickAvailabilityButton}},[t._v("\n                  "+t._s(t._f("trans")(t.selectStoreKey))+"\n                ")])],1):i("div",{staticClass:"main-details__availability"},[i("product-availability-list",{attrs:{ean:t.product.attributes.ean,"current-offer":t.currentStoreOffer,"is-checkonly":t.isCheckonly,"show-price":t.showPrice,"render-context":t.localRenderContext,product:t.product}})],1)],1)])]),t._v(" "),t.isMarketplace&&t.product.attributes.marketplace?i("marketplace-shipping-info",{attrs:{marketplace:t.product.attributes.marketplace,"is-light":t.cardFloating}}):t._e()],1)])]),t._v(" "),i("add-to-cart-confirmation-popin",{attrs:{"show-add-to-cart-confirmation":t.showAddToCartConfirmation,"store-name":t.lastStoreName||t.store.name,"last-basket-modified-id":t.lastBasketModifiedId,"render-context":t.localRenderContext},on:{close:function(e){t.showAddToCartConfirmation=!1}}}),t._v(" "),t.UnablePurchaseMarketplaceProduct.displayPopin?i("add-to-cart-marketplace-popin",{attrs:{"show-add-to-cart-marketplace":t.UnablePurchaseMarketplaceProduct.displayPopin,product:t.UnablePurchaseMarketplaceProduct.product,zone:t.renderContext.zone},on:{close:function(e){return t.setUnablePurchaseMarketplaceProduct({displayPopin:!1,product:{}})}}}):t._e(),t._v(" "),i("innit-popin-container",{attrs:{"show-innit-popin":t.showInnitPopin,"is-custom-innit-score":!!t.innitCustomProductScore},on:{close:function(e){t.showInnitPopin=!1}}}),t._v(" "),t.showSellerPopin?i("add-to-cart-seller-popin",{attrs:{seller:t.sellerPopinData,links:t.pageLinks.seller,"render-context":t.localRenderContext},on:{close:function(e){t.showSellerPopin=!1}}}):t._e()],1)},[],!1,null,null,null);e.a=wt.exports},Ba9o:function(t,e,i){"use strict";i("xfY5");var a={name:"ZoomableImage",components:{VueImage:i("Jzu6").default},props:{src:{type:String,required:!0},zoomedSrc:{type:String,default:null},zoomRatio:{type:Number,default:2},alt:{type:String,default:""},lazy:{type:Boolean,default:!1}},data:function(){return{backgroundStyle:"background-image: url(".concat(this.zoomedSrc,"); background-size: ").concat(100*this.zoomRatio,"%;")}},methods:{onMove:function(t){var e=this.$el.getBoundingClientRect(),i=e.top,a=e.left,n=e.width,o=e.height,r=100*(t.clientX-a)/(n||1),s=100*(t.clientY-i)/(o||1),l="background-image: url(".concat(this.zoomedSrc,"); background-size: ").concat(100*this.zoomRatio,"%;");l+="background-position: ".concat(r,"% ").concat(s,"%;"),this.backgroundStyle=l}}},n=i("KHd+"),o=Object(n.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zoomable-image",style:t.backgroundStyle,on:{mousemove:t.onMove}},[i("vue-image",{staticClass:"image zoomable-image__image",attrs:{lazy:t.lazy,src:t.src,"data-src":t.src,alt:t.alt},on:{loading:function(e){return t.$emit("loading")},beforeunveil:function(e){return t.$emit("beforeunveil")}}})],1)},[],!1,null,null,null);e.a=o.exports}}]);